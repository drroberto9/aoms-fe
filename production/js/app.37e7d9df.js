(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],m=0,u=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"09e4":function(t,e,a){},"10dc":function(t,e,a){},"14d8":function(t,e,a){"use strict";a("2b07")},"18f0":function(t,e,a){t.exports=a.p+"img/Logo-USTP.9fbb4082.png"},2129:function(t,e,a){},"249a":function(t,e,a){"use strict";a("7362")},"24eb":function(t,e,a){"use strict";a("56e0")},"2b07":function(t,e,a){},"2efd":function(t,e,a){"use strict";a("78b8")},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="4678"},"4a6b":function(t,e,a){"use strict";a("712f")},5026:function(t,e,a){"use strict";a("9e46")},5202:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7");var i=a("2b0e"),n=a("43f9"),s=a.n(n),r=(a("51de"),a("e094"),a("5f5b")),o=a("b1e0"),c=(a("f9e3"),a("2dd8"),a("c4d7")),l=a("8e5f"),d=a.n(l),m=(a("e607"),a("21a6")),u=a.n(m),p=a("53ca"),f=(a("ac1f"),a("5319"),a("8c4f")),h=(a("99af"),a("4de4"),a("2f62")),v=a("bc3a"),g=a.n(v);i["default"].use(h["a"]);var b={user:JSON.parse(localStorage.getItem("user")),role:JSON.parse(localStorage.getItem("role")),campus:JSON.parse(localStorage.getItem("campus")),offices:JSON.parse(localStorage.getItem("offices")),token:localStorage.getItem("jwt-auth-token")||"",userAccount:JSON.parse(localStorage.getItem("userAccount")),userEntry:JSON.parse(localStorage.getItem("userEntry")),account_id:JSON.parse(localStorage.getItem("account_id")),taskHead:JSON.parse(localStorage.getItem("taskHead")),uploader:JSON.parse(localStorage.getItem("uploader")),coordinator:JSON.parse(localStorage.getItem("coordinator")),accreditor:JSON.parse(localStorage.getItem("accreditor")),suc:JSON.parse(localStorage.getItem("suc")),office:JSON.parse(localStorage.getItem("office")),application:JSON.parse(localStorage.getItem("application")),program:JSON.parse(localStorage.getItem("program")),instrument:JSON.parse(localStorage.getItem("instrument")),assigned_user_id:JSON.parse(localStorage.getItem("assigned_user_id")),accreditor_role:JSON.parse(localStorage.getItem("accreditor_role")),parameter:JSON.parse(localStorage.getItem("parameter")),container:JSON.parse(localStorage.getItem("container")),tabSelect:JSON.parse(localStorage.getItem("tabSelect")),url:JSON.parse(localStorage.getItem("url"))},_={isLoggedIn:function(t){return!!t.token}},y={login:function(t,e){return g.a.post("/auth/login",e)},checkUser:function(){return g.a.post("/auth/me")},logout:function(t){t.commit("LOGOUT_SUCCESSFULL")},registerSucUser:function(t,e){return g.a.post("/auth/registerSucUser/".concat(e.campus_id),e)},setRole:function(t,e){return g.a.post("/auth/setRole/".concat(e.user_id),e)},showCampusUser:function(t,e){return g.a.get("/auth/showCampusUser/".concat(e))},registerAaccupAccreditor:function(t,e){return g.a.post("/auth/registerAaccupAccreditor",e)},showAaccup:function(){return g.a.get("/auth/showAaccup")},showAccreditor:function(){return g.a.get("/auth/showAccreditor")},deleteSetRole:function(t,e){return g.a.delete("/auth/deleteSetRole/".concat(e.user_id,"/").concat(e.role_id,"/").concat(e.office_id))},editUser:function(t,e){return g.a.put("/auth/editUser/".concat(e.user_id),e)},changePassword:function(t,e){return g.a.post("/auth/changePassword/".concat(e.user_id),e)},resetPassword:function(t,e){return g.a.put("/auth/resetPassword/".concat(e))},showPersonalInfo:function(t,e){return g.a.get("/auth/showPersonalInfo/".concat(e))},savePersonalInfo:function(t,e){return g.a.put("/auth/savePersonalInfo/".concat(e.user_id),e)},createEducationInfo:function(t,e){return g.a.post("/auth/createEducationInfo/".concat(e.user_id),e)},showEducationInfo:function(t,e){return g.a.get("/auth/showEducationInfo/".concat(e))},editEducationInfo:function(t,e){return g.a.put("/auth/editEducationInfo/".concat(e.user_education_id),e)},deleteEducationInfo:function(t,e){return g.a.delete("/auth/deleteEducationInfo/".concat(e))},createWorkExperience:function(t,e){return g.a.post("/auth/createWorkExperience/".concat(e.user_id),e)},showWorkExperience:function(t,e){return g.a.get("/auth/showWorkExperience/".concat(e))},editWorkExperience:function(t,e){return g.a.put("/auth/editWorkExperience/".concat(e.user_work_id),e)},deleteWorkExperience:function(t,e){return g.a.delete("/auth/deleteWorkExperience/".concat(e))},showOtherInformation:function(t,e){return g.a.get("/auth/showOtherInformation/".concat(e))},editOtherInformation:function(t,e){return g.a.put("/auth/editOtherInformation/".concat(e.user_id),e)},showAccreditorProfile:function(t,e){return g.a.get("/auth/showAccreditorProfile/".concat(e))},editAccreditorProfile:function(t,e){return g.a.put("/auth/editAccreditorProfile/".concat(e.user_id),e)},addAccreditorSpecialization:function(t,e){return g.a.post("/auth/addAccreditorSpecialization/".concat(e.user_id),e)},showAccreditorSpecialization:function(t,e){return g.a.get("/auth/showAccreditorSpecialization/".concat(e))},deleteAccreditorSpecialization:function(t,e){return g.a.delete("/auth/deleteAccreditorSpecialization/".concat(e))},activateUser:function(t,e){return g.a.put("/auth/activateUser/".concat(e))},deleteUser:function(t,e){return g.a.put("/auth/deleteUser/".concat(e))},addToOffice:function(t,e){return g.a.post("/auth/addToOffice/".concat(e.user_id,"/").concat(e.office_id))},removeFromOffice:function(t,e){return g.a.put("/auth/removeFromOffice/".concat(e))},showLocalAccreditor:function(t,e){return g.a.get("/auth/showLocalAccreditor/".concat(e))},changeAccreditorStatus:function(t,e){return g.a.put("/auth/changeAccreditorStatus/".concat(e.user_id),e)},addToCampus:function(t,e){return g.a.post("/auth/addToCampus/".concat(e.campus_id,"/").concat(e.user_id))},addToOtherCampus:function(t,e){return g.a.post("/suc/addCampusUser",e)},showTF:function(t,e){return g.a.get("/auth/showTF/".concat(e))},showAllNotification:function(t,e){return g.a.get("/notification/showAllNotification/".concat(e))},viewNotification:function(t,e){return g.a.get("/notification/viewNotication/".concat(e))},deleteNotification:function(t,e){return g.a.delete("/notification/deleteNotification/".concat(e))},acceptDeclineReschedule:function(t,e){return g.a.post("/suc/acceptDeclineReschedule/".concat(e.request_id,"/").concat(e.user_id),e)},showAllApplication:function(){return g.a.get("/aaccup/showApplication")},approve:function(t,e){return g.a.put("/aaccup/approve/".concat(e.program_id),e)},reschedule:function(t,e){return g.a.post("/aaccup/rechedule/".concat(e.program_id,"/").concat(e.user_id),e)},reject:function(t,e){return g.a.put("/aaccup/reject/".concat(e))},request:function(t,e){return g.a.post("/aaccup/request/".concat(e.user_id,"/").concat(e.program_id),e)},addRequest:function(t,e){return g.a.post("/aaccup/addRequest/".concat(e.user_id,"/").concat(e.program_id),e)},editAcceptableScoreGap:function(t,e){return g.a.put("/aaccup/editAcceptableScoreGap",e)},registerQA:function(t,e){return g.a.post("/aaccup/registerQA/".concat(e.campus_id),e)},viewRequest:function(t,e){return g.a.get("/accreditor/viewRequest/".concat(e))},acceptRequest:function(t,e){return g.a.put("/accreditor/acceptRequest/".concat(e))},rejectRequest:function(t,e){return g.a.put("/accreditor/rejectRequest/".concat(e.request_id),e)},showCoordinatorRequest:function(t,e){return g.a.get("/coordinator/showCoordinatorRequest/".concat(e))},requestCoordinator:function(t,e){return g.a.post("/coordinator/requestCoordinator/".concat(e.application_id,"/").concat(e.user_id))},removeCoordinatorRequest:function(t,e){return g.a.delete("/coordinator/removeCoordinatorRequest/".concat(e))},showMyAccreditationApplication:function(){return g.a.get("/coordinator/showMyAccreditationApplication")},showAccreditorInstrument:function(t,e){return g.a.get("/coordinator/showInstrument/".concat(e))},showAccreditorRequested:function(t,e){return g.a.get("/coordinator/showAccreditorRequested/".concat(e))},viewCoordinatorRequest:function(){return g.a.get("/coordinator/showMyRequest")},coordinatorApproveRequest:function(t,e){return g.a.put("/coordinator/approveRequest/".concat(e))},coordinatorRejectRequest:function(t,e){return g.a.put("/coordinator/rejectRequest/".concat(e))},reassignAccreditor:function(t,e){return g.a.put("/coordinator/reassignAccreditor/".concat(e.user_id,"/").concat(e.program_id,"/").concat(e.instrument_id))},showTaskInstrument:function(t,e){return g.a.get("/task/showInstrument/".concat(e.user_id,"/").concat(e.program_id))},uploadOwnDocument:function(t,e){var a=new FormData;a.append("document",e.document),a.append("type",e.type);for(var i=0;i<e.tag.length;i++)a.append("tag[]",e.tag[i]);return g.a.post("/document/uploadOwnDocument/".concat(e.user_id,"/").concat(e.statement_id),a,{headers:{"Content-Type":"multipart/form-data"}})},uploadOwnLink:function(t,e){return g.a.post("/document/uploadOwnDocument/".concat(e.user_id,"/").concat(e.statement_id),e)},showTaskParameter:function(t,e){return g.a.get("/task/showParameter/".concat(e.instrument_id,"/").concat(e.program_id))},deleteAccreditorRequest:function(t,e){return g.a.delete("/aaccup/deleteAccreditorRequest/".concat(e))},showApplication:function(t,e){return g.a.get("/application/showApplication/".concat(e))},viewFile:function(t,e){return g.a.get("/application/viewFile/".concat(e),{responseType:"blob"})},showProgramFile:function(t,e){return g.a.get("/application/showProgramFile/".concat(e))},showFileTFH:function(t,e){return g.a.get("/application/showFileTFH/".concat(e))},showFileQA:function(t,e){return g.a.get("/application/showFileQA/".concat(e))},showFileIA:function(t,e){return g.a.get("/application/showFileIA/".concat(e.program_id,"/").concat(e.user_id))},showFileEA:function(t,e){return g.a.get("/application/showFileEA/".concat(e.program_id,"/").concat(e.user_id))},showFileTF:function(t,e){return g.a.get("/application/showFileTF/".concat(e.program_id,"/").concat(e.user_id))},deleteProgramFile:function(t,e){return g.a.delete("/application/deleteProgramFile/".concat(e.document_id,"/").concat(e.user_id))},viewProgramFile:function(t,e){return g.a.get("/application/viewProgramFile/".concat(e),{responseType:"blob"})},uploadFile:function(t,e){for(var a=new FormData,i=0;i<e.filename.length;i++)a.append("filename[]",e.filename[i]);return g.a.post("/application/uploadFile/".concat(e.application_id),a,{headers:{"Content-Type":"multipart/form-data"}})},uploadProgramFile:function(t,e){for(var a=new FormData,i=0;i<e.filename.length;i++)a.append("filename[]",e.filename[i]);return a.append("type",e.type),a.append("area_number",e.area_number),g.a.post("/application/uploadFile/".concat(e.program_id,"/").concat(e.user_id),a,{headers:{"Content-Type":"multipart/form-data"}})},deleteFile:function(t,e){return g.a.delete("/application/deleteFile/".concat(e))},updateProgramFile:function(t,e){var a=new FormData;return a.append("file",e.file),g.a.post("/application/updateProgramFile/".concat(e.id),a,{headers:{"Content-Type":"multipart/form-data"}})},viewPPP:function(t,e){return g.a.get("/application/viewPPP/".concat(e),{responseType:"blob"})},viewCompliance:function(t,e){return g.a.get("/application/viewCompliance/".concat(e),{responseType:"blob"})},viewNarrative:function(t,e){return g.a.get("/application/viewNarrative/".concat(e),{responseType:"blob"})},submitApplication:function(t,e){return g.a.post("/application/submitApplication/".concat(e.application_id,"/").concat(e.suc_id))},createApplication:function(t,e){return g.a.post("/application/createApplication/".concat(e.suc_id,"/").concat(e.user_id),e)},editApplication:function(t,e){return g.a.put("/application/editApplication/".concat(e.application_id),e)},deleteApplication:function(t,e){return g.a.delete("/application/deleteApplication/".concat(e))},showSelectedProgram:function(t,e){return g.a.get("/application/showProgram/".concat(e))},lockSelfSurvey:function(t,e){return g.a.put("/application/lockSelfSurvey/".concat(e.program_id),e)},showProgramList:function(t,e){return g.a.get("/application/programList/".concat(e))},createSelectedProgram:function(t,e){return g.a.post("/application/program",e)},removeSelectedProgram:function(t,e){return g.a.delete("/application/delete/".concat(e))},editSelectedProgram:function(t,e){return g.a.put("/application/edit/".concat(e.program_id),e)},editLevel:function(t,e){return g.a.put("/application/editLevel/".concat(e.program_id),e)},changeApplication:function(t,e){return g.a.put("/application/changeApplication/".concat(e.application_id,"/").concat(e.program_id))},assignHeadTask:function(t,e){return g.a.post("/application/assignHeadTask/".concat(e.program_id),e)},deleteAssignedHeadUser:function(t,e){return g.a.delete("/application/deleteAssignedHeadUser/".concat(e.user_id,"/").concat(e.transaction_id))},assignTask:function(t,e){return g.a.post("/application/assignTask/".concat(e.instrument_id,"/").concat(e.program_id),e)},deleteAssignedUser:function(t,e){return g.a.delete("/application/deleteAssignedUser/".concat(e))},showStatementDocument:function(t,e){return g.a.get("/application/showStatementDocument/".concat(e.program_id,"/").concat(e.transaction_id))},attachSupportDocument:function(t,e){return g.a.post("/application/attachSupportDocument/".concat(e.benchmark_statement_id,"/").concat(e.document_id))},removeSupportDocument:function(t,e){return g.a.delete("/application/removeSupportDocument/".concat(e))},showAreaSupportDocument:function(t,e){return g.a.get("/application/showAreaSupportDocument/".concat(e))},attachAreaSupportDocument:function(t,e){return g.a.post("/application/attachAreaSupportDocument/".concat(e.instrument_id,"/").concat(e.document_id))},removeAreaSupportDocument:function(t,e){return g.a.delete("/application/removeAreaSupportDocument/".concat(e))},saveRecommendation:function(t,e){return g.a.post("/application/saveRecommendation/".concat(e.user_id),e)},showSFRData:function(t,e){return g.a.get("/application/showSFRData/".concat(e.program_id,"/").concat(e.role))},showPersonalSFRData:function(t,e){return g.a.get("/application/showPersonalSFRData/".concat(e.program_id,"/").concat(e.role))},showRecommendation:function(t,e){return g.a.get("/application/showRecommendation/".concat(e))},approveApplication:function(t,e){var a=new FormData;return a.append("filename",e.filename),a.append("end_of_validity",e.validity),g.a.post("/application/approveApplication/".concat(e.program_id),a,{headers:{"Content-Type":"multipart/form-data"}})},showProgramSAR:function(t,e){return g.a.get("/application/showProgramSAR/".concat(e.program_id,"/").concat(e.role))},updateInternalRole:function(t,e){return g.a.put("/application/updateInternalRole/".concat(e.program_id),e)},showAllCampus:function(){return g.a.get("/suc/showAllCampus")},showProgram:function(t,e){return g.a.get("/suc/showProgram/".concat(e))},addProgram:function(t,e){return g.a.post("/suc/addProgram/".concat(e.suc_id),e)},removeProgram:function(t,e){return g.a.delete("/suc/deleteProgram/".concat(e.program_id))},selectInstrument:function(t,e){return g.a.post("/suc/selectInstrument/".concat(e.program_id,"/").concat(e.instrument_id))},showDepartment:function(t,e){return g.a.get("/suc/showDepartment/".concat(e))},showProgramHead:function(t,e){return g.a.get("/task/showProgramHead/".concat(e))},showCollegeCoordinator:function(t,e){return g.a.get("/task/showCollegeCoordinator/".concat(e))},showTask:function(t,e){return g.a.get("/task/showProgram/".concat(e))},showInstrumentProgram:function(t,e){return g.a.get("/application/showInstrumentProgram/".concat(e))},addInstrument:function(t,e){return g.a.post("/application/addInstrument/".concat(e.instrument_id,"/").concat(e.program_id))},addInstrumentForm:function(t,e){return g.a.post("/instrument/addInstrument/".concat(e.instrument_id,"/").concat(e.program_id))},removeInstrument:function(t,e){return g.a.delete("/instrument/removeInstrument/".concat(e.instrument_id))},setScore:function(t,e){return g.a.put("/application/setScore/".concat(e.parameter_id,"/").concat(e.assigned_user_id),e)},showBestPractice:function(t,e){return g.a.get("/application/showBestPractice/".concat(e.parameter_id,"/").concat(e.assigned_user_id))},changeProgramFileStatus:function(t,e){return g.a.put("/application/changeProgramFileStatus",e)},saveMeanScore:function(t,e){return g.a.post("/application/saveAreaScore/".concat(e.instrument_id,"/").concat(e.assigned_user_id),e)},showOptionArea:function(t,e){return g.a.get("/application/showOptionArea/".concat(e))},createInstrument:function(t,e){return g.a.post("/instrument/createInstrument",e)},showProgramInstrument:function(){return g.a.get("/instrument/showProgram")},editInstrument:function(t,e){return g.a.put("/instrument/editProgram/".concat(e.id),e)},cloneInstrument:function(t,e){return g.a.post("/instrument/cloneInstrument/".concat(e.id),e)},deleteInstrument:function(t,e){return g.a.delete("/instrument/deleteProgram/".concat(e))},showInstrument:function(t,e){return g.a.get("/instrument/showInstrument/".concat(e))},setAreaMandatory:function(t,e){return g.a.post("/instrument/setAreaMandatory/".concat(e.id),e)},showCriteriaInstrument:function(t,e){return g.a.get("/instrument/showCriteriaInstrument/".concat(e))},createParameter:function(t,e){return g.a.post("/instrument/createParameter",e)},showParameter:function(t,e){return g.a.get("/instrument/showParameter/".concat(e))},editParameter:function(t,e){return g.a.put("/instrument/editParameter/".concat(e.id),e)},deleteParameter:function(t,e){return g.a.delete("/instrument/deleteParameter/".concat(e))},createStatement:function(t,e){return g.a.post("/instrument/createStatement/".concat(e.parameter_id),e)},deleteStatement:function(t,e){return g.a.delete("/instrument/deleteStatement/".concat(e.parameter_id,"/").concat(e.statement_id))},editStatement:function(t,e){return g.a.put("/instrument/editStatement",e)},showStatement:function(t,e){return g.a.get("/instrument/showStatement/".concat(e))},createCriteriaStatement:function(t,e){return g.a.post("/instrument/createCriteriaStatement/".concat(e.instrument_id),e)},addInstrumentTag:function(t,e){return g.a.post("/instrument/addInstrumentTag/".concat(e.id),e)},removeInstrumentTag:function(t,e){return g.a.delete("/instrument/removeInstrumentTag/".concat(e))},showInstrumentTag:function(t,e){return g.a.get("/instrument/showInstrumentTag/".concat(e))},showAppliedProgram:function(t,e){return g.a.get("/aaccup/showProgram/".concat(e))},showSuc:function(){return g.a.get("/aaccup/showSuc")},addSuc:function(t,e){return g.a.post("/aaccup/addSuc",e)},editSuc:function(t,e){return g.a.put("/aaccup/editSuc/".concat(e.id),e)},deleteSuc:function(t,e){return g.a.delete("/aaccup/deleteSuc/".concat(e))},setAccreditorLead:function(t,e){return g.a.put("/aaccup/setAccreditorLead/".concat(e))},showCampus:function(t,e){return g.a.get("/suc/showCampus/".concat(e))},addCampus:function(t,e){return g.a.post("/suc/addCampus/".concat(e.id),e)},editCampus:function(t,e){return g.a.put("/suc/editCampus/".concat(e.id),e)},deleteCampus:function(t,e){return g.a.delete("/suc/deleteCampus/".concat(e))},showOffice:function(t,e){return g.a.get("/suc/showOffice/".concat(e))},createOffice:function(t,e){return g.a.post("/suc/createOffice/".concat(e.id),e)},editOffice:function(t,e){return g.a.put("/suc/editOffice/".concat(e.id),e)},deleteOffice:function(t,e){return g.a.delete("/suc/deleteOffice/".concat(e))},editProgram:function(t,e){return g.a.put("/suc/editProgram/".concat(e.id),e)},addProgramOffice:function(t,e){return g.a.put("/suc/addOffice/".concat(e.program_id,"/").concat(e.office_id))},deleteProgramOffice:function(t,e){return g.a.put("/suc/deleteProgramOffice/".concat(e))},addOfficeBestPractice:function(t,e){return g.a.post("/suc/addBestPractice/".concat(e.office_id),e)},showOfficeBestPractice:function(t,e){return g.a.get("/suc/showBestPractice/".concat(e))},editOfficeBestPractice:function(t,e){return g.a.put("/suc/editBestPractice/".concat(e.best_practice_id),e)},deleteOfficeBestPractice:function(t,e){return g.a.delete("/suc/deleteBestPractice/".concat(e))},attachBestPracticeDocument:function(t,e){return g.a.post("/suc/attachDocument/".concat(e.best_practice_id,"/").concat(e.document_id))},deleteBestPracticeDocument:function(t,e){return g.a.delete("/suc/removeAttachDocument/".concat(e))},addBestPracticeTag:function(t,e){return g.a.post("/suc/addTag/".concat(e.id),e)},deleteBestPracticeTag:function(t,e){return g.a.delete("/suc/removeTag/".concat(e))},makeDocumentList:function(t,e){return g.a.post("/document/makeDocumentList/".concat(e.office_id),e)},showContainer:function(t,e){return g.a.get("/document/showContainer/".concat(e))},editContainer:function(t,e){return g.a.put("/document/editContainer/".concat(e.container_id),e)},deleteContainer:function(t,e){return g.a.delete("/document/deleteContainer/".concat(e))},showDocument:function(t,e){return g.a.get("/document/showDocument/".concat(e))},showAllContainer:function(t,e){return g.a.get("/document/showAllContainer/".concat(e.user_id,"/").concat(e.campus_id))},uploadDocument:function(t,e){for(var a=new FormData,i=0;i<e.documents.length;i++)a.append("documents[]",e.documents[i]);return a.append("type",e.type),g.a.post("/document/uploadDocument/".concat(e.user_id,"/").concat(e.container_id),a,{headers:{"Content-Type":"multipart/form-data"}})},uploadLink:function(t,e){return g.a.post("/document/uploadDocument/".concat(e.user_id,"/").concat(e.container_id),e)},deleteDocument:function(t,e){return g.a.delete("/document/deleteDocument/".concat(e))},removeDocument:function(t,e){return g.a.delete("/document/removeDocument/".concat(e))},addTag:function(t,e){return g.a.post("/document/addTag/".concat(e.id),e)},deleteTag:function(t,e){return g.a.delete("/document/deleteTag/".concat(e))},documentViewFile:function(t,e){return g.a.get("/document/viewFile/".concat(e),{responseType:"blob"})},documentType:function(t,e){return g.a.get("/document/viewLang/".concat(e))},generateAreaSAR:function(t,e){return g.a.get("/report/generateAreaSAR/".concat(e.instrument_id,"/").concat(e.program_id),{responseType:"blob"})},generateAreaSARInternal:function(t,e){return g.a.get("/report/generateAreaSARInternal/".concat(e.instrument_id,"/").concat(e.program_id),{responseType:"blob"})},generateProgramSAR:function(t,e){return g.a.get("/report/generateProgramSAR/".concat(e.user_id,"/").concat(e.program_id),{responseType:"blob"})},generateAccreditorReport:function(t,e){return g.a.get("/report/generateAccreditorReport/".concat(e),{responseType:"blob"})},generateAccreditorAreaReport:function(t,e){return g.a.get("/report/generateAccreditorAreaReport/".concat(e.program_id,"/").concat(e.instrument_id),{responseType:"blob"})},downloadOBE:function(t,e){return g.a.get("/report/downloadOBE/".concat(e.program_id,"/").concat(e.instrument_id),{responseType:"blob"})},showSFR:function(t,e){return g.a.get("/report/showSFR/".concat(e.program_id,"/").concat(e.role),{responseType:"blob"})},saveSFR:function(t,e){return g.a.post("/report/saveSFR/".concat(e.program_id,"/").concat(e.area_id),e)},viewSFR:function(t,e){return g.a.get("/report/viewSFR/".concat(e.program_id,"/").concat(e.area_id,"/").concat(e.role))},showTemplate:function(t,e){return g.a.get("/report/showTemplate/".concat(e))},addTemplate:function(t,e){var a=new FormData;a.append("file",e.file),a.append("template_name",e.template_name);for(var i=0;i<e.tags.length;i++)a.append("tags[]",e.tags[i]);return g.a.post("/report/addTemplate/".concat(e.id),a,{headers:{"Content-Type":"multipart/form-data"}})},deleteTemplate:function(t,e){return g.a.delete("/report/deleteTemplate/".concat(e))},showTagOption:function(){return g.a.get("/report/showTagOption")},addTemplateTag:function(t,e){return g.a.post("/report/addTemplateTag/".concat(e.id),e)},removeTemplateTag:function(t,e){return g.a.delete("/report/removeTemplateTag/".concat(e))},downloadTemplate:function(t,e){return g.a.get("/report/downloadFile/".concat(e),{responseType:"blob"})},addPPPStatement:function(t,e){return g.a.post("/ppp/addPPPStatement/".concat(e.parameter_id),e)},showPPPStatement:function(t,e){return g.a.get("/ppp/showPPPStatement/".concat(e))},editPPPStatement:function(t,e){return g.a.put("/ppp/editPPPStatement/".concat(e.ppp_statement_id),e)},deletePPPStatement:function(t,e){return g.a.delete("/ppp/deletePPPStatement/".concat(e))},attachPPPFile:function(t,e){return g.a.post("/ppp/attachFile/".concat(e.ppp_statement_id,"/").concat(e.document_id),e)},removePPPFile:function(t,e){return g.a.delete("/ppp/removeFile/".concat(e))},showAllBestPractice:function(t,e){return g.a.get("/ppp/showAllBestPractice/".concat(e))},downloadPPP:function(t,e){return g.a.get("/ppp/downloadPPP/".concat(e),{responseType:"blob"})},showUnreadMessage:function(t,e){return g.a.get("/message/showUnreadMessage/".concat(e))},showRemark:function(t,e){return g.a.get("/message/showRemark/".concat(e.program_id,"/").concat(e.statement_id,"/").concat(e.type))},sendRemark:function(t,e){return g.a.post("/message/sendRemark/".concat(e.program_id,"/").concat(e.statement_id),e)}},k={LOGIN_SUCCESSFUL:function(t,e){t.token=e.access_token,localStorage.setItem("jwt-auth-token",e.access_token)},STORE_CAMPUS:function(t,e){e&&(t.campus=e,localStorage.setItem("campus",JSON.stringify(e)))},STORE_USER:function(t,e){var a;t.user=e.user,t.role=e.role,localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("role",JSON.stringify(e.role)),null!==(a=e.office)&&void 0!==a&&a.length&&(t.offices=e.office.filter((function(e){return e.campus_id===t.campus.campus_id})),localStorage.setItem("offices",JSON.stringify(e.office.filter((function(e){return e.campus_id===t.campus.campus_id})))))},LOGOUT_SUCCESSFULL:function(t){t.token=null,localStorage.removeItem("jwt-auth-token"),localStorage.clear()},saveUserAccount:function(t,e){e.user?(t.userAccount=e.user,t.userEntry=e.userEntry,localStorage.setItem("userAccount",JSON.stringify(e.user)),localStorage.setItem("userEntry",JSON.stringify(e.userEntry))):(t.userAccount=e,t.userEntry=0,localStorage.setItem("userAccount",JSON.stringify(e)),localStorage.setItem("userEntry",JSON.stringify(0)))},saveAccountID:function(t,e){t.account_id=e,localStorage.setItem("account_id",JSON.stringify(e))},saveCoordinator:function(t,e){t.coordinator=e,localStorage.setItem("coordinator",JSON.stringify(e))},saveAccreditor:function(t,e){t.accreditor=e,localStorage.setItem("accreditor",JSON.stringify(e))},saveTaskHead:function(t,e){t.taskHead=e,localStorage.setItem("taskHead",JSON.stringify(e))},saveUploader:function(t,e){t.uploader=e,localStorage.setItem("uploader",JSON.stringify(e))},saveSUC:function(t,e){t.suc=e,localStorage.setItem("suc",JSON.stringify(e))},saveOffice:function(t,e){t.office=e,localStorage.setItem("office",JSON.stringify(e))},saveApplication:function(t,e){t.application=e,localStorage.setItem("application",JSON.stringify(e))},saveProgram:function(t,e){t.program=e,localStorage.setItem("program",JSON.stringify(e))},saveInstrument:function(t,e){t.instrument=e,localStorage.setItem("instrument",JSON.stringify(e))},saveAssignedUser:function(t,e){t.assigned_user_id=e,localStorage.setItem("assigned_user_id",JSON.stringify(e))},saveRole:function(t,e){t.accreditor_role=e,localStorage.setItem("accreditor_role",JSON.stringify(e))},saveParameter:function(t,e){t.parameter=e,localStorage.setItem("parameter",JSON.stringify(e))},saveContainer:function(t,e){t.container=e,localStorage.setItem("container",JSON.stringify(e))},saveTabSelect:function(t,e){t.tabSelect=e,localStorage.setItem("tabSelect",JSON.stringify(e))},saveURL:function(t,e){t.url=e,localStorage.setItem("url",JSON.stringify(e))}},x=new h["a"].Store({state:b,getters:_,actions:y,mutations:k}),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"signin"}},[i("md-card",{staticClass:"md-primary signin-form"},[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item box-welcome"},[i("md-card-header",{staticClass:"welcome-header"},[i("div",{staticClass:"md-title title center"},[t._v("\n            Welcome to Accreditation Online Management System\n          ")])]),i("md-card-content",{staticClass:"welcome-content"},[i("div",{staticClass:"ustp"},[t._v("\n            Powered by: University of Science and Technology of Southern\n            Philippines\n          ")])])],1),i("div",{staticClass:"md-layout-item box-login center"},[i("div",[i("div",{staticClass:"center"},[i("img",{attrs:{src:a("18f0"),height:"120",width:"120",alt:"logo"}})]),t.campusModal?i("div",[i("md-card-header",[i("div",{staticClass:"md-title login-title",staticStyle:{"font-size":"large"}},[t._v("\n                Select Campus\n              ")])]),i("md-card-content",[i("multiselect",{staticStyle:{"min-width":"400px"},attrs:{options:t.campusList,"custom-label":t.campusName,placeholder:null,required:""},model:{value:t.campusSelect,callback:function(e){t.campusSelect=e},expression:"campusSelect"}})],1),i("md-card-actions",{staticClass:"center"},[i("div",[i("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.campusModal=!1}}},[t._v("Cancel")])],1),i("p",[t._v(" ")]),i("div",[i("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.selectCampus(t.campusSelect)}}},[t._v("Select")])],1)])],1):i("div",[i("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("md-card-header",[i("div",{staticClass:"md-title login-title"},[t._v("Login to your account")])]),i("md-card-content",[i("div",{staticClass:"form-input"},[i("md-field",{staticStyle:{"min-width":"400px"}},[i("label",[t._v("Email")]),i("md-input",{attrs:{id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),i("md-field",{staticStyle:{"min-width":"400px"}},[i("label",[t._v("Password")]),i("md-input",{attrs:{id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t.loginError?i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.loginErrorText))]):t._e()]),i("md-card-actions",{staticClass:"center"},[i("div",[i("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[t._v("Login")])],1)])],1)])])])])])],1)},C=[],w=a("5530"),T=(a("7db0"),{data:function(){return{email:"",password:"",campusList:[],campusSelect:null,campusSelectName:"",campusModal:!1,message:null,loginErrorText:"",loginError:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({token:"token",role:"role",offices:"offices"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},checkRole:function(t,e){return t&&e?!!t.find((function(t){return t.role_id===e})):null===t||void 0===t||!t.length||void 0},login:function(){var t=this,e=this.email,a=this.password;this.$store.dispatch("login",{email:e,password:a}).then((function(e){t.$store.commit("LOGIN_SUCCESSFUL",e.data),t.$store.dispatch("checkUser").then((function(e){var a;e.data.campus.length>1?(t.campusList=e.data.campus,t.campusSelect=t.campusList[0],t.campusSelectName="",t.campusModal=!0):(null!==(a=t.$store.commit)&&void 0!==a&&a.length&&t.$store.commit("STORE_CAMPUS",e.data.campus[0]),t.$store.commit("STORE_USER",e.data),t.setRoute())})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))})).catch((function(){t.loginErrorText="Incorrect username or password.",t.loginError=!0}))},campusName:function(t){var e=t.campus_name;return"".concat(e)},selectCampus:function(t){var e=this;this.$store.dispatch("checkUser").then((function(a){var i;e.$store.commit("STORE_CAMPUS",t),e.$store.commit("STORE_USER",a.data),null!==(i=e.offices)&&void 0!==i&&i.length?e.setRoute():(e.store.dispatch("logout"),e.snackbarText="You do not have a role on this campus. Please select another.",e.makeToast("Error","danger"))})).catch((function(t){e.store.dispatch("logout"),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},setRoute:function(){this.checkRole(this.role,9)||this.checkRole(this.role,10)?this.$router.push("/ManageApplication"):this.checkRole(this.role,8)?this.$router.push("/AccreditationRequests"):this.checkRole(this.role,7)?this.$router.push("/InternalAccreditationTask"):this.checkRole(this.offices,5)||this.checkRole(this.offices,6)?this.$router.push("/PlanAccreditation"):this.checkRole(this.offices,3)||this.checkRole(this.offices,4)?this.$router.push("/ManageSupportUploads"):this.checkRole(this.offices,2)||this.checkRole(this.offices,11)?this.$router.push("/TaskForceHeadTask"):this.checkRole(this.offices,1)&&this.$router.push("/TaskForceTask")}},created:function(){this.token&&this.setRoute()}}),P=T,L=(a("5777"),a("2877")),A=Object(L["a"])(P,S,C,!1,null,"33405a44",null),$=A.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container",attrs:{id:"app"}},[a("md-app",{staticClass:"full-height",attrs:{"md-waterfall":"","md-mode":"fixed"}},[a("md-app-toolbar",{staticClass:"md-primary"},[t.menuVisible?t._e():a("md-button",{staticClass:"md-icon-button md-dense",on:{click:t.toggleMenu}},[a("md-icon",[t._v("menu")])],1),t.menuVisible?a("md-button",{staticClass:"md-icon-button md-dense",on:{click:t.toggleMenu}},[a("md-icon",[t._v("menu")])],1):t._e(),a("h3",{staticClass:"md-title"},[t._v("Accreditation Online Management System")]),a("div",{staticClass:"md-toolbar-section-end"},[a("div",{staticClass:"md-title",staticStyle:{padding:"10px"}},[t._v("\n          Hi "+t._s(t.user.first_name)+"!\n        ")]),t.notifications.length>0?a("md-badge",{attrs:{"md-content":t.notifications.length,"md-dense":""}},[a("b-dropdown",{attrs:{size:"sm",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("md-button",{staticClass:"md-icon-button md-dense"},[a("md-icon",[t._v("notifications")])],1)]},proxy:!0}],null,!1,389190558)},t._l(t.notifications,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.showNotification(e.id),t.selectNotification(e)}}},[a("h6",{staticStyle:{margin:"0","min-width":"max-content"}},[t._v("\n                  "+t._s(e.notif_type)+"\n                ")]),a("small",{staticStyle:{margin:"0"}},[t._v(t._s(t.setDate(e.updated_at)))])]),i<t.notifications.length-1?a("b-dropdown-divider"):t._e()],1)})),0)],1):a("md-button",{staticClass:"md-icon-button md-dense"},[a("md-icon",[t._v("notifications")])],1),a("b-dropdown",{attrs:{size:"sm",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("md-button",{staticClass:"md-icon-button md-dense",attrs:{"md-menu-trigger":""}},[a("md-icon",[t._v("person")])],1)]},proxy:!0}])},[a("b-dropdown-item",{attrs:{disabled:""}},[a("div",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.concatName(t.user)))]),a("div",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.user.email))])]),a("b-dropdown-item",{on:{click:t.manageAccount}},[t._v("Manage Account")]),a("b-dropdown-divider"),t.campusList.length>1?a("b-dropdown-item",{on:{click:function(e){t.changeSUC=!0,t.campusSelect=t.campus}}},[t._v("Change Campus")]):t._e(),a("b-dropdown-item",{on:{click:t.logout}},[t._v("Logout")])],1)],1)],1),a("md-app-drawer",{staticClass:"md-scrollbar",attrs:{"md-active":t.menuVisible,"md-persistent":"mini","md-permanent":"clipped"},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[a("md-list",{attrs:{"md-selectable":"single","md-sync-route":""}},[t.checkRole(10)||t.checkRole(9)?a("div",[a("md-list-item",{staticClass:"md-transparent md-dense",class:t.collapse1?null:"collapsed",staticStyle:{"font-size":"16px","font-weight":"bold",outline:"none !important"},attrs:{"aria-expanded":t.collapse1?"true":"false","aria-controls":"collapse-1"},on:{click:function(e){t.collapse1=!t.collapse1}}},[t.menuVisible?t._e():a("div",{staticStyle:{"margin-right":"25px"}},[t.collapse5?a("md-icon",[t._v("expand_less")]):a("md-icon",[t._v("expand_more")])],1),t.checkRole(10)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              AACCUP BOARD MEMBER\n            ")]):t.checkRole(9)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              AACCUP STAFF\n            ")]):t._e(),a("div",{staticClass:"md-toolbar-section-end",staticStyle:{"max-width":"max-content"}},[t.collapse1?a("md-icon",{staticClass:"md-dense"},[t._v("expand_less")]):a("md-icon",{staticClass:"md-dense"},[t._v("expand_more")])],1)]),a("b-collapse",{staticStyle:{width:"100%"},attrs:{id:"collapse-1"},model:{value:t.collapse1,callback:function(e){t.collapse1=e},expression:"collapse1"}},[a("md-list-item",{attrs:{to:"/ManageApplication"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("email")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Applications")])],1),a("md-list-item",{attrs:{to:"/UserRegister_AACCUP"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("account_circle")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Users")])],1),a("md-list-item",{attrs:{to:"/AccreditorRegister_AACCUP"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("supervised_user_circle")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Accreditors")])],1),a("md-list-item",{attrs:{to:"/ManageSUC"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("school")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage SUC")])],1),a("md-list-item",{attrs:{to:"/ManageInstrumentProgram"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("create")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Instrument")])],1)],1),a("md-divider")],1):t._e(),t.checkRole(5)||t.checkRole(6)?a("div",[a("md-list-item",{staticClass:"md-transparent md-dense",class:t.collapse2?null:"collapsed",staticStyle:{"font-size":"16px","font-weight":"bold",outline:"none !important"},attrs:{"aria-expanded":t.collapse2?"true":"false","aria-controls":"collapse-2"},on:{click:function(e){t.collapse2=!t.collapse2}}},[t.menuVisible?t._e():a("div",{staticStyle:{"margin-right":"25px"}},[t.collapse5?a("md-icon",[t._v("expand_less")]):a("md-icon",[t._v("expand_more")])],1),t.checkRole(5)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              QA OFFICE HEAD\n            ")]):t.checkRole(6)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              QA OFFICE MEMBER\n            ")]):t._e(),a("div",{staticClass:"md-toolbar-section-end",staticStyle:{"max-width":"max-content"}},[t.collapse2?a("md-icon",{staticClass:"md-dense"},[t._v("expand_less")]):a("md-icon",{staticClass:"md-dense"},[t._v("expand_more")])],1)]),a("b-collapse",{staticStyle:{width:"100%"},attrs:{id:"collapse-2"},model:{value:t.collapse2,callback:function(e){t.collapse2=e},expression:"collapse2"}},[a("md-list-item",{attrs:{to:"/PlanAccreditation"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("content_paste")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Application")])],1),a("md-list-item",{attrs:{to:"/UserRegister_SUC"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("account_circle")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Users")])],1),a("md-list-item",{attrs:{to:"/AccreditorRegister_SUC"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("supervised_user_circle")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Accreditors")])],1),a("md-list-item",{attrs:{to:"/ManageOffice"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("business_center")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Offices")])],1),a("md-list-item",{attrs:{to:"/ManageProgram"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("source")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Programs")])],1),a("md-list-item",{attrs:{to:"/ManageInstrumentProgram"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("create")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Instrument")])],1),a("md-list-item",{attrs:{to:"/ManageDocumentTemplate"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("upload_file")]),a("span",{staticClass:"md-list-item-text"},[t._v("Document Template")])],1)],1),a("md-divider")],1):t._e(),t.checkRole(8)?a("div",[a("md-list-item",{staticClass:"md-transparent md-dense",class:t.collapse3?null:"collapsed",staticStyle:{"font-size":"16px","font-weight":"bold",outline:"none !important"},attrs:{"aria-expanded":t.collapse3?"true":"false","aria-controls":"collapse-3"},on:{click:function(e){t.collapse3=!t.collapse3}}},[t.menuVisible?t._e():a("div",{staticStyle:{"margin-right":"25px"}},[t.collapse5?a("md-icon",[t._v("expand_less")]):a("md-icon",[t._v("expand_more")])],1),a("div",{staticClass:"md-toolbar-section-start"},[t._v("ACCREDITOR")]),a("div",{staticClass:"md-toolbar-section-end",staticStyle:{"max-width":"max-content"}},[t.collapse3?a("md-icon",{staticClass:"md-dense"},[t._v("expand_less")]):a("md-icon",{staticClass:"md-dense"},[t._v("expand_more")])],1)]),a("b-collapse",{staticStyle:{width:"100%"},attrs:{id:"collapse-3"},model:{value:t.collapse3,callback:function(e){t.collapse3=e},expression:"collapse3"}},[a("md-list-item",{attrs:{to:"/AccreditationRequests"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("email")]),a("span",{staticClass:"md-list-item-text"},[t._v("AACCUP Requests")])],1),a("md-list-item",{attrs:{to:"/AccreditationTask"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("description")]),a("span",{staticClass:"md-list-item-text"},[t._v("AACCUP Accreditation")])],1),a("md-list-item",{attrs:{to:"/InternalAccreditationTask"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("home_work")]),a("span",{staticClass:"md-list-item-text"},[t._v("SUC Self Survey")])],1)],1),a("md-divider")],1):t._e(),t.checkRole(3)||t.checkRole(4)?a("div",[a("md-list-item",{staticClass:"md-transparent md-dense",class:t.collapse4?null:"collapsed",staticStyle:{"font-size":"16px","font-weight":"bold",outline:"none !important"},attrs:{"aria-expanded":t.collapse4?"true":"false","aria-controls":"collapse-4"},on:{click:function(e){t.collapse4=!t.collapse4}}},[t.menuVisible?t._e():a("div",{staticStyle:{"margin-right":"25px"}},[t.collapse5?a("md-icon",[t._v("expand_less")]):a("md-icon",[t._v("expand_more")])],1),t.checkRole(3)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              SUPPORT OFFICE HEAD\n            ")]):t.checkRole(4)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              SUPPORT OFFICE MEMBER\n            ")]):t._e(),a("div",{staticClass:"md-toolbar-section-end",staticStyle:{"max-width":"max-content"}},[t.collapse4?a("md-icon",{staticClass:"md-dense"},[t._v("expand_less")]):a("md-icon",{staticClass:"md-dense"},[t._v("expand_more")])],1)]),a("b-collapse",{staticStyle:{width:"100%"},attrs:{id:"collapse-4"},model:{value:t.collapse4,callback:function(e){t.collapse4=e},expression:"collapse4"}},[a("md-list-item",{attrs:{to:"/ManageSupportUploads"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("archive")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Documents")])],1),a("md-list-item",{attrs:{to:"/ManageBestPractice"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("description")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Best Practice")])],1)],1),a("md-divider")],1):t._e(),t.checkRole(2)||t.checkRole(11)||t.checkRole(1)?a("div",[a("md-list-item",{staticClass:"md-transparent md-dense",class:t.collapse5?null:"collapsed",staticStyle:{"font-size":"16px","font-weight":"bold",outline:"none !important"},attrs:{"aria-expanded":t.collapse5?"true":"false","aria-controls":"collapse-5"},on:{click:function(e){t.collapse5=!t.collapse5}}},[t.menuVisible?t._e():a("div",{staticStyle:{"margin-right":"25px"}},[t.collapse5?a("md-icon",[t._v("expand_less")]):a("md-icon",[t._v("expand_more")])],1),t.checkRole(11)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              COLLEGE TASK FORCE HEAD\n            ")]):t.checkRole(2)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              PROGRAM TASK FORCE CHAIR\n            ")]):t.checkRole(1)?a("div",{staticClass:"md-toolbar-section-start"},[t._v("\n              TASK FORCE MEMBER\n            ")]):t._e(),a("div",{staticClass:"md-toolbar-section-end",staticStyle:{"max-width":"max-content"}},[t.collapse5?a("md-icon",{staticClass:"md-dense"},[t._v("expand_less")]):a("md-icon",{staticClass:"md-dense"},[t._v("expand_more")])],1)]),a("b-collapse",{staticStyle:{width:"100%"},attrs:{id:"collapse-5"},model:{value:t.collapse5,callback:function(e){t.collapse5=e},expression:"collapse5"}},[t.checkRole(2)||t.checkRole(11)?a("md-list-item",{staticClass:"md-primary",attrs:{to:"/TaskForceHeadTask"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("monitor")]),a("span",{staticClass:"md-list-item-text"},[t._v("Task Overview")])],1):t._e(),t.checkRole(2)||t.checkRole(1)?a("md-list-item",{attrs:{to:"/TaskForceTask"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("unarchive")]),a("span",{staticClass:"md-list-item-text"},[t._v("My Tasks")])],1):t._e(),t.checkRole(2)||t.checkRole(11)?a("md-list-item",{attrs:{to:"/TaskForceRegister"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("supervised_user_circle")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Task Force")])],1):t._e(),this.offices.filter((function(t){return 1===t.role_id||2===t.role_id||11===t.role_id}))?a("md-list-item",{attrs:{to:"/ManageTaskUploads"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("archive")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Documents")])],1):t._e(),this.offices.filter((function(t){return 1===t.role_id||2===t.role_id||11===t.role_id}))?a("md-list-item",{attrs:{to:"/ManageTaskBestPractice"}},[a("md-icon",{staticStyle:{"margin-right":"10px"}},[t._v("description")]),a("span",{staticClass:"md-list-item-text"},[t._v("Manage Best Practice")])],1):t._e()],1),a("md-divider")],1):t._e()])],1),a("md-app-content",[a("md-tabs",{staticStyle:{position:"sticky",top:"0","z-index":"99","margin-bottom":"20px"},attrs:{"md-sync-route":"","md-elevation":"1"}},t._l(t.tabList,(function(e,i){return a("div",{key:i},[a("md-tab",{attrs:{"md-label":e.name,to:t.checkLink(e)}})],1)})),0),a("b-modal",{attrs:{size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Campus")])]},proxy:!0}]),model:{value:t.changeSUC,callback:function(e){t.changeSUC=e},expression:"changeSUC"}},[a("multiselect",{attrs:{options:t.campusList,"custom-label":t.campusName,placeholder:null,required:""},model:{value:t.campusSelect,callback:function(e){t.campusSelect=e},expression:"campusSelect"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.changeSUC=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.storeCampus(),t.changeSUC=!1}}},[t._v("Change")])],1)])],1),a("b-modal",{attrs:{size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reschedule Program")])]},proxy:!0}]),model:{value:t.rescheduleApplication,callback:function(e){t.rescheduleApplication=e},expression:"rescheduleApplication"}},[t._v("\n        "+t._s(t.notification.content)+"\n        "),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.declineReschedule(),t.rescheduleApplication=!1}}},[t._v("Decline")])],1),a("div",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.acceptReschedule(),t.rescheduleApplication=!1}}},[t._v("Accept")])],1)])],1),a("b-modal",{attrs:{size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reschedule Program")])]},proxy:!0}]),model:{value:t.rescheduleResponse,callback:function(e){t.rescheduleResponse=e},expression:"rescheduleResponse"}},[t._v("\n        "+t._s(t.notification.content)+"\n        "),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.deleteNotification(),t.rescheduleResponse=!1}}},[t._v("Done")])],1)])],1),a("router-view")],1)],1)],1)},R=[],I=(a("9911"),a("c740"),a("a434"),a("c1df")),E=a.n(I),U={name:"app",data:function(){return{menuTitle:null,menuVisible:!0,rescheduleApplication:!1,rescheduleResponse:!1,changeSUC:!1,tabList:[],notifications:[],notification:{},details:{},campusList:[],campusSelect:[],collapse1:!1,collapse2:!1,collapse3:!1,collapse4:!1,collapse5:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",role:"role",taskHead:"taskHead",accreditor:"accreditor",uploader:"uploader",offices:"offices",program:"program",instrument:"instrument",parameter:"parameter"})),watch:{$route:function(){var t=this;this.tabList=this.$route.meta.tab,this.$store.dispatch("showAllNotification",this.user.id).then((function(e){t.notifications=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},collapse1:function(){!0===this.collapse1&&(this.collapse2=!1,this.collapse3=!1,this.collapse4=!1,this.collapse5=!1)},collapse2:function(){!0===this.collapse2&&(this.collapse1=!1,this.collapse3=!1,this.collapse4=!1,this.collapse5=!1)},collapse3:function(){!0===this.collapse3&&(this.collapse1=!1,this.collapse2=!1,this.collapse4=!1,this.collapse5=!1)},collapse4:function(){!0===this.collapse4&&(this.collapse1=!1,this.collapse2=!1,this.collapse3=!1,this.collapse5=!1)},collapse5:function(){!0===this.collapse5&&(this.collapse1=!1,this.collapse2=!1,this.collapse3=!1,this.collapse4=!1)}},methods:{setUserCampus:function(){var t=this;this.$store.dispatch("checkUser").then((function(e){t.campusList=e.data.campus}))},storeCampus:function(){var t=this;this.$store.commit("STORE_CAMPUS",this.campusSelect),this.$store.dispatch("checkUser").then((function(e){t.$store.commit("STORE_USER",e.data),t.checkRole(9)||t.checkRole(10)?t.$router.push("/ManageApplication"):t.checkRole(8)?t.$router.push("/AccreditationRequests"):t.checkRole(7)?t.$router.push("/InternalAccreditationTask"):t.checkRole(5)||t.checkRole(6)?t.$router.push("/PlanAccreditation"):t.checkRole(3)||t.checkRole(4)?t.$router.push("/ManageSupportUploads"):t.checkRole(2)||t.checkRole(11)?t.$router.push("/TaskForceHeadTask"):t.checkRole(1)&&t.$router.push("/TaskForceTask")})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},toggleMenu:function(){this.menuVisible=!this.menuVisible},manageAccount:function(){var t=this.user,e=1;this.$store.commit("saveUserAccount",{user:t,userEntry:e}),this.$store.commit("saveAccountID",this.user.id),this.checkRole(8)?this.$router.push("/accreditorProfile"):this.$router.push("/Profile")},setRole:function(t){return 1===t?"TASK FORCE MEMBER":2===t?"TASK FORCE HEAD":3===t?"SUPPORT OFFICE HEAD":4===t?"SUPPORT OFFICE MEMBER":5===t?"QA OFFICE HEAD":6===t?"QA OFFICE MEMBER":7===t||8===t?"ACCREDITOR":9===t?"AACCUP STAFF":10===t?"AACCUP BOARD MEMBER":void 0},checkRole:function(t){var e,a;return 1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t&&11!==t||null===(e=this.offices)||void 0===e||!e.length?7!==t&&8!==t&&9!==t&&10!==t||null===(a=this.role)||void 0===a||!a.length?void 0:!!this.role.find((function(e){return e.role_id===t})):!!this.offices.find((function(e){return e.role_id===t}))},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},checkLink:function(t){if("TaskForce"===t.link){if(0===this.taskHead)return"/TaskForceHeadTask";if(1===this.taskHead)return"/TaskForceTask"}else if("Accreditor"===t.link){if(0===this.accreditor)return"/AccreditationTask";if(1===this.accreditor)return"/InternalAccreditationTask"}else{if("ManageUploads"!==t.link)return t.link;if(0===this.uploader)return"/ManageSupportUploads";if(1===this.uploader)return"/ManageTaskUploads"}},selectNotification:function(t){"declined schedule"===t.notif_type?this.rescheduleApplication=!0:"accepted reschedule"!==t.notif_type&&"declined reschedule"!==t.notif_type||(this.rescheduleResponse=!0)},showNotification:function(t){var e=this;this.$store.dispatch("viewNotification",t).then((function(t){e.notification=t.data.notification,e.details=t.data.details})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},acceptReschedule:function(){var t=this,e=this.notification.id,a=this.user.id,i="".concat(this.details.institution_name," has accepted the new schedule on ").concat(E()(this.details.preferred_start_date).format("MMM Do")," to ").concat(E()(this.details.preferred_end_date).format("MMM Do YYYY")," for the program ").concat(this.details.program_name,"."),n="accepted";this.$store.dispatch("acceptDeclineReschedule",{request_id:e,user_id:a,message:i,decision:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("deleteNotification",t.notification.id).then((function(){var e=t.notifications.findIndex((function(e){return e.id===t.notification.id}));t.notifications.splice(e,1)})),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},declineReschedule:function(){var t=this,e=this.notification.id,a=this.user.id,i="".concat(this.details.institution_name," has declined the new schedule on ").concat(E()(this.details.preferred_start_date).format("MMM Do")," to ").concat(E()(this.details.preferred_end_date).format("MMM Do YYYY")," for the program ").concat(this.details.program_name,"."),n="declined";this.$store.dispatch("acceptDeclineReschedule",{request_id:e,user_id:a,message:i,decision:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("deleteNotification",t.notification.id).then((function(){var e=t.notifications.findIndex((function(e){return e.id===t.notification.id}));t.notifications.splice(e,1)})),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteNotification:function(){var t=this;this.$store.dispatch("deleteNotification",this.notification.id).then((function(){var e=t.notifications.findIndex((function(e){return e.id===t.notification.id}));t.notifications.splice(e,1)}))},campusName:function(t){var e=t.campus_name;return"".concat(e)},setDate:function(t){return E()(t).format("MM/DD/YYYY")}},created:function(){var t=this;this.setUserCampus(),this.menuTitle=this.setRole(this.role[0].role_id),"/ManageApplication"===this.$route.path?this.collapse1=!0:"/PlanAccreditation"===this.$route.path?this.collapse2=!0:"/AccreditationRequests"===this.$route.path?this.collapse3=!0:"/ManageSupportUploads"===this.$route.path?this.collapse4=!0:"/TaskForceHeadTask"!==this.$route.path&&"/TaskForceTask"!==this.$route.path||(this.collapse5=!0),window.innerWidth>=768?this.menuVisible=!0:this.menuVisible=!1,this.tabList=this.$route.meta.tab,this.$store.dispatch("showAllNotification",this.user.id).then((function(e){t.notifications=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}},O=U,F=(a("8e94"),Object(L["a"])(O,D,R,!1,null,null,null)),B=F.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},M=[],j={computed:Object(w["a"])({},Object(h["b"])({role:"role",offices:"offices"})),methods:{checkRole:function(t){var e,a;return 1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t&&11!==t||null===(e=this.offices)||void 0===e||!e.length?7!==t&&8!==t&&9!==t&&10!==t||null===(a=this.role)||void 0===a||!a.length?void 0:!!this.role.find((function(e){return e.role_id===t})):!!this.offices.find((function(e){return e.role_id===t}))}},created:function(){this.checkRole(5)||this.checkRole(6)?this.$router.push("/PlanAccreditation"):this.checkRole(3)||this.checkRole(4)?this.$router.push("/ManageSupportUploads"):this.checkRole(2)||this.checkRole(11)?this.$router.push("/TaskForceHeadTask"):this.checkRole(1)?this.$router.push("/TaskForceTask"):this.checkRole(9)||this.checkRole(10)?this.$router.push("/ManageApplication"):this.checkRole(8)?this.$router.push("/AccreditationRequests"):this.checkRole(7)&&this.$router.push("/InternalAccreditationTask")}},q=j,z=Object(L["a"])(q,N,M,!1,null,null,null),V=z.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Plan Accreditation")])]},proxy:!0}]),model:{value:t.newPreparation,callback:function(e){t.newPreparation=e},expression:"newPreparation"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createApplication(e)}}},[a("b-form-group",{attrs:{id:"newPreparation-group-1","label-cols":"4","label-cols-lg":"2",label:"Application Title:","label-for":"newPreparation-1"}},[a("b-form-input",{attrs:{id:"newPreparation-1",type:"text",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"10px 0 10px"},on:{click:function(e){t.setPrograms(t.newPrograms),t.newPreparation=!1,t.programSelect=!0}}},[t._v("Select Programs")]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.newPrograms,fields:t.fields_programSelect,"sort-by":t.sortBy_programs,"sort-desc":t.sortDesc_programs,"sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_programs=e},"update:sort-by":function(e){t.sortBy_programs=e},"update:sortDesc":function(e){t.sortDesc_programs=e},"update:sort-desc":function(e){t.sortDesc_programs=e}},scopedSlots:t._u([{key:"cell(program_name)",fn:function(e){return[e.item.program_name?a("span",[t._v("\n            "+t._s(e.item.program_name)+"\n          ")]):t._e()]}},{key:"cell(level)",fn:function(e){return[e.item.program_name?a("multiselect",{attrs:{options:t.levelList,placeholder:null,size:"sm",required:""},model:{value:e.item.level,callback:function(a){t.$set(e.item,"level",a)},expression:"row.item.level"}}):t._e()]}},{key:"cell(preferred_start_date)",fn:function(e){return[a("b-form-datepicker",{attrs:{size:"sm",min:new Date,required:""},model:{value:e.item.preferred_start_date,callback:function(a){t.$set(e.item,"preferred_start_date",a)},expression:"row.item.preferred_start_date"}})]}},{key:"cell(preferred_end_date)",fn:function(e){return[a("b-form-datepicker",{attrs:{size:"sm",min:e.item.preferred_start_date,required:""},model:{value:e.item.preferred_end_date,callback:function(a){t.$set(e.item,"preferred_end_date",a)},expression:"row.item.preferred_end_date"}})]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",staticStyle:{outline:"0"},attrs:{title:"Remove Program"},on:{click:function(a){return t.newPrograms.splice(e.index,1)}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.newPreparation=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Save")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Program")]),a("b-form-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search program",type:"text"},on:{input:function(e){return t.searchProgram(t.newPrograms)}},model:{value:t.programSearch,callback:function(e){t.programSearch=e},expression:"programSearch"}})]},proxy:!0}]),model:{value:t.programSelect,callback:function(e){t.programSelect=e},expression:"programSelect"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programList,fields:t.fields_programs,"current-page":t.currentPage_programs,"per-page":t.perPage_programs,"sort-by":t.sortBy_programs,"sort-desc":t.sortDesc_programs,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_programs=e},"update:sort-by":function(e){t.sortBy_programs=e},"update:sortDesc":function(e){t.sortDesc_programs=e},"update:sort-desc":function(e){t.sortDesc_programs=e}},scopedSlots:t._u([{key:"cell(duration_of_validity)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-raised md-dense md-primary",staticStyle:{outline:"0"},on:{click:function(a){return t.selectProgram(e.item)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_programs,"per-page":t.perPage_programs,align:"fill",size:"sm"},model:{value:t.currentPage_programs,callback:function(e){t.currentPage_programs=e},expression:"currentPage_programs"}}),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.programSelect=!1,t.newPreparation=!0}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Application Title")])]},proxy:!0}]),model:{value:t.changeTitle,callback:function(e){t.changeTitle=e},expression:"changeTitle"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editApplication()}}},[a("b-form-group",{attrs:{id:"changeTitle-group-1","label-cols":"4","label-cols-lg":"2",label:"Application Title:","label-for":"changeTitle-1"}},[a("b-form-input",{attrs:{id:"changeTitle-1",type:"text",required:""},model:{value:t.newTitle,callback:function(e){t.newTitle=e},expression:"newTitle"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.changeTitle=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteApplicationPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeApplication(),t.deleteApplicationPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteApplicationPrompt,callback:function(e){t.deleteApplicationPrompt=e},expression:"deleteApplicationPrompt"}},[t._v("\n    Are you sure you want to remove this application?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.title=null,t.newPrograms=[],t.newApplicationPrompt=!1,t.newPreparation=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.newApplicationPrompt=!1,t.newPreparation=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.newApplicationPrompt,callback:function(e){t.newApplicationPrompt=e},expression:"newApplicationPrompt"}},[t._v("\n    A previous application exists, do you want to continue?\n    ")]),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Select Prepared Application")]),a("b-form-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchPreparedApplication},model:{value:t.applicationSearch,callback:function(e){t.applicationSearch=e},expression:"applicationSearch"}})]},proxy:!0}]),model:{value:t.newApplication,callback:function(e){t.newApplication=e},expression:"newApplication"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterApplications(0),fields:t.fields_notSubmitted,"current-page":t.currentPage_notSubmitted,"per-page":t.perPage_notSubmitted,"sort-by":t.sortBy_notSubmitted,"sort-desc":t.sortDesc_notSubmitted,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_notSubmitted=e},"update:sort-by":function(e){t.sortBy_notSubmitted=e},"update:sortDesc":function(e){t.sortDesc_notSubmitted=e},"update:sort-desc":function(e){t.sortDesc_notSubmitted=e}},scopedSlots:t._u([{key:"cell(sender)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDateTime(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-raised md-dense md-primary",staticStyle:{outline:"0"},on:{click:function(a){t.newApplication=!1,t.application=e.item,t.applyApplication=!0}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterApplications(0)?t.filterApplications(0).length:0,"per-page":t.perPage_notSubmitted,align:"fill",size:"sm"},model:{value:t.currentPage_notSubmitted,callback:function(e){t.currentPage_notSubmitted=e},expression:"currentPage_notSubmitted"}}),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.newApplication=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Prepare for Accreditation")])]},proxy:!0}]),model:{value:t.applyApplication,callback:function(e){t.applyApplication=e},expression:"applyApplication"}},[t._v("\n    You are about to apply for accreditation.\n    "),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.applyApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.submitApplication()}}},[t._v("Proceed")])],1)])],1),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-application-0","md-label":"Plan Accreditation"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"250px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchApplication},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"230px",margin:"0"},on:{click:function(e){return t.planAccreditation()}}},[t._v("Prepare for Accreditation")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterApplications(0),fields:t.fields_prepared,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sender)",fn:function(e){return[t._v("\n            "+t._s(t.concatName(e.item))+"\n          ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDateTime(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"View Application"},on:{click:function(a){return t.select(e.item,"manage-application-0")}}},[a("md-icon",[t._v("forward")])],1),"under preparation"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Edit"},on:{click:function(a){t.application=e.item,t.newTitle=e.item.title,t.changeTitle=!0}}},[a("md-icon",[t._v("edit")])],1):t._e(),"under preparation"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",staticStyle:{outline:"0"},attrs:{title:"Delete"},on:{click:function(a){t.application=e.item,t.deleteApplicationPrompt=!0}}},[a("md-icon",[t._v("delete")])],1):t._e()]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterApplications(0)?t.filterApplications(0).length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-application-1","md-label":"On Going Accreditation"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"250px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchApplication},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.newApplication=!0}}},[t._v("Apply for Accreditation")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterApplications(1),fields:t.fields_ongoing,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sender)",fn:function(e){return[t._v("\n            "+t._s(t.concatName(e.item))+"\n          ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDateTime(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"View Application"},on:{click:function(a){return t.select(e.item,"manage-application-1")}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterApplications(1)?t.filterApplications(1).length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-application-2","md-label":"Accreditation History"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"250px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchApplication},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterApplications(2),fields:t.fields_done,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sender)",fn:function(e){return[t._v("\n            "+t._s(t.concatName(e.item))+"\n          ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDateTime(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"View Application"},on:{click:function(a){return t.select(e.item,2)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterApplications(2)?t.filterApplications(2).length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},Y=[],X=a("1da1"),W=(a("96cf"),a("25f0"),a("caad"),a("2532"),a("841c"),a("2ef0")),G=a.n(W),J=function(t){return t.toString().toLowerCase()},Q=function(t,e){return e?t.filter((function(t){return J(t.title).includes(J(e))})):t},K=function(t,e){return e?t.filter((function(t){return J(t.program_name).includes(J(e))})):t},Z=function(t,e){if(null!==e&&void 0!==e&&e.length)for(var a=function(a){t=t.filter((function(t){return t.id!==e[a].program_id}))},i=0;i<e.length;i++)a(i);return t},tt={name:"PlanAccreditation",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields_prepared:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"sender",label:"Prepared By",sortable:!0},{key:"updated_at",label:"Date Prepared",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"170px"}}],fields_ongoing:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"sender",label:"Prepared By",sortable:!0},{key:"updated_at",label:"Date Updated",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],fields_done:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"sender",label:"Prepared By",sortable:!0},{key:"updated_at",label:"Date Updated",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_notSubmitted:"id",sortDesc_notSubmitted:!1,totalRows_notSubmitted:1,currentPage_notSubmitted:1,perPage_notSubmitted:10,fields_notSubmitted:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"sender",label:"Prepared By",sortable:!0},{key:"updated_at",label:"Date Updated",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_programs:"program_name",sortDesc_programs:!1,totalRows_programs:1,currentPage_programs:1,perPage_programs:10,fields_programs:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"rating_obtained",label:"Rating Obtained",sortable:!0},{key:"accreditation_status",label:"Current Level",sortable:!0},{key:"duration_of_validity",label:"Validity",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_programSelect:"program_name",sortDesc_programSelect:!1,fields_programSelect:[{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Level Applied For",thStyle:{width:"20%"}},{key:"preferred_start_date",label:"Preferred Start Date",thStyle:{width:"25%"}},{key:"preferred_end_date",label:"Preferred End Date",thStyle:{width:"25%"}},{key:"actions",label:"Action",thStyle:{width:"70px"}}],sortBy_programSelected:"program_name",sortDesc_programSelected:!1,totalRows_programSelected:1,currentPage_programSelected:1,perPage_programSelected:10,fields_programSelected:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Level Applied For",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"task_force_head",label:"Task Force Head"},{key:"actions",label:"Actions"}],title:null,newTitle:null,newPrograms:[],programs:[],programList:[],applications:[],files:[],application:{},file:{},filename:[],programSelectedList:[],programSelected:{},userList:[],userHeadList:[],userSelect:[],roles:[],preferred_level:null,preferred_start_date:null,preferred_end_date:null,search:null,applicationSearch:null,programSearch:null,levelList:["Candidate","Level I","Level II","Level III, Phase 1","Level III, Phase 2","Level IV, Phase 1","Level IV, Phase 2"],upload:!1,newPreparation:!1,newApplication:!1,newApplicationPrompt:!1,applyApplication:!1,viewApplication:!1,viewMSI:!1,changeTitle:!1,deleteApplicationPrompt:!1,deleteFilePrompt:!1,deleteProgramPrompt:!1,programSelect:!1,snackbarText:"",fileEdit:!1,levelAndSchedule:!1,assignTaskForceHead:!1,deleteUserPrompt:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",tabSelect:"tabSelect"})),methods:{submitApplication:function(){var t=this,e=this.application.id,a=this.campus.suc_id;this.$isLoading(!0),this.$store.dispatch("submitApplication",{application_id:e,suc_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.applications=e.data.applications,t.files=e.data.files,t.totalRows=t.applications.length})),t.newApplication=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},planAccreditation:function(){var t;null!==this.title||null!==(t=this.newPrograms)&&void 0!==t&&t.length?this.newApplicationPrompt=!0:this.newPreparation=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setPrograms:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("showProgramList",this.campus.campus_id).then((function(a){e.programList=Z(a.data.programs,t),e.totalRows_programs=e.programList.length,e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},searchApplication:G.a.debounce((function(){var t=this;this.$store.dispatch("showApplication",this.campus.suc_id).then((function(e){t.applications=Q(e.data.applications,t.search),t.totalRows=t.applications.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchPreparedApplication:G.a.debounce((function(){var t=this;this.$store.dispatch("showApplication",this.campus.suc_id).then((function(e){t.applications=Q(e.data.applications,t.applicationSearch),t.totalRows_notSubmitted=t.applications.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchProgram:G.a.debounce((function(t){var e=this;this.$store.dispatch("showProgramList",this.campus.campus_id).then((function(a){var i=Z(a.data.programs,t);e.programList=K(i,e.programSearch),e.totalRows_programs=e.programList.length})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))}),500),createApplication:function(){var t=this;this.$isLoading(!0);var e=this.campus.suc_id,a=this.user.id,i=this.title,n=this.newPrograms;this.$isLoading(!0),this.$store.dispatch("createApplication",{suc_id:e,user_id:a,title:i,programs:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.applications=e.data.applications,t.files=e.data.files,t.totalRows=t.applications.length})),t.newPreparation=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.title=null,t.newPrograms=[]):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addProgram:function(){var t=this;this.$isLoading(!0);var e=this.application.id,a=this.programs.id,i=this.preferred_level,n=this.preferred_start_date,s=this.preferred_end_date;this.$store.dispatch("createSelectedProgram",{application_id:e,program_id:a,level:i,preferred_start_date:n,preferred_end_date:s}).then((function(e){if(!0===e.data.status){var a=e.data.applied_program.id,i=t.programs.program_name,n=e.data.applied_program.level,s=e.data.applied_program.preferred_start_date,r=e.data.applied_program.preferred_end_date;t.programSelectedList.push({id:a,program_name:i,level:n,preferred_start_date:s,preferred_end_date:r});var o=t.programList.findIndex((function(e){return e.id===t.application.id}));t.programList.splice(o,1),t.totalRows_programs=t.programList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.preferred_level="",t.preferred_start_date="",t.preferred_end_date=""}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},editApplication:function(){var t=this;this.$isLoading(!0);var e=this.application.id,a=this.newTitle;this.$store.dispatch("editApplication",{application_id:e,title:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.applications=e.data.applications,t.files=e.data.files,t.totalRows=t.applications.length})),t.newTitle=null,t.changeTitle=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeApplication:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteApplication",this.application.id).then((function(e){if(!0===e.data.status){var a=t.applications.findIndex((function(e){return e.id===t.application.id}));t.applications.splice(a,1),t.totalRows=t.applications.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterApplications:function(t){var e;if(null!==(e=this.applications)&&void 0!==e&&e.length){if(0===t)return this.applications.filter((function(t){return J(t.status)===J("under preparation")}));if(1===t)return this.applications.filter((function(t){return J(t.status)===J("pending")||J(t.status)===J("on going")}));if(2===t)return this.applications.filter((function(t){return J(t.status)===J("done")}))}},selectProgram:function(t){var e=t.id,a=t.program_name,i=this.getLevel(t.latest_applied_level);this.newPrograms.push({program_id:e,program_name:a,level:i});var n=this.programList.findIndex((function(e){return e.id===t.id}));this.programList.splice(n,1),this.totalRows_programs=this.programList.length},getLevel:function(t){return"For PSV Accreditation"===t?"Candidate":"Candidate"===t?"Level I":"Level I"===t?"Level II":"Level II"===t?"Level III, Phase 1":"Level III"===t?"Level IV":"Level III, Phase 1"===t?"Level III Phase 2":"Level III, Phase 2"===t?"Level IV, Phase 1":"Level IV"===t?"Level IV":"Level IV, Phase 1"===t||"Level IV, Phase 2"===t?"Level IV, Phase 2":void 0},formatDate:function(t){return E()(t).format("ll")},formatDateTime:function(t){return E()(t).format("llll")},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},select:function(t,e){this.$store.commit("saveApplication",t),this.$store.commit("saveTabSelect",e),this.$router.push("/ProgramSelect")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),"manage-application-0"!==t.tabSelect&&"manage-application-1"!==t.tabSelect&&"manage-application-2"!==t.tabSelect&&t.$store.commit("saveTabSelect","manage-application-0"),e.next=4,t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.applications=e.data.applications,t.files=e.data.files,t.totalRows=t.applications.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.$isLoading(!1);case 6:case"end":return e.stop()}}),e)})))()}},et=tt,at=Object(L["a"])(et,H,Y,!1,null,null,null),it=at.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Program")]),a("b-form-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search program",type:"text"},on:{input:t.searchProgram},model:{value:t.programSearch,callback:function(e){t.programSearch=e},expression:"programSearch"}})]},proxy:!0}]),model:{value:t.programSelect,callback:function(e){t.programSelect=e},expression:"programSelect"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programList,fields:t.fields_programs,"current-page":t.currentPage_programs,"per-page":t.perPage_programs,"sort-by":t.sortBy_programs,"sort-desc":t.sortDesc_programs,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_programs=e},"update:sort-by":function(e){t.sortBy_programs=e},"update:sortDesc":function(e){t.sortDesc_programs=e},"update:sort-desc":function(e){t.sortDesc_programs=e}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-raised md-dense md-primary",staticStyle:{outline:"0"},on:{click:function(a){t.preferred_start_date=null,t.preferred_end_date=null,t.programs=e.item,t.preferred_level=t.getLevel(e.item.latest_applied_level),t.levelAndSchedule=!0}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_programs,"per-page":t.perPage_programs,align:"fill",size:"sm"},model:{value:t.currentPage_programs,callback:function(e){t.currentPage_programs=e},expression:"currentPage_programs"}}),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.programSelect=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.programs.program_name))])]},proxy:!0}]),model:{value:t.levelAndSchedule,callback:function(e){t.levelAndSchedule=e},expression:"levelAndSchedule"}},[a("b-form-group",{attrs:{id:"levelAndSchedule-group-1",label:"Level Applied For:","label-for":"levelAndSchedule-1"}},[a("multiselect",{attrs:{id:"levelAndSchedule-1",options:t.levelList,placeholder:null,size:"sm",required:""},model:{value:t.preferred_level,callback:function(e){t.preferred_level=e},expression:"preferred_level"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("label",[t._v("Preferred Start Date:")]),a("b-form-datepicker",{attrs:{min:new Date},model:{value:t.preferred_start_date,callback:function(e){t.preferred_start_date=e},expression:"preferred_start_date"}})],1),a("div",{staticClass:"md-layout-item"},[a("label",[t._v("Preferred End Date:")]),a("b-form-datepicker",{attrs:{min:t.preferred_start_date},model:{value:t.preferred_end_date,callback:function(e){t.preferred_end_date=e},expression:"preferred_end_date"}})],1)]),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.levelAndSchedule=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addProgram(),t.levelAndSchedule=!1}}},[t._v("Submit")])],1)],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reschedule")])]},proxy:!0}]),model:{value:t.rescheduleApplication,callback:function(e){t.rescheduleApplication=e},expression:"rescheduleApplication"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editProgram()}}},[t._v("\n      Set new schedule for accreditation.\n      "),a("b-form-group",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"rescheduleApplication-group-1",label:"Start Date:","label-for":"rescheduleApplication-1"}},[a("b-form-datepicker",{attrs:{id:"rescheduleApplication-1",min:new Date,size:"sm",required:""},model:{value:t.preferred_start_date,callback:function(e){t.preferred_start_date=e},expression:"preferred_start_date"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"rescheduleApplication-group-2",label:"End Date:","label-for":"rescheduleApplication-2"}},[a("b-form-datepicker",{attrs:{id:"rescheduleApplication-2",min:t.preferred_start_date,size:"sm",required:""},model:{value:t.preferred_end_date,callback:function(e){t.preferred_end_date=e},expression:"preferred_end_date"}})],1)],1)])]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.rescheduleApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Reschedule")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Select Applied Level")])]},proxy:!0}]),model:{value:t.editLevelPrompt,callback:function(e){t.editLevelPrompt=e},expression:"editLevelPrompt"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editLevel()}}},[a("b-form-group",{attrs:{id:"editLevelPrompt-group-1",label:"Select Level:","label-for":"editLevelPrompt-1"}},[a("multiselect",{attrs:{options:t.levelList,placeholder:null,required:""},model:{value:t.newLevel,callback:function(e){t.newLevel=e},expression:"newLevel"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editLevelPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Application")])]},proxy:!0}]),model:{value:t.setApplication,callback:function(e){t.setApplication=e},expression:"setApplication"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.changeApplication()}}},[t._v("\n      Set new application for "+t._s(t.programSelected.program_name)+".\n\n      "),a("br"),a("br"),a("b-form-group",{attrs:{id:"setApplication-group-1",label:"Applications:","label-for":"setApplication-1"}},[a("multiselect",{attrs:{options:t.applications,"custom-label":t.applicationTitle,placeholder:null,required:""},model:{value:t.newApplication,callback:function(e){t.newApplication=e},expression:"newApplication"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.setApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Change")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Task Force Head")])]},proxy:!0}]),model:{value:t.assignTaskForceHead,callback:function(e){t.assignTaskForceHead=e},expression:"assignTaskForceHead"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignHeadTask()}}},[a("b-form-group",{attrs:{id:"assignTaskForceHead-group-1",label:"Task Force Head:","label-for":"assignTaskForceHead-1"}},[a("multiselect",{attrs:{options:t.filterTaskForceHead(t.userList,t.findUser(t.programSelected.id)),"custom-label":t.userNameAndOffice,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignTaskForceHead=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.assignTaskForceHead=!1}}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload File")])]},proxy:!0}]),model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadFile()}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("b-form-file",{attrs:{multiple:""},on:{input:function(e){return t.selectDocument()}},model:{value:t.selectedFilename,callback:function(e){t.selectedFilename=e},expression:"selectedFilename"}})],1),t.filename.length?a("div",t._l(t.filename,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{background:"white"},attrs:{type:"text",disabled:""},model:{value:t.filename[i].name,callback:function(e){t.$set(t.filename[i],"name",e)},expression:"filename[index].name"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeFilename(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),0):t._e(),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.upload=!1}}},[t._v("Cancel")]),t.filename.length?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"}},[t._v("Submit")])],1)],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteFilePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeFile(),t.deleteFilePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteFilePrompt,callback:function(e){t.deleteFilePrompt=e},expression:"deleteFilePrompt"}},[t._v("\n    Are you sure you want to remove this file?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Instrument")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteProgramPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeProgram(),t.deleteProgramPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteProgramPrompt,callback:function(e){t.deleteProgramPrompt=e},expression:"deleteProgramPrompt"}},[t._v("\n    Are you sure you want to remove this program?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.application.title))])])]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Application Documents:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.filename=[],t.selectedFilename=[],t.upload=!0}}},[t._v("Upload Files")])],1)]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.filterFiles(this.application.id),fields:t.fields_files,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc_files,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc_files=e},"update:sort-desc":function(e){t.sortDesc_files=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){t.file=e.item,t.downloadLetter(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(actions)",fn:function(e){return["under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",staticStyle:{outline:"0"},attrs:{title:"Delete File"},on:{click:function(a){t.file=e.item,t.deleteFilePrompt=!0}}},[a("md-icon",[t._v("delete")])],1):t._e()]}}])}),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Programs:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},["under preparation"===t.application.status?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.setPrograms(t.programSelectedList),t.programSelect=!0}}},[t._v("Select Programs")]):t._e()],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programSelectedList,fields:t.fields_programSelected,"current-page":t.currentPage_programSelected,"per-page":t.perPage_programSelected,"sort-by":t.sortBy_programSelected,"sort-desc":t.sortDesc_programSelected,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_programSelected=e},"update:sort-by":function(e){t.sortBy_programSelected=e},"update:sortDesc":function(e){t.sortDesc_programSelected=e},"update:sort-desc":function(e){t.sortDesc_programSelected=e}},scopedSlots:t._u([{key:"cell(level)",fn:function(e){return[t._v("\n        "+t._s(e.value)+"\n        "),"under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Remove"},on:{click:function(a){t.programSelected=e.item,t.newLevel=e.item.level,t.editLevelPrompt=!0}}},[a("md-icon",[t._v("edit")])],1):t._e()]}},{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(task_force_head)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(t.findUser(e.item.id)))+"\n        "),t.findUser(e.item.id)||"under preparation"!==t.application.status?"under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove"},on:{click:function(a){t.programSelected=e.item,t.deleteUserPrompt=!0}}},[a("md-icon",[t._v("close")])],1):t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Assign College Task Force Head"},on:{click:function(a){t.setUserList(),t.programSelected=e.item,t.userSelect=null,t.assignTaskForceHead=!0}}},[a("md-icon",[t._v("add_circle")])],1)]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Assign Internal Accreditor"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),"under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Reschedule"},on:{click:function(a){t.programSelected=e.item,t.preferred_start_date=null,t.preferred_end_date=null,t.rescheduleApplication=!0}}},[a("md-icon",[t._v("date_range")])],1):t._e(),"under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change Application Location"},on:{click:function(a){t.programSelected=e.item,t.newApplication=null,t.setApplication=!0}}},[a("md-icon",[t._v("edit_location_alt")])],1):t._e(),"under preparation"===t.application.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.programSelected=e.item,t.deleteProgramPrompt=!0}}},[a("md-icon",[t._v("delete")])],1):t._e()]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_programSelected,"per-page":t.perPage_programSelected,align:"fill",size:"sm"},model:{value:t.currentPage_programSelected,callback:function(e){t.currentPage_programSelected=e},expression:"currentPage_programSelected"}})],1)],1)},st=[],rt=a("2909"),ot=(a("3ca3"),a("ddb0"),a("2b3d"),function(t){return t.toString().toLowerCase()}),ct=function(t,e){return e?t.filter((function(t){return ot(t.program_name).includes(ot(e))})):t},lt=function(t,e){if(e)for(var a=function(a){t=t.filter((function(t){return t.id!==e[a].program_id}))},i=0;i<e.length;i++)a(i);return t},dt=function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return t.application_id===e})):t},mt=function(t){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return ot(t.status)===ot("under preparation")})):t},ut=function(t,e){if(e)return t.find((function(t){return t.application_program_id===e&&"college task force head"===t.role}))},pt={name:"ProgramSelect",data:function(){return{sortBy_programs:"program_name",sortDesc_programs:!1,totalRows_programs:1,currentPage_programs:1,perPage_programs:10,fields_programs:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"rating_obtained",label:"Rating Obtained",sortable:!0},{key:"accreditation_status",label:"Current Level",sortable:!0},{key:"duration_of_validity",label:"Validity",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_programSelect:"program_name",sortDesc_programSelect:!1,fields_programSelect:[{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Level Applied For"},{key:"preferred_start_date",label:"Preferred Start Date",thStyle:{width:"25%"}},{key:"preferred_end_date",label:"Preferred End Date",thStyle:{width:"25%"}},{key:"actions",label:"Action",thStyle:{width:"70px"}}],sortBy_programSelected:"program_name",sortDesc_programSelected:!1,totalRows_programSelected:1,currentPage_programSelected:1,perPage_programSelected:10,fields_programSelected:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Level Applied For",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"task_force_head",label:"Task Force Head"},{key:"actions",label:"Actions"}],sortBy_files:"id",sortDesc_files:!1,fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],title:null,programs:[],programList:[],msiList:[],applications:[],files:[],programFiles:[],file:{},filename:[],selectedFilename:[],programSelectedList:[],programSelected:{},userList:[],userHeadList:[],userSelect:null,roles:[],offices:[],preferred_level:null,preferred_start_date:null,preferred_end_date:null,newLevel:null,levelList:["Candidate","Level I","Level II","Level III, Phase 1","Level III, Phase 2","Level IV, Phase 1","Level IV, Phase 2"],newApplication:null,search:null,programSearch:null,instrument_id:null,upload:!1,deleteFilePrompt:!1,deleteProgramPrompt:!1,programSelect:!1,fileEdit:!1,levelAndSchedule:!1,editLevelPrompt:!1,rescheduleApplication:!1,assignTaskForceHead:!1,setApplication:!1,deleteUserPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",application:"application"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setPrograms:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("showProgramList",this.campus.campus_id).then((function(a){e.programList=lt(a.data.programs,t),e.totalRows_programs=e.programList.length,e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},getOffice:function(t){var e=t.find((function(t){return 11===t.role_id}));if(e)return e},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showCampusUser",this.campus.campus_id).then((function(e){t.userList=e.data.users.filter((function(t){return"active"===t.status})),t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchProgram:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgramList",this.campus.campus_id).then((function(e){t.programList=ct(e.data.programs,t.programSearch),t.totalRows_programs=t.programList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),addProgram:function(){var t=this;this.$isLoading(!0);var e=this.application.id,a=this.programs.id,i=this.preferred_level,n=this.preferred_start_date,s=this.preferred_end_date;this.$store.dispatch("createSelectedProgram",{application_id:e,program_id:a,level:i,preferred_start_date:n,preferred_end_date:s}).then((function(e){if(!0===e.data.status){t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.userHeadList=e.data.users,t.programFiles=e.data.files,t.totalRows_programSelected=t.programSelectedList.length}));var a=t.programList.findIndex((function(e){return e.id===t.application.id}));t.programList.splice(a,1),t.totalRows_programs=t.programList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.preferred_level="",t.preferred_start_date="",t.preferred_end_date=""}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},assignHeadTask:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.userSelect.user_id,i="college task force head";this.$store.dispatch("assignHeadTask",{program_id:e,user_id:a,role:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.userHeadList=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},uploadFile:function(){var t=this;this.$isLoading(!0);var e=this.application.id,a=this.filename;this.$store.dispatch("uploadFile",{application_id:e,filename:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.files=e.data.files})),t.upload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadLetter:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewFile",t.id).then((function(t){e.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",e.file.file_title),document.body.appendChild(i),i.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeFile:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteFile",this.file.id).then((function(e){if(!0===e.data.status){var a=t.files.findIndex((function(e){return e.id===t.file.id}));t.files.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},editProgram:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.preferred_start_date,i=this.preferred_end_date;this.$store.dispatch("editSelectedProgram",{program_id:e,preferred_start_date:a,preferred_end_date:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.userHeadList=e.data.users,t.programFiles=e.data.files,t.totalRows_programSelected=t.programSelectedList.length})),t.preferred_start_date="",t.preferred_end_date="",t.rescheduleApplication=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},editLevel:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.newLevel;this.$store.dispatch("editLevel",{program_id:e,level:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.userHeadList=e.data.users,t.programFiles=e.data.files,t.totalRows_programSelected=t.programSelectedList.length})),t.newLevel=null,t.editLevelPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},changeApplication:function(){var t=this;this.$isLoading(!0);var e=this.newApplication.id,a=this.programSelected.id;this.$store.dispatch("changeApplication",{application_id:e,program_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.userHeadList=e.data.users,t.programFiles=e.data.files,t.totalRows_programSelected=t.programSelectedList.length})),t.newApplication=null,t.setApplication=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeProgram:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeSelectedProgram",this.programSelected.id).then((function(e){if(!0===e.data.status){var a=t.programSelectedList.findIndex((function(e){return e.id===t.programSelected.id}));t.programSelectedList.splice(a,1),t.totalRows=t.programSelectedList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.findUser(this.programSelected.id).id;this.$store.dispatch("deleteAssignedHeadUser",{transaction_id:e,user_id:a}).then((function(e){if(!0===e.data.status){var i=t.userHeadList.findIndex((function(t){return t.id===a}));t.userHeadList.splice(i,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},getLevel:function(t){return"For PSV Accreditation"===t?"Candidate":"Candidate"===t?"Level I":"Level I"===t?"Level II":"Level II"===t?"Level III, Phase 1":"Level III"===t?"Level IV":"Level III, Phase 1"===t?"Level III Phase 2":"Level III, Phase 2"===t?"Level IV, Phase 1":"Level IV"===t?"Level IV":"Level IV, Phase 1"===t||"Level IV, Phase 2"===t?"Level IV, Phase 2":void 0},filterTaskForceHead:function(t,e){var a=[];if(null!==t&&void 0!==t&&t.length)for(var i=0;i<t.length;i++){var n;null!==(n=t[i].office_roles.filter((function(t){return 11===t.role_id})))&&void 0!==n&&n.length&&a.push(t[i])}if(e){var s=a.findIndex((function(t){return t.user_id===e.user_id}));a.splice(s,1)}return a},assignTaskForceList:function(t){if(this.userList)return this.userList.find((function(e){return e.user_id===t}))},addFilename:function(){null!==this.filename[this.filename.length-1]&&this.filename.push(null)},removeFilename:function(t){this.filename[0].splice(t,1)},filterFiles:function(t){return dt(this.files,t)},findUser:function(t){if(t)return ut(this.userHeadList,t)},selectDocument:function(){var t;this.filename?(t=this.filename).push.apply(t,Object(rt["a"])(this.selectedFilename)):this.filename=this.selectedFilename,this.selectedFilename=[]},select:function(t){this.$store.commit("saveProgram",t),this.$router.push("/ProgramInstrument")},back:function(){this.$router.push("/PlanAccreditation")},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},userNameAndOffice:function(t){return"".concat(this.concatName(t)," - ").concat(this.getOffice(t.office_roles)?this.getOffice(t.office_roles).office_name:"")},applicationTitle:function(t){var e=t.title;return"".concat(e)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showSelectedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.userHeadList=e.data.users,t.programFiles=e.data.files,t.totalRows_programSelected=t.programSelectedList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showApplication",t.campus.suc_id).then((function(e){t.applications=mt(e.data.applications),t.files=e.data.files})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},ft=pt,ht=Object(L["a"])(ft,nt,st,!1,null,null,null),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Ratings")])]},proxy:!0}]),model:{value:t.SAR,callback:function(e){t.SAR=e},expression:"SAR"}},[t.require_ratings.accreditation_status?a("h6",[t._v("\n      "+t._s(t.require_ratings.accreditation_status)+"\n    ")]):t._e(),a("span",[t._v("\n      Area mean should be >= "+t._s(t.roundNum(t.require_ratings.area_mean))+", while\n      grand mean should be >= "+t._s(t.roundNum(t.require_ratings.grand_mean))+".\n    ")]),a("br"),a("br"),a("div",[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.area_mean,fields:t.setReport(),"sort-by":t.sortBy_report,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_report=e},"update:sort-by":function(e){t.sortBy_report=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(area_mean)",fn:function(e){return[t.checkAreaMean(e.value)?a("div",[t._v(t._s(t.roundNum(e.value)))]):a("div",{staticStyle:{color:"red"}},[t._v(t._s(t.roundNum(e.value)))])]}},{key:"cell(weighted_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}}])}),t.checkLevel()?a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean.length?t.roundNum(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean.length?t.getDescription(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n          ")])])]):a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Total:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.result[0].total_weight)+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.roundNum(t.result[0].total_area_mean))+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.roundNum(t.result[0].total_weighted_mean))+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t.checkGrandMean(t.result[0].grand_mean)?a("div",[t._v("\n              "+t._s(t.roundNum(t.result[0].grand_mean))+"\n            ")]):a("div",{staticStyle:{color:"red"}},[t._v("\n              "+t._s(t.roundNum(t.result[0].grand_mean))+"\n            ")])])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.getDescription(t.result[0].grand_mean))+"\n          ")])])])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.SAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Self Survey Accreditor")])]},proxy:!0}]),model:{value:t.assignAccreditor,callback:function(e){t.assignAccreditor=e},expression:"assignAccreditor"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignTask(e)}}},[a("b-form-group",{attrs:{id:"assignAccreditor-group-1",label:"Self Survey Accreditor:","label-for":"assignAccreditor-1"}},[a("multiselect",{attrs:{options:t.filterTaskForce(t.userList,t.setUsers(t.instrumentSelect.id)),"custom-label":t.userNameAndStatus,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignAccreditor=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Select Policy")])]},proxy:!0}]),model:{value:t.selectPolicy,callback:function(e){t.selectPolicy=e},expression:"selectPolicy"}},[a("br"),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"100%"},on:{click:function(e){t.selectPolicy=!1,t.assignInstruments=!0}}},[t._v("Old")])],1),a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"100%"},on:{click:function(e){t.selectPolicy=!1,t.assignNewPolicy=!0}}},[t._v("New")])],1),a("div",{staticClass:"md-layout-item"})]),a("br"),a("br")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Instrument")])]},proxy:!0}]),model:{value:t.assignNewPolicy,callback:function(e){t.assignNewPolicy=e},expression:"assignNewPolicy"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.attachInstrument()}}},[a("b-form-group",{attrs:{id:"assignNewPolicy-group-1",label:"Instruments:","label-for":"assignNewPolicy-1"}},[a("multiselect",{attrs:{options:t.newMSIList,"custom-label":t.instrumentName,placeholder:null,required:""},model:{value:t.instrumentSelected,callback:function(e){t.instrumentSelected=e},expression:"instrumentSelected"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignNewPolicy=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Select")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Instrument")])]},proxy:!0}]),model:{value:t.assignInstruments,callback:function(e){t.assignInstruments=e},expression:"assignInstruments"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.attachInstrument()}}},[a("b-form-group",{attrs:{id:"assignInstruments-group-1",label:"Instruments:","label-for":"assignInstruments-1"}},[a("multiselect",{attrs:{options:t.msiList,"custom-label":t.instrumentName,placeholder:null,required:""},model:{value:t.instrumentSelected,callback:function(e){t.instrumentSelected=e},expression:"instrumentSelected"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignInstruments=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Select")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Optional Area")])]},proxy:!0}]),model:{value:t.assignForm,callback:function(e){t.assignForm=e},expression:"assignForm"}},[t.checkMSIList()?a("form",{on:{submit:function(e){return e.preventDefault(),t.attachForm()}}},[a("b-form-group",{attrs:{id:"assignForm-group-1",label:"Areas:","label-for":"assignForm-1"}},[a("multiselect",{attrs:{options:t.checkMSIList(),"custom-label":t.areaName,placeholder:null,required:""},model:{value:t.instrumentSelected,callback:function(e){t.instrumentSelected=e},expression:"instrumentSelected"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignForm=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1):a("div",[a("br"),a("h4",{staticClass:"text-center"},[t._v("No Optional Area")]),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignForm=!1}}},[t._v("Close")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Optional Area")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.removeFormPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeInstrument(),t.removeFormPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.removeFormPrompt,callback:function(e){t.removeFormPrompt=e},expression:"removeFormPrompt"}},[t._v("\n    Are you sure you want to remove this area?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Ratings")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.noSAR=!1}}},[t._v("Close")])]},proxy:!0}]),model:{value:t.noSAR,callback:function(e){t.noSAR=e},expression:"noSAR"}},[t._v("\n    Self survey for this program has not yet started\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:function(e){return t.setResult()}}},[t._v("Self Survey Results")])],1)]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("b",[t._v("Lock Self Survey")])]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"},attrs:{title:"Remove SUC Accreditor Access"}},[a("b-form-checkbox",{attrs:{switch:""},on:{change:function(e){return t.lockSelfSurvey()}},model:{value:t.self_survey_status,callback:function(e){t.self_survey_status=e},expression:"self_survey_status"}})],1)]):t._e()])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Program Files:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("PPP")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Compliance Report")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Narrative Report")]),a("b-form-select-option",{attrs:{value:4}},[t._v("SAR")]),a("b-form-select-option",{attrs:{value:5}},[t._v("SFR")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Rated Instrument")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search document",type:"text"},on:{input:function(e){return t.searchFileTable()}},model:{value:t.search_files,callback:function(e){t.search_files=e},expression:"search_files"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_files,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getType(e.item))+"\n      ")]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType()?t.filterByType().length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),t._v("\n    "+t._s(t.filterByType()?t.filterByType().length:0)+"\n\n    "),a("br"),"Candidate"!==t.program.level?a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Assign Master Survey Instrument:")])]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:function(e){t.instrumentSelected=null,t.selectPolicy=!0}}},[t._v("Attach Instrument")])],1):t._e()]),a("b-form-input",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"15px"},attrs:{disabled:""},model:{value:t.intended_program,callback:function(e){t.intended_program=e},expression:"intended_program"}})],1):t._e(),t.checkLevel()?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("\n          Add Area Form and Self Survey Accreditor:\n        ")])]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:function(e){t.instrumentSelected=null,t.assignForm=!0}}},[t._v("Assign Optional Area")])],1):t._e()]):a("h5",[t._v("Assign Self Survey Accreditor:")]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.areaList,fields:t.setFields(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(user)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(t.setUsers(e.item.id),(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.user_id=e.id,t.deleteUserPrompt=!0}}},[t._v(t._s(t.concatName(e)))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.setUserList(),t.instrumentSelect=e.item,t.userSelect=null,t.assignAccreditor=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(report_templates)",fn:function(e){return[t._v("\n        "+t._s(e.item.report_templates.length)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return["under preparation"===t.application.status&&"Optional"===e.item.type?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.instrumentSelect=e.item,t.removeFormPrompt=!0}}},[a("md-icon",[t._v("delete")])],1):t._e()]}}])}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Assign Lead Self Survey Accreditor:")])]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-dropdown",{attrs:{text:"Assign Lead Accreditor",variant:"primary",dropleft:""}},t._l(t.filterUsers(),(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.updateInternalRole(e,t.filterUsers())}}},[t._v(t._s(t.concatName(e)))])],1)})),0)],1):t._e()]),a("b-form-input",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"15px"},attrs:{disabled:""},model:{value:t.headAccreditor,callback:function(e){t.headAccreditor=e},expression:"headAccreditor"}})],1)],1)},bt=[],_t=(a("b680"),function(t){return t.toString().toLowerCase()}),yt=function(t,e){return""!==e?t.filter((function(t){return _t(t.intended_program).includes(_t(e))})):t},kt=function(t,e){return e?t.filter((function(t){return _t(t.file_title).includes(_t(e))})):t},xt={name:"ProgramInstrument",data:function(){return{sortBy:"id",sortDesc:!1,currentPage:1,perPage:5,old_fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"user",label:"Self Survey Accreditor",sortable:!0},{key:"report_templates",label:"No. of Templates"}],new_fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Criteria",sortable:!0},{key:"user",label:"Self Survey Accreditor",sortable:!0},{key:"type",label:"Status",sortable:!0},{key:"report_templates",label:"No. of Templates"},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0}],sortBy_report:"area_number",fields_old_report:[{key:"area",label:"Area Name"},{key:"weight",label:"Weight",thStyle:{width:"150px"}},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}},{key:"weighted_mean",label:"Weighted Mean",thStyle:{width:"150px"}}],fields_new_report:[{key:"area",label:"Area Name"},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}}],msiList:[],formList:[],areaList:[],programList:[],programFiles:[],search_files:null,filterType:0,instrumentSelect:{},instrumentSelected:{},areaSelect:{},userList:[],roles:[],users:[],userSelect:null,MSISearch:"",user_id:null,instrument_id:null,area_mean:[],result:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],intended_program:null,require_ratings:{area_mean:null,grand_mean:null},newMSIList:[{id:42,intended_program:"Instrument for Level III"},{id:47,intended_program:"Instrument for Level IV"}],lock:!1,SAR:!1,noSAR:!1,createProgram:!1,selectPolicy:!1,assignInstruments:!1,assignNewPolicy:!1,assignForm:!1,assignAccreditor:!1,removeFormPrompt:!1,deleteUserPrompt:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({campus:"campus",application:"application",program:"program"})),{},{headAccreditor:{get:function(){var t;if(null!==(t=this.users)&&void 0!==t&&t.length){var e=this.users.find((function(t){return"internal accreditor - leader"===t.role}));return e?this.concatName(e):"No Accreditor Head"}return"No Accreditor Head"}},self_survey_status:{get:function(){return 1===this.program.self_survey_status}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchFileTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showFileQA",this.program.id).then((function(e){t.programFiles=kt(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterByType:function(){return 0===this.filterType?this.programFiles:1===this.filterType?this.programFiles.filter((function(t){return t.type.includes("PPP")})):2===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Compliance")})):3===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Narrative")})):4===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SAR")})):5===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SFR")})):6===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Rated Instrument")})):void 0},filterUsers:function(){var t,e=this,a=[];if(null!==(t=this.users)&&void 0!==t&&t.length){a.push(this.users[0]);for(var i=function(t){a.find((function(a){return a.user_id===e.users[t].user_id}))||a.push(e.users[t])},n=1;n<this.users.length;n++)i(n);return a}},assignTask:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.id,i=this.userSelect.user_id,n="internal accreditor";this.$store.dispatch("assignTask",{instrument_id:e,program_id:a,user_id:i,role:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignAccreditor=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},updateInternalRole:function(t,e){var a=this;this.$isLoading(!0);var i=this.program.id,n=[];if(null!==e&&void 0!==e&&e.length)for(var s=0;s<e.length;s++){var r=e[s].user_id,o="internal accreditor";n.push({user_id:r,role:o})}var c=n.findIndex((function(e){return e.user_id===t.user_id}));n[c].role="internal accreditor - leader",this.$store.dispatch("updateInternalRole",{program_id:i,users:n}).then((function(t){!0===t.data.status?(a.$store.dispatch("showInstrumentProgram",a.program.program_id).then((function(t){a.users=t.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")):(a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger"))})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},attachInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelected.id,a=this.program.program_id;this.$store.dispatch("selectInstrument",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")})),t.setFormOptions()})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignInstruments=!1,t.assignNewPolicy=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachForm:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelected.id,a=this.program.program_id;this.$store.dispatch("addInstrumentForm",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignInstruments=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.program_id;this.$store.dispatch("removeInstrument",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAssignedUser",this.user_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},lockSelfSurvey:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.self_survey_status;this.$store.dispatch("lockSelfSurvey",{program_id:e,status:a}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadTemplate:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("downloadTemplate",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.template_name+".docx"),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},setUsers:function(t){var e,a;if(t&&(a=this.users.filter((function(e){return e.transaction_id===t})),null!==(e=a)&&void 0!==e&&e.length))return a},checkMSIList:function(){var t,e,a=this,i=this.formList;if(null!==(t=this.areaList)&&void 0!==t&&t.length)for(var n=function(t){i=i.filter((function(e){return a.areaList[t].area_name!==e.area_name}))},s=0;s<this.areaList.length;s++)n(s);return null!==(e=i)&&void 0!==e&&e.length?i:null},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showLocalAccreditor",this.campus.suc_id).then((function(e){t.userList=e.data.users,t.roles=e.data.roles,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setResult:function(){"No Accreditor Head"!==this.headAccreditor?(this.showProgramSAR(),this.SAR=!0):this.noSAR=!0},setFormOptions:function(){var t=this;this.$store.dispatch("showOptionArea",this.program.id).then((function(e){t.formList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showProgramSAR:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=0;this.$store.dispatch("showProgramSAR",{program_id:e,role:a}).then((function(e){t.area_mean=e.data.areas,t.result=e.data.result,t.require_ratings=e.data.require_ratings,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkAreaMean:function(t){if(t&&this.require_ratings)return t>=this.require_ratings.area_mean},checkGrandMean:function(t){if(t&&this.require_ratings)return t>=this.require_ratings.grand_mean},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},filterTaskForce:function(t,e){if(null!==e&&void 0!==e&&e.length)for(var a=function(a){t=t.filter((function(t){return e[a].user_id!==t.user_id}))},i=0;i<e.length;i++)a(i);return t},getDescription:function(t){if(t)return t<1.5?"Poor":t>=1.5&&t<2.5?"Fair":t>=2.5&&t<3.5?"Satisfactory":t>=3.5&&t<4.5?"Very Satisfactory":t>=4.5&&t<5?"Excellent":null},getType:function(t){var e=t.type.replace("Internal","Self Survey");return t.area?e.concat(" - ",t.area):e},back:function(){this.$router.push("/ProgramSelect")},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},userNameAndStatus:function(t){return"".concat(this.concatName(t)," ").concat("Registered"===t.accreditor_status?"( AACCUP "+t.accreditor_status+")":"")},instrumentName:function(t){var e=t.intended_program;return"".concat(e)},areaName:function(t){var e=t.area_name;return"".concat(e)},checkLevel:function(){return!!this.intended_program&&!!this.intended_program.includes("Criteria Form")},setFields:function(){return this.checkLevel()?this.new_fields:this.old_fields},setReport:function(){return this.checkLevel()?this.fields_new_report:this.fields_old_report},searchMSI:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgramInstrument").then((function(e){t.msiList=yt(e.data,t.MSISearch)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showFileQA",t.program.id).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showProgramInstrument").then((function(e){t.msiList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$store.dispatch("showOptionArea",t.program.id).then((function(e){t.formList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 9:return e.next=11,t.$isLoading(!1);case 11:case"end":return e.stop()}}),e)})))()}},St=xt,Ct=(a("90c9"),Object(L["a"])(St,gt,bt,!1,null,"55502ebc",null)),wt=Ct.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Ratings")])]},proxy:!0}]),model:{value:t.SAR,callback:function(e){t.SAR=e},expression:"SAR"}},[t.require_ratings.accreditation_status?a("h6",[t._v("\n      "+t._s(t.require_ratings.accreditation_status)+"\n    ")]):t._e(),a("span",[t._v("\n      Area mean should be >= "+t._s(t.roundNum(t.require_ratings.area_mean))+", while\n      grand mean should be >= "+t._s(t.roundNum(t.require_ratings.grand_mean))+".\n    ")]),a("br"),a("br"),a("div",[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.area_mean,fields:t.fields_report,"sort-by":t.sortBy_report,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_report=e},"update:sort-by":function(e){t.sortBy_report=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(area_mean)",fn:function(e){return[t.checkAreaMean(e.value)?a("div",[t._v(t._s(t.roundNum(e.value)))]):a("div",{staticStyle:{color:"red"}},[t._v(t._s(t.roundNum(e.value)))])]}},{key:"cell(weighted_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}}])}),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n          Grand Mean:\n        ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n          "+t._s(t.area_mean.length?t.roundNum(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n        ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n          Descriptive Rating:\n        ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n          "+t._s(t.area_mean.length?t.getDescription(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n        ")])])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.SAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Self Survey Accreditor")])]},proxy:!0}]),model:{value:t.assignAccreditor,callback:function(e){t.assignAccreditor=e},expression:"assignAccreditor"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignTask(e)}}},[a("b-form-group",{attrs:{id:"assignAccreditor-group-1",label:"Self Survey Accreditor:","label-for":"assignAccreditor-1"}},[a("multiselect",{attrs:{options:t.filterTaskForce(t.userList,t.setUsers(t.instrumentSelect.id)),"custom-label":t.userNameAndStatus,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignAccreditor=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Optional Area")])]},proxy:!0}]),model:{value:t.assignInstruments,callback:function(e){t.assignInstruments=e},expression:"assignInstruments"}},[t.checkMSIList()?a("form",{on:{submit:function(e){return e.preventDefault(),t.attachInstrument()}}},[a("b-form-group",{attrs:{id:"assignInstruments-group-1",label:"Areas:","label-for":"assignInstruments-1"}},[a("multiselect",{attrs:{options:t.checkMSIList(),"custom-label":t.instrumentName,placeholder:null,required:""},model:{value:t.instrumentSelected,callback:function(e){t.instrumentSelected=e},expression:"instrumentSelected"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignInstruments=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1):a("div",[a("br"),a("h4",{staticClass:"text-center"},[t._v("No Optional Area")]),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignInstruments=!1}}},[t._v("Close")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Optional Area")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.removeInstrumentPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeInstrument(),t.removeInstrumentPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.removeInstrumentPrompt,callback:function(e){t.removeInstrumentPrompt=e},expression:"removeInstrumentPrompt"}},[t._v("\n    Are you sure you want to remove this area?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:function(e){t.setResult(),t.SAR=!0}}},[t._v("Self Survey Results")])],1)]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("b",[t._v("Lock Self Survey")])]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"},attrs:{title:"Remove SUC Accreditor Access"}},[a("b-form-checkbox",{attrs:{switch:""},on:{change:function(e){return t.lockSelfSurvey()}},model:{value:t.self_survey_status,callback:function(e){t.self_survey_status=e},expression:"self_survey_status"}})],1)]):t._e()])]),a("h5",[t._v("Program Files:")]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.programFiles,fields:t.fields_files,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getArea(e.item))+"\n      ")]}}])}),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("\n          Add Area Form and Self Survey Accreditor:\n        ")])]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:function(e){t.instrumentSelected=null,t.assignInstruments=!0}}},[t._v("Assign Optional Area")])],1):t._e()]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.areaList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(user)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(t.setUsers(e.item.id),(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.user_id=e.id,t.deleteUserPrompt=!0}}},[t._v(t._s(t.concatName(e)))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.setUserList(),t.instrumentSelect=e.item,t.userSelect=null,t.assignAccreditor=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(report_templates)",fn:function(e){return[t._v("\n        "+t._s(e.item.report_templates.length)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return["under preparation"===t.application.status&&"Optional"===e.item.type?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.instrumentSelect=e.item,t.removeInstrumentPrompt=!0}}},[a("md-icon",[t._v("delete")])],1):t._e()]}}])}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Assign Lead Self Survey Accreditor:")])]),"under preparation"===t.application.status?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-dropdown",{attrs:{text:"Assign Lead Accreditor",variant:"primary",dropleft:""}},t._l(t.filterUsers(),(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.updateInternalRole(e,t.filterUsers())}}},[t._v(t._s(t.concatName(e)))])],1)})),0)],1):t._e()]),a("b-form-input",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"15px"},attrs:{disabled:""},model:{value:t.headAccreditor,callback:function(e){t.headAccreditor=e},expression:"headAccreditor"}})],1)],1)},Pt=[],Lt=function(t){return t.toString().toLowerCase()},At=function(t,e){return""!==e?t.filter((function(t){return Lt(t.intended_program).includes(Lt(e))})):t},$t={name:"ProgramInstrument",data:function(){return{sortBy:"id",sortDesc:!1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Criteria",sortable:!0},{key:"user",label:"Self Survey Accreditor",sortable:!0},{key:"type",label:"Status",sortable:!0},{key:"report_templates",label:"No. of Templates"},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0}],sortBy_report:"area_number",fields_report:[{key:"area",label:"Area Name"},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}}],msiList:[],areaList:[],programList:[],programFiles:[],instrumentSelect:{},instrumentSelected:{},areaSelect:{},userList:[],roles:[],users:[],userSelect:null,MSISearch:"",user_id:null,instrument_id:null,area_mean:[],result:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],intended_program:null,require_ratings:{area_mean:null,grand_mean:null},self_survey_status:!1,SAR:!1,createProgram:!1,assignInstruments:!1,removeInstrumentPrompt:!1,assignAccreditor:!1,deleteUserPrompt:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({campus:"campus",application:"application",program:"program"})),{},{headAccreditor:{get:function(){var t;if(null!==(t=this.users)&&void 0!==t&&t.length){var e=this.users.find((function(t){return"internal accreditor - leader"===t.role}));return e?this.concatName(e):"No Accreditor Head"}return"No Accreditor Head"}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},filterUsers:function(){var t,e=this,a=[];if(null!==(t=this.users)&&void 0!==t&&t.length){a.push(this.users[0]);for(var i=function(t){a.find((function(a){return a.user_id===e.users[t].user_id}))||a.push(e.users[t])},n=1;n<this.users.length;n++)i(n);return a}},assignTask:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.id,i=this.userSelect.user_id,n="internal accreditor";this.$store.dispatch("assignTask",{instrument_id:e,program_id:a,user_id:i,role:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignAccreditor=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},updateInternalRole:function(t,e){var a=this;this.$isLoading(!0);var i=this.program.id,n=[];if(null!==e&&void 0!==e&&e.length)for(var s=0;s<e.length;s++){var r=e[s].user_id,o="internal accreditor";n.push({user_id:r,role:o})}var c=n.findIndex((function(e){return e.user_id===t.user_id}));n[c].role="internal accreditor - leader",this.$store.dispatch("updateInternalRole",{program_id:i,users:n}).then((function(t){!0===t.data.status?(a.$store.dispatch("showInstrumentProgram",a.program.program_id).then((function(t){a.users=t.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")):(a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger"))})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},attachInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelected.id,a=this.program.program_id;this.$store.dispatch("addInstrumentForm",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignInstruments=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.program_id;this.$store.dispatch("removeInstrument",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAssignedUser",this.user_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},lockSelfSurvey:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.self_survey_status;this.$store.dispatch("lockSelfSurvey",{program_id:e,status:a}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadTemplate:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("downloadTemplate",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.template_name+".docx"),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},setUsers:function(t){var e,a;if(t&&(a=this.users.filter((function(e){return e.transaction_id===t})),null!==(e=a)&&void 0!==e&&e.length))return a},checkMSIList:function(){var t,e,a=this,i=this.msiList;if(null!==(t=this.areaList)&&void 0!==t&&t.length)for(var n=function(t){i=i.filter((function(e){return a.areaList[t].area_name!==e.area_name}))},s=0;s<this.areaList.length;s++)n(s);return null!==(e=i)&&void 0!==e&&e.length?i:null},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showLocalAccreditor",this.campus.suc_id).then((function(e){t.userList=e.data.users,t.roles=e.data.roles,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setResult:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=0;this.$store.dispatch("showProgramSAR",{program_id:e,role:a}).then((function(e){t.area_mean=e.data.areas,t.result=e.data.result,t.require_ratings=e.data.require_ratings,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkAreaMean:function(t){if(t&&this.require_ratings)return t>=this.require_ratings.area_mean},checkGrandMean:function(t){if(t&&this.require_ratings)return t>=this.require_ratings.grand_mean},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},filterTaskForce:function(t,e){if(null!==e&&void 0!==e&&e.length)for(var a=function(a){t=t.filter((function(t){return e[a].user_id!==t.user_id}))},i=0;i<e.length;i++)a(i);return t},getDescription:function(t){if(t)return t<1.5?"Poor":t>=1.5&&t<2.5?"Fair":t>=2.5&&t<3.5?"Satisfactory":t>=3.5&&t<4.5?"Very Satisfactory":t>=4.5&&t<5?"Excellent":null},getArea:function(t){return t.area?t.type.concat(" - ",t.area):t.type},back:function(){this.$router.push("/ProgramSelect")},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},userNameAndStatus:function(t){return"".concat(this.concatName(t)," ").concat("Registered"===t.accreditor_status?"( AACCUP "+t.accreditor_status+")":"")},instrumentName:function(t){var e=t.area_name;return"".concat(e)},searchMSI:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgramInstrument").then((function(e){t.msiList=At(e.data,t.MSISearch)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),1===t.program.self_survey_status?t.self_survey_status=!0:t.self_survey_status=!1,e.next=4,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.intended_program=e.data.intended_program,t.areaList=e.data.instruments,t.users=e.data.users.filter((function(t){return t.role.includes("internal accreditor")}))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.$store.dispatch("showFileQA",t.program.id).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:return e.next=8,t.$store.dispatch("showOptionArea",t.program.id).then((function(e){t.msiList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$isLoading(!1);case 10:case"end":return e.stop()}}),e)})))()}},Dt=$t,Rt=(a("aa0b"),Object(L["a"])(Dt,Tt,Pt,!1,null,"414b50d4",null)),It=Rt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("AACCUP")]),a("h5",[t._v("Application Management")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchApplication},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.applications,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"View Application"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Ut=[],Ot=function(t){return t.toString().toLowerCase()},Ft=function(t,e){return e?t.filter((function(t){return Ot(t.title).includes(Ot(e))})):t},Bt={name:"ManageApplication",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"institution_name",label:"SUC",sortable:!0},{key:"updated_at",label:"Application Date",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],applications:[{}],files:[{}],roles:[{}],search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchApplication:G.a.debounce((function(){var t=this;this.$store.dispatch("showAllApplication").then((function(e){t.applications=Ft(e.data.applications,t.search),t.totalRows=t.applications.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),formatDate:function(t){return E()(t).format("ll")},select:function(t){this.$store.commit("saveApplication",t),this.$router.push("/ViewPrograms")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showAllApplication").then((function(e){t.applications=e.data.applications,t.files=e.data.files,t.totalRows=t.applications.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Nt=Bt,Mt=Object(L["a"])(Nt,Et,Ut,!1,null,null,null),jt=Mt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Decline Program")])]},proxy:!0}]),model:{value:t.removeApplication,callback:function(e){t.removeApplication=e},expression:"removeApplication"}},[t._v("\n    Are you sure you want to decline this program?\n    "),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.removeApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeRequest(),t.removeApplication=!1}}},[t._v("Decline")])],1)])],1),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Approve Application")])]},proxy:!0}]),model:{value:t.acceptApplication,callback:function(e){t.acceptApplication=e},expression:"acceptApplication"}},[t._v("\n    You are about to accept this accreditation request.\n    "),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.acceptApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.acceptRequest(),t.acceptApplication=!1}}},[t._v("Accept")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reschedule")])]},proxy:!0}]),model:{value:t.rescheduleApplication,callback:function(e){t.rescheduleApplication=e},expression:"rescheduleApplication"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.reschedule()}}},[t._v("\n      Set new schedule for accreditation.\n      "),a("b-form-group",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"rescheduleApplication-group-1",label:"Start Date:","label-for":"rescheduleApplication-1"}},[a("b-form-datepicker",{attrs:{id:"rescheduleApplication-1",min:new Date,size:"sm",required:""},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"rescheduleApplication-group-2",label:"End Date:","label-for":"rescheduleApplication-2"}},[a("b-form-datepicker",{attrs:{id:"rescheduleApplication-2",min:t.start_date,size:"sm",required:""},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)])]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.rescheduleApplication=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Reschedule")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Request Overall Coordinator")])]},proxy:!0}]),model:{value:t.requestOverallCoordinator,callback:function(e){t.requestOverallCoordinator=e},expression:"requestOverallCoordinator"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.requestCoordinator(e)}}},[a("b-form-group",{attrs:{id:"requestOverallCoordinator-group-1",label:"Accreditor:","label-for":"requestOverallCoordinator-1"}},[a("multiselect",{attrs:{options:t.userList,"custom-label":t.userName,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.requestOverallCoordinator=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.removeCoordinatorPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeCoordinatorRequest(),t.removeCoordinatorPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.removeCoordinatorPrompt,callback:function(e){t.removeCoordinatorPrompt=e},expression:"removeCoordinatorPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.application.institution_name))]),a("h5",[t._v(t._s(t.application.title))])])]),a("h5",[t._v("Application Documents:")]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.filterFiles(this.application.id),fields:t.fields_files,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc_files,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc_files=e},"update:sort-desc":function(e){t.sortDesc_files=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){t.file=e.item,t.downloadLetter(e.item)}}},[t._v(t._s(e.item.file_title))])]}}])}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Overall Coordinator:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[0===t.overallCoordinator.length?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"200px"},on:{click:function(e){t.setUserList(),t.requestOverallCoordinator=!0}}},[t._v("Request Coordinator")]):t._e()],1)]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.overallCoordinator,fields:t.fields_coordinator,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},scopedSlots:t._u([{key:"cell(accreditor)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove"},on:{click:function(e){t.removeCoordinatorPrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]},proxy:!0}])}),a("h5",[t._v("Programs:")]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programSelectedList,fields:t.fields_programSelected,"current-page":t.currentPage_programSelected,"per-page":t.perPage_programSelected,"sort-by":t.sortBy_programSelected,"sort-desc":t.sortDesc_programSelected,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_programSelected=e},"update:sort-by":function(e){t.sortBy_programSelected=e},"update:sortDesc":function(e){t.sortDesc_programSelected=e},"update:sort-desc":function(e){t.sortDesc_programSelected=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" -\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):a("div"):a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" -\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")])]}},{key:"cell(status)",fn:function(e){return["approved"===e.item.status?a("div",[a("span",{staticStyle:{color:"forestgreen"}},[t._v(t._s(e.item.status))])]):"rejected"===e.item.status?a("div",[a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.item.status))])]):a("div",[a("span",[t._v(t._s(e.item.status))])])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),"approved"!==e.item.status&&"done"!==e.item.status&&"schedule unavailable"!==e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Reschedule"},on:{click:function(a){t.programSelected=e.item,t.start_date=null,t.end_date=null,t.rescheduleApplication=!0}}},[a("md-icon",[t._v("date_range")])],1):t._e(),"approved"!==e.item.status&&"done"!==e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Approve Application"},on:{click:function(a){t.programSelected=e.item,t.acceptApplication=!0}}},[a("md-icon",[t._v("check_circle")])],1):t._e(),"approved"!==e.item.status&&"done"!==e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Decline Application"},on:{click:function(a){t.programSelected=e.item,t.removeApplication=!0}}},[a("md-icon",[t._v("cancel")])],1):t._e()]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_programSelected,"per-page":t.perPage_programSelected,align:"fill",size:"sm"},model:{value:t.currentPage_programSelected,callback:function(e){t.currentPage_programSelected=e},expression:"currentPage_programSelected"}})],1)],1)},zt=[],Vt=function(t){return t.toString().toLowerCase()},Ht=function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return Vt(t.status)===Vt(e)})):t},Yt=function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return t.application_id===e})):t},Xt={name:"ManageApplication",data:function(){return{sortBy_programSelected:"program_name",sortDesc_programSelected:!1,totalRows_programSelected:1,currentPage_programSelected:1,perPage_programSelected:10,fields_programSelected:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Applied Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Application Status",sortable:!0},{key:"actions",label:"Actions"}],sortBy_files:"id",sortDesc_files:!1,fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],fields_coordinator:[{key:"id",label:"ID",thStyle:{width:"50px"}},{key:"accreditor",label:"Accreditor"},{key:"status",label:"Status"},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],files:[{}],file:{},programSelectedList:[{}],programSelected:{},userList:[],search:null,start_date:null,end_date:null,userSelect:null,overallCoordinator:[],replyApplication:!1,viewApplication:!1,viewMSI:!1,viewParameter:!1,programSelect:!1,snackbarText:"",acceptApplication:!1,rescheduleApplication:!1,removeApplication:!1,requestOverallCoordinator:!1,removeCoordinatorPrompt:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",application:"application"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},acceptRequest:function(){var t=this,e=this.programSelected.id,a=this.programSelected.preferred_start_date,i=this.programSelected.preferred_end_date;this.$isLoading(!0),this.$store.dispatch("approve",{program_id:e,approved_start_date:a,approved_end_date:i}).then((function(a){if(!0===a.data.status){var i=t.programSelectedList.findIndex((function(t){return t.id===e}));t.programSelectedList[i].status="approved",t.$isLoading(!1),t.snackbarText=a.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=a.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeRequest:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("reject",this.programSelected.id).then((function(e){if(!0===e.data.status){var a=t.programSelectedList.findIndex((function(e){return e.id===t.programSelected.id}));t.programSelectedList[a].status="rejected",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},reschedule:function(){var t=this,e=this.programSelected.id,a=this.user.id,i="The preferred schedule, ".concat(E()(this.programSelected.preferred_start_date).format("MMM Do")," to ").concat(E()(this.programSelected.preferred_end_date).format("MMM Do YYYY"),", for the applied program ").concat(this.programSelected.program_name," is not available. The suggested available date for accreditation is on ").concat(E()(this.start_date).format("MMM Do")," to ").concat(E()(this.end_date).format("MMM Do YYYY"),"."),n=this.start_date,s=this.end_date;this.$isLoading(!0),this.$store.dispatch("reschedule",{program_id:e,user_id:a,message:i,preferred_start_date:n,preferred_end_date:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.totalRows_programSelected=t.programSelectedList.length})),t.rescheduleApplication=!1,t.viewApplication=!0,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},requestCoordinator:function(){var t=this,e=this.application.id,a=this.userSelect.user_id;this.$isLoading(!0),this.$store.dispatch("requestCoordinator",{application_id:e,user_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCoordinatorRequest",t.application.id).then((function(e){t.overallCoordinator=e.data})),t.requestOverallCoordinator=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeCoordinatorRequest:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeCoordinatorRequest",this.overallCoordinator[0].id).then((function(e){!0===e.data.status?(t.overallCoordinator=[],t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showAccreditor").then((function(e){t.$isLoading(!1),t.userList=Ht(e.data.users,"active")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadLetter:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewFile",t.id).then((function(t){e.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",e.file.file_title),document.body.appendChild(i),i.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},filterFiles:function(t){return Yt(this.files,t)},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},userName:function(t){return"".concat(this.concatName(t))},select:function(t){this.$store.commit("saveProgram",t),this.$router.push("/AssignAcceptableGapArea")},back:function(){this.$router.push("/ManageApplication")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.programSelectedList=e.data.programs,t.totalRows_programSelected=t.programSelectedList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showAllApplication").then((function(e){t.files=e.data.files})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showCoordinatorRequest",t.application.id).then((function(e){t.overallCoordinator=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Wt=Xt,Gt=Object(L["a"])(Wt,qt,zt,!1,null,null,null),Jt=Gt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Request Accreditor")])]},proxy:!0}]),model:{value:t.newRequest,callback:function(e){t.newRequest=e},expression:"newRequest"}},[t.librarianError?a("div",{staticStyle:{color:"red","margin-bottom":"15px"}},[t._v("\n      "+t._s(t.librarianErrorText)+"\n    ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.requestAccreditor()}}},[t._l(t.taskRequests,(function(e,i){return a("div",{key:i},[0===i?a("h6",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n          Lead Accreditor:\n        ")]):t._e(),1===i?a("h6",{staticStyle:{"margin-bottom":"10px"}},[t._v("Accreditors:")]):t._e(),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"470px"}},[a("b-form-group",[a("b-form-select",{attrs:{required:""},model:{value:t.taskRequests[i].user_id,callback:function(e){t.$set(t.taskRequests[i],"user_id",e)},expression:"taskRequests[index].user_id"}},t._l(t.userList,(function(e,i){return a("option",{key:i,domProps:{value:e.user_id}},[t._v("\n                  "+t._s(t.concatName(e))+" ("+t._s(e.role)+")\n                ")])})),0)],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-group",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"margin-right":"15px"}},[a("b-form-radio",{attrs:{value:1},model:{value:t.taskRequests[i].type,callback:function(e){t.$set(t.taskRequests[i],"type",e)},expression:"taskRequests[index].type"}},[t._v("Accreditor")])],1),a("div",{staticClass:"md-layout-item"},[a("b-form-radio",{attrs:{value:0},model:{value:t.taskRequests[i].type,callback:function(e){t.$set(t.taskRequests[i],"type",e)},expression:"taskRequests[index].type"}},[t._v("Librarian")])],1)])])],1),i>=3?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent md-dense",staticStyle:{outline:"0"},attrs:{title:"Delete"},on:{click:function(e){return t.removeRequests(i)}}},[a("md-icon",[t._v("delete")])],1)],1):t._e()])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRequests()}}},[t._v("Add Accreditor")])],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.newRequest=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)],2)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Request Accreditor")])]},proxy:!0}]),model:{value:t.moreRequest,callback:function(e){t.moreRequest=e},expression:"moreRequest"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.requestMoreAccreditor()}}},[a("h6",{staticStyle:{"margin-bottom":"10px"}},[t._v("Accreditors:")]),t._l(t.taskRequests,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"470px"}},[a("b-form-group",[a("b-form-select",{attrs:{required:""},model:{value:t.taskRequests[i].user_id,callback:function(e){t.$set(t.taskRequests[i],"user_id",e)},expression:"taskRequests[index].user_id"}},t._l(t.userList,(function(e,i){return a("option",{key:i,domProps:{value:e.user_id}},[t._v("\n                  "+t._s(t.concatName(e))+" ("+t._s(e.role)+")\n                ")])})),0)],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-group",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"margin-right":"15px"}},[a("b-form-radio",{attrs:{value:1},model:{value:t.taskRequests[i].type,callback:function(e){t.$set(t.taskRequests[i],"type",e)},expression:"taskRequests[index].type"}},[t._v("Accreditor")])],1),a("div",{staticClass:"md-layout-item"},[a("b-form-radio",{attrs:{value:0},model:{value:t.taskRequests[i].type,callback:function(e){t.$set(t.taskRequests[i],"type",e)},expression:"taskRequests[index].type"}},[t._v("Librarian")])],1)])])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent md-dense",staticStyle:{outline:"0"},attrs:{title:"Delete"},on:{click:function(e){return t.removeRequests(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRequests()}}},[t._v("Add Accreditor")])],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.moreRequest=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)],2)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload "+t._s(t.type))])]},proxy:!0}]),model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadProgramFile()}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("b-form-file",{attrs:{multiple:""},on:{input:function(e){return t.selectDocument()}},model:{value:t.selectedFilename,callback:function(e){t.selectedFilename=e},expression:"selectedFilename"}})],1),t.filename.length?a("div",t._l(t.filename,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{background:"white"},attrs:{type:"text",disabled:""},model:{value:t.filename[i].name,callback:function(e){t.$set(t.filename[i],"name",e)},expression:"filename[index].name"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeFilename(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),0):t._e(),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.upload=!1}}},[t._v("Cancel")]),(t.filename.length,a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")]))],1)],1)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Set Lead Accreditor")])]},proxy:!0}]),model:{value:t.setLeadPrompt,callback:function(e){t.setLeadPrompt=e},expression:"setLeadPrompt"}},[t._v("\n    Do you want to set "+t._s(t.concatName(t.requestSelect))+" as the lead accreditor?\n    "),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.setLeadPrompt=!1}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.setAccreditorLead(),t.setLeadPrompt=!1}}},[t._v("Yes")])],1)])],1),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Request")])]},proxy:!0}]),model:{value:t.deleteRequestPrompt,callback:function(e){t.deleteRequestPrompt=e},expression:"deleteRequestPrompt"}},[t._v("\n    Are you sure you want to remove this request?\n    "),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteRequestPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteRequestPrompt=!1}}},[t._v("Delete")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Approve Program for Accreditation")])]},proxy:!0}]),model:{value:t.approve,callback:function(e){t.approve=e},expression:"approve"}},[t._v("\n    You are about to approve this program for accreditation. Please attach the\n    Certificate of Accreditation and the end of validity date of the program\n    accredited.\n\n    "),a("br"),a("br"),a("form",{on:{submit:function(e){return e.preventDefault(),t.approveApplication()}}},[a("b-form-group",{attrs:{id:"approve-group-1",label:"*Certificate of Accreditation:","label-for":"approve-1"}},[a("b-form-file",{staticStyle:{"margin-bottom":"5px"},attrs:{id:"approve-1",size:"sm",required:""},model:{value:t.certificate,callback:function(e){t.certificate=e},expression:"certificate"}})],1),a("b-form-group",{attrs:{id:"approve-group-2",label:"*End of Validity:","label-for":"approve-2"}},[a("b-form-datepicker",{attrs:{id:"approve-2",size:"sm",min:new Date,required:""},model:{value:t.validity,callback:function(e){t.validity=e},expression:"validity"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.approve=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.program.campus_name))])]),a("div",{staticClass:"md-layout",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout-item"}),t.checkRole(10)?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){t.certificate=[null],t.validity=null,t.approve=!0}}},[t._v("Approve Accreditation")])],1):t._e()])]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"200px"},on:{click:function(e){t.filename=[],t.selectedFilename=[],t.type="Consolidated Report",t.upload=!0}}},[t._v("Upload Consolidated Report")])],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Accreditation Documents:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("PPP")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Compliance Report")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Narrative Report")]),a("b-form-select-option",{attrs:{value:4}},[t._v("SAR")]),a("b-form-select-option",{attrs:{value:5}},[t._v("SFR")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Rated Instrument")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Consolidated Report")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Final SFR Report")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search document",type:"text"},on:{input:function(e){return t.searchFileTable()}},model:{value:t.search_files,callback:function(e){t.search_files=e},expression:"search_files"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_files,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getType(e.item))+"\n      ")]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType()?t.filterByType().length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"padding-top":"10px"}},[t._v("Accreditors:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkRequest()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"200px"},on:{click:function(e){t.librarianError=!1,t.setUserList(),t.taskRequests=[{user_id:null,type:1}],t.moreRequest=!0}}},[t._v("Request Accreditors")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"200px"},on:{click:function(e){t.librarianError=!1,t.setUserList(),t.setTaskRequest(),t.newRequest=!0}}},[t._v("Request Accreditors")])],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.requestedAccreditors,fields:t.fields_accreditor,"sort-by":t.sortBy_accreditor,"sort-desc":t.sortDesc_accreditor,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_accreditor=e},"update:sort-by":function(e){t.sortBy_accreditor=e},"update:sortDesc":function(e){t.sortDesc_accreditor=e},"update:sort-desc":function(e){t.sortDesc_accreditor=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary md-dense",staticStyle:{outline:"0"},attrs:{title:"Set Lead Accreditor"},on:{click:function(a){t.requestSelect=e.item,t.setLeadPrompt=!0}}},[a("md-icon",[t._v("supervised_user_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent md-dense",staticStyle:{outline:"0"},attrs:{title:"Delete"},on:{click:function(a){t.requestSelect=e.item,t.deleteRequestPrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("h5",{staticStyle:{"margin-bottom":"15px","margin-top":"25px"}},[t._v("\n      Areas Allowable Gap:\n    ")]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1)],1)},Kt=[],Zt=function(t){return t.toString().toLowerCase()},te=function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return Zt(t.status)===Zt(e)})):t},ee=function(t,e){return e?t.filter((function(t){return t.application_id===e})):t},ae=function(t,e){return e?t.filter((function(t){return t.application_program_id===e})):t},ie=function(t){if(t)return t.find((function(t){return 0===t.type}))},ne=function(t,e){return e?t.filter((function(t){return Zt(t.file_title).includes(Zt(e))})):t},se={name:"ManageApplication",data:function(){return{sortBy:"intended_program",sortDesc:!1,totalRows:1,currentPage:1,perPage:5,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[{}],sortBy_accreditor:"id",sortDesc_accreditor:!1,fields_accreditor:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Accreditor",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"status",label:"Request Status",sortable:!0},{key:"remark",label:"Remark",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0}],files:[{}],file:{},accreditorList:[],requestedAccreditors:[],roles:[{}],taskRequests:[{user_id:null,type:1},{user_id:null,type:1},{user_id:null,type:0}],requestList:[{}],requestSelect:{},userList:[{}],programFiles:[],search_files:null,filterType:0,search:null,type:null,validity:null,filename:[],selectedFilename:[],certificate:[],upload:!1,approve:!1,newRequest:!1,moreRequest:!1,setLeadPrompt:!1,deleteRequestPrompt:!1,librarianErrorText:"",librarianError:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",role:"role",application:"application",program:"program"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchFileTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgramFile",this.program.id).then((function(e){var a=e.data.filter((function(t){return"Internal SAR"!==t.type||"Internal SFR"!==t.type||"Internal Rated Instrument"!==t.type||t.type.includes("Area")}));t.programFiles=ne(a,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterByType:function(){return 0===this.filterType?this.programFiles:1===this.filterType?this.programFiles.filter((function(t){return t.type.includes("PPP")})):2===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Compliance")})):3===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Narrative")})):4===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SAR")})):5===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SFR")})):6===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Rated Instrument")})):7===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Consolidated Report")})):8===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Final SFR Report")})):void 0},approveApplication:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.certificate,i=this.validity;this.$store.dispatch("approveApplication",{program_id:e,filename:a,validity:i}).then((function(e){!0===e.data.status?(t.approve=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},uploadProgramFile:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.user.id,i=this.filename,n=this.type,s=null;this.$store.dispatch("uploadProgramFile",{program_id:e,user_id:a,filename:i,type:n,area_number:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgramFile",t.program.id).then((function(e){t.programFiles=e.data.filter((function(t){return"Internal SAR"!==t.type||"Internal SFR"!==t.type||"Internal Rated Instrument"!==t.type||t.type.includes("Area")}))})),t.upload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addFilename:function(){null!==this.filename[this.filename.length-1]&&this.filename.push(null)},removeFilename:function(t){this.filename.splice(t,1)},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkRequest:function(){var t;if(null!==(t=this.requestedAccreditors)&&void 0!==t&&t.length)return!0},setTaskRequest:function(){this.taskRequests=[];for(var t=null,e=1,a=0;a<3;a++)2===a&&(e=0),this.taskRequests.push({user_id:t,type:e})},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showAccreditor").then((function(e){t.$isLoading(!1),t.userList=te(e.data.users,"active")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},requestAccreditor:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.program.id,i=this.taskRequests;ie(this.taskRequests)?(this.librarianError=!1,this.$store.dispatch("request",{user_id:e,program_id:a,taskRequests:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.requestedAccreditors=ae(e.data.users,t.program.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.newRequest=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))):(this.$isLoading(!1),this.librarianErrorText="Please select an accreditor for library.",this.librarianError=!0)},requestMoreAccreditor:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.program.id,i=this.taskRequests;this.$store.dispatch("addRequest",{user_id:e,program_id:a,taskRequests:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.requestedAccreditors=ae(e.data.users,t.program.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.newRequest=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setAccreditorLead:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("setAccreditorLead",this.requestSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.requestedAccreditors=ae(e.data.users,t.program.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAccreditorRequest",this.requestSelect.id).then((function(e){if(!0===e.data.status){var a=t.requestedAccreditors.findIndex((function(e){return e.id===t.requestSelect.id}));t.requestedAccreditors.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadPPP:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewPPP",t.id).then((function(t){e.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","PPP.pdf"),document.body.appendChild(i),i.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},downloadCompliance:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewCompliance",t.id).then((function(t){e.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","Compliance Report.pdf"),document.body.appendChild(i),i.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},downloadNarrative:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewNarrative",t.id).then((function(t){e.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","Narrative Report.pdf"),document.body.appendChild(i),i.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},filterFiles:function(t){return ee(this.files,t)},checkRole:function(t){var e;return this.role&&t?!!this.role.find((function(e){return e.role_id===t})):null===(e=this.role)||void 0===e||!e.length||void 0},formatDate:function(t){return E()(t).format("llll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addRequests:function(){var t=null,e=1;this.taskRequests.push({user_id:t,type:e})},removeRequests:function(t){this.taskRequests.splice(t,1)},getType:function(t){var e=t.type.replace("Internal","Self Survey");return t.area?e.concat(" - ",t.area):e},selectDocument:function(){var t;this.filename?(t=this.filename).push.apply(t,Object(rt["a"])(this.selectedFilename)):this.filename=this.selectedFilename,this.selectedFilename=[]},select:function(t){this.$store.commit("saveInstrument",t),this.$router.push("/AssignAcceptableGapParameter")},back:function(){this.$router.push("/ViewPrograms")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.msiList=e.data.instruments})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showAppliedProgram",t.application.id).then((function(e){t.requestedAccreditors=ae(e.data.users,t.program.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showProgramFile",t.program.id).then((function(e){t.programFiles=e.data.filter((function(t){return"Internal SAR"!==t.type||"Internal SFR"!==t.type||"Internal Rated Instrument"!==t.type||t.type.includes("Area")}))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},re=se,oe=Object(L["a"])(re,Qt,Kt,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.program.campus_name))]),a("h5",[t._v(t._s(t.instrument.area_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content","margin-right":"5px"}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},on:{input:function(e){return t.setScoreGap()}},model:{value:t.generalize,callback:function(e){t.generalize=e},expression:"generalize"}},[t._v("\n              Generalize Allowable Score Gap:\n            ")])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"75px"}},[t.generalize?a("b-form-input",{attrs:{type:"number"},on:{input:function(e){return t.setScoreGap()}},model:{value:t.acceptable_score_gap,callback:function(e){t.acceptable_score_gap=e},expression:"acceptable_score_gap"}}):a("b-form-input",{attrs:{type:"number",disabled:""},model:{value:t.acceptable_score_gap,callback:function(e){t.acceptable_score_gap=e},expression:"acceptable_score_gap"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.parameters,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(numerical_rating)",fn:function(e){return[t._v("\n        "+t._s(t.getParameterMean(e.item.id))+"\n      ")]}},{key:"cell(descriptive_rating)",fn:function(e){return[t._v("\n        "+t._s(t.getDescription(t.getParameterMean(e.item.id)))+"\n      ")]}},{key:"cell(acceptable_score_gap)",fn:function(e){return[t.generalize?a("b-form-input",{staticStyle:{"max-width":"70px"},attrs:{type:"number",disabled:""},model:{value:e.item.acceptable_score_gap,callback:function(a){t.$set(e.item,"acceptable_score_gap",a)},expression:"row.item.acceptable_score_gap"}}):a("b-form-input",{staticStyle:{"max-width":"70px"},attrs:{type:"number"},model:{value:e.item.acceptable_score_gap,callback:function(a){t.$set(e.item,"acceptable_score_gap",a)},expression:"row.item.acceptable_score_gap"}})]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"250px"},on:{click:function(e){return t.submitScoreGap()}}},[t._v("Submit Score Gap")])],1)])],1)],1)},de=[],me=function(t){return t.toString().toLowerCase()},ue=function(t,e){return e?t.filter((function(t){return me(t.assigned_user_id).includes(me(e))})):t},pe=function(t,e){return e?t.find((function(t){return t.program_parameter_id===e})):t},fe={name:"AccreditationParameter",data:function(){return{sortBy:"parameter",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"parameter",label:"Parameter",sortable:!0},{key:"numerical_rating",label:"Numerical Rating",thStyle:{width:"200px"}},{key:"descriptive_rating",label:"Descriptive Rating",thStyle:{width:"200px"}},{key:"acceptable_score_gap",label:"Score Gap",thStyle:{width:"120px"}}],parameters:[{}],remarkList:[{}],recommendation:[{recommendation:null}],acceptable_score_gap:null,parameter_mean:[],generalize:!0,SAR:!1,SFR:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",program:"program",instrument:"instrument",category_mean:"category_mean",assigned_user_id:"assigned_user_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submitScoreGap:function(){var t,e=this;if(null!==(t=this.parameters)&&void 0!==t&&t.length){for(var a=[],i=null,n=null,s=0;s<this.parameters.length;s++)i=this.parameters[s].id,n=parseFloat(this.parameters[s].acceptable_score_gap),a.push({id:i,gap:n});this.$isLoading(!0),this.$store.dispatch("editAcceptableScoreGap",{gaps:a}).then((function(t){!0===t.data.status?(e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Success!","primary")):(e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Error","danger"))})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))}},setScoreGap:function(){var t;if(this.generalize&&null!==(t=this.parameters)&&void 0!==t&&t.length)for(var e=0;e<this.parameters.length;e++)this.parameters[e].acceptable_score_gap=this.acceptable_score_gap},getDescription:function(t){if(t)return parseFloat(t)<1.5?"Poor":parseFloat(t)>=1.5&&parseFloat(t)<2.5?"Fair":parseFloat(t)>=2.5&&parseFloat(t)<3.5?"Satisfactory":parseFloat(t)>=3.5&&parseFloat(t)<4.5?"Very Satisfactory":parseFloat(t)>=4.5&&parseFloat(t)<5?"Excellent":null},getParameterMean:function(t){var e=pe(this.parameter_mean,t);if(e)return e.parameter_mean},back:function(){this.$router.push("/AssignAcceptableGapArea")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instrument.id,i=t.program.id,t.$isLoading(!0),e.next=5,t.$store.dispatch("showTaskParameter",{instrument_id:a,program_id:i}).then((function(e){t.parameters=e.data.parameters,t.parameter_mean=ue(e.data.means,t.assigned_user_id),t.totalRows=t.parameters.length,t.parameters[0].acceptable_score_gap&&(t.generalize=!1,t.acceptable_score_gap=t.parameters[0].acceptable_score_gap)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},he=fe,ve=Object(L["a"])(he,le,de,!1,null,null,null),ge=ve.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create User")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.password="password"}}},[t._v("Default")])],1)],1)],1),a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Role:","label-for":"createUser-8"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.roleText,placeholder:null,required:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),a("b-form-group",{attrs:{id:"createUser-group-9",label:"*Office:","label-for":"createUser-9"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")]),t.checkSupportHead()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.officeHead=0,t.createUser=!1,t.officeHeadPrompt=!0}}},[t._v("Submit")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Role")])]},proxy:!0}]),model:{value:t.editUser,callback:function(e){t.editUser=e},expression:"editUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addRole(t.user.user_id)}}},[a("b-form-group",{attrs:{id:"editUser-group-1",label:"Role:","label-for":"editUser-1"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.roleText,placeholder:null,required:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),a("div",[a("b-form-group",{attrs:{id:"editUser-group-2",label:"Office:","label-for":"editUser-2"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1)],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editUser=!1}}},[t._v("Cancel")]),t.checkSupportHead()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.officeHead=1,t.editUser=!1,t.officeHeadPrompt=!0}}},[t._v("Add")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Office")])]},proxy:!0}]),model:{value:t.addOffice,callback:function(e){t.addOffice=e},expression:"addOffice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addToOffice()}}},[a("b-form-group",{attrs:{id:"addOffice-group-1",label:"Office:","label-for":"addOffice-1"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addOffice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Activate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.activatePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.activateUser(),t.activatePrompt=!1}}},[t._v("Activate")])],1)]},proxy:!0}]),model:{value:t.activatePrompt,callback:function(e){t.activatePrompt=e},expression:"activatePrompt"}},[t._v("\n    Are you sure you want to activate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Deactivate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.deleteUser(),t.deletePrompt=!1}}},[t._v("Deactivate")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to deactivate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Role")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteRolePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeRole(),t.deleteRolePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteRolePrompt,callback:function(e){t.deleteRolePrompt=e},expression:"deleteRolePrompt"}},[t._v("\n    Are you sure you want to remove this role?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Office")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteOfficePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeOffice(),t.deleteOfficePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteOfficePrompt,callback:function(e){t.deleteOfficePrompt=e},expression:"deleteOfficePrompt"}},[t._v("\n    Are you sure you want to remove this office?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.existingAccreditorPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.addRole(t.user.id)}}},[t._v("Proceed")])],1)]},proxy:!0}]),model:{value:t.existingAccreditorPrompt,callback:function(e){t.existingAccreditorPrompt=e},expression:"existingAccreditorPrompt"}},[t._v("\n    "+t._s(t.concatName(t.user))+" already exist as an Accreditor. Do you want to add\n    the role "+t._s(this.role)+"?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.existingCampusPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.addToOtherCampus()}}},[t._v("Proceed")])],1)]},proxy:!0}]),model:{value:t.existingCampusPrompt,callback:function(e){t.existingCampusPrompt=e},expression:"existingCampusPrompt"}},[a("div",[t._v("\n      "+t._s(t.concatName(t.user))+" already exist in the following campus/es:\n    ")]),a("br"),t._l(t.campusList,(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.campus_name)+"\n    ")])})),a("br"),a("div",[t._v("Do you want to register "+t._s(t.concatName(t.user))+" to this campus?")])],2),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing Office Head")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.officeHeadPrompt=!1,0===t.officeHead?t.createUser=!0:t.editUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){0===t.officeHead?t.submit():t.addRole(t.user.user_id)}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.officeHeadPrompt,callback:function(e){t.officeHeadPrompt=e},expression:"officeHeadPrompt"}},[t._v("\n    The office you have selected already has an assigned office head. Do you\n    want to procced with the role of office staff?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.officeSelect=null,t.createUserPrompt=!1,t.createUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createUserPrompt=!1,t.createUser=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createUserPrompt,callback:function(e){t.createUserPrompt=e},expression:"createUserPrompt"}},[t._v("\n    A previous user registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),a("h5",[t._v("List of Users")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search User",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateUser()}}},[t._v("Add User")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(role)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(e.item.office_roles,(function(i,n){return a("span",{key:n},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.user=e.item,t.roleSelect=i,t.deleteRolePrompt=!0}}},[t._v("\n                      "+t._s(i.role.includes("external")?"accreditor":i.role)+"\n                      "+t._s(i.office_name?"("+i.office_name+")":"")+"\n                    ")])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Assign Task"},on:{click:function(a){t.user=e.item,t.role=null,t.officeSelect=null,t.editUser=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(status)",fn:function(e){return["active"===e.value?a("div",{staticStyle:{color:"green"}},[t._v("Active")]):a("div",{staticStyle:{color:"red"}},[t._v("Inactive")])]}},{key:"cell(actions)",fn:function(e){return["active"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Deactivate"},on:{click:function(a){t.user=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("lock_open")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Activate"},on:{click:function(a){t.user=e.item,t.activatePrompt=!0}}},[a("md-icon",[t._v("lock")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},_e=[],ye=function(t){return t.toString().toLowerCase()},ke=function(t,e){return e?t.filter((function(t){return ye(t.first_name.concat(" ",t.last_name)).includes(ye(e))})):t},xe={name:"TableSearch",data:function(){return{sortBy:"name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email"},{key:"role",label:"Role"},{key:"contact_no",label:"Contact Number"},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],users:[],roles:[],user:{},first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,contact_no:null,password:null,role:null,roleSelect:null,options:[{value:"accreditation task force",text:"Accreditation Task Force"},{value:"college task force head",text:"College Task Force Head"},{value:"program task force chair",text:"Program Task Force Chair"},{value:"support head",text:"Support Head"},{value:"support staff",text:"Support Staff"},{value:"QA director",text:"QA Director"},{value:"QA staff",text:"QA Staff"}],offices:[{}],officeList:[{}],officeSelect:null,campusList:[],search:null,officeHead:null,roleEdit:[{status:!1}],createUser:!1,createUserPrompt:!1,editUser:!1,addOffice:!1,activatePrompt:!1,deletePrompt:!1,deleteRolePrompt:!1,deleteOfficePrompt:!1,officeHeadPrompt:!1,existingAccreditorPrompt:!1,existingCampusPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus"})),methods:{continueCreateUser:function(){null!==this.first_name||null!==this.last_name||null!==this.middle_initial||null!==this.name_extension||null!==this.email||null!==this.contact_no||null!==this.password||null!==this.role||null!==this.officeSelect?this.createUserPrompt=!0:this.createUser=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setRole:function(t){var e=this.options;if(null!==t&&void 0!==t&&t.length)for(var a=function(a){e=e.filter((function(e){return e.value!==t[a].role}))},i=0;i<t.length;i++)a(i);return e},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showCampusUser",this.campus.campus_id).then((function(e){t.users=ke(e.data.users,t.search),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),setRoles:function(t){return this.roles.filter((function(e){return e.user_id===t}))},checkOffice:function(t){var e;if(null!==(e=t.office_roles)&&void 0!==e&&e.length)return!0},checkSupportHead:function(){return!("support head"!==this.role||!this.officeSelect)&&!(!this.officeSelect.first_name&&!this.officeSelect.last_name)},getOffice:function(t){var e=this.offices.find((function(e){return e.user_id===t}));if(e)return e},submit:function(){var t=this;this.$isLoading(!0);var e=this.campus.campus_id,a=this.first_name,i=this.last_name,n=this.middle_initial,s=this.name_extension,r=this.email,o=this.contact_no,c=this.password,l=this.role.value,d=this.officeSelect.id;this.$store.dispatch("registerSucUser",{campus_id:e,first_name:a,last_name:i,middle_initial:n,name_extension:s,email:r,contact_no:o,password:c,role:l,office_id:d}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})),t.$isLoading(!1),t.createUser=!1,t.officeHeadPrompt=!1,"Accreditor"===e.data.message?(t.user=e.data.user,t.existingAccreditorPrompt=!0):"campus"===e.data.message?(t.user=e.data.user,t.campusList=e.data.campuses,t.existingCampusPrompt=!0):(t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.officeSelect=null,t.snackbarText=e.data.message,t.makeToast("Success!","primary"))):(t.officeHeadPrompt=!1,t.createUser=!0,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.officeHeadPrompt=!1,t.createUser=!0,t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addRole:function(t){var e=this;this.$isLoading(!0);var a=this.role.value,i=this.officeSelect.id;this.$store.dispatch("setRole",{user_id:t,role:a,office_id:i}).then((function(t){!0===t.data.status?(e.$store.dispatch("showCampusUser",e.campus.campus_id).then((function(t){e.users=t.data.users,e.totalRows=e.users.length,e.setRoleEdit()})),e.first_name=null,e.last_name=null,e.middle_initial=null,e.name_extension=null,e.email=null,e.contact_no=null,e.password=null,e.role=null,e.officeSelect=null,e.editUser=!1,e.officeHeadPrompt=!1,e.existingAccreditorPrompt=!1,e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Success!","primary")):(e.officeHeadPrompt=!1,e.editUser=!0,e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Error","danger"))})).catch((function(t){e.officeHeadPrompt=!1,e.editUser=!0,e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},addToOffice:function(){var t=this;this.$isLoading(!0);var e=this.officeSelect.id,a=this.user.id;this.$store.dispatch("addToOffice",{user_id:a,office_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})),t.officeSelect={},t.addOffice=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addToOtherCampus:function(){var t=this;this.$isLoading(!0);var e=this.campus.campus_id,a=this.user.id,i=this.role.value,n=this.officeSelect.id;this.$store.dispatch("addToOtherCampus",{campus_id:e,user_id:a,role:i,office_id:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.officeSelect=null,t.existingCampusPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="inactive",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},activateUser:function(){var t=this;this.$isLoading(!1),this.$store.dispatch("activateUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="active",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeRole:function(){var t=this;this.$isLoading(!0);var e=this.user.user_id,a=this.roleSelect.role_id,i=this.roleSelect.office_id;this.$store.dispatch("deleteSetRole",{user_id:e,role_id:a,office_id:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeFromOffice",this.officeSelect.office_user_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},officeName:function(t){var e=t.office_name;return"".concat(e)},roleText:function(t){var e=t.text;return"".concat(e)},setOffice:function(){var t=this;this.$store.dispatch("showOffice",this.campus.campus_id).then((function(e){t.officeList=e.data.office})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setRoleEdit:function(){var t;if(null!==(t=this.users)&&void 0!==t&&t.length)for(var e=0;e<this.users.length;e++){var a=!1;this.roleEdit.push({status:a})}},select:function(t){null!=t&&(this.$store.commit("saveUserAccount",t),this.$store.commit("saveAccountID",t.user_id),this.$router.push("/Profile_SUC"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length,t.setRoleEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.setOffice();case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},Se=xe,Ce=Object(L["a"])(Se,be,_e,!1,null,null,null),we=Ce.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Accreditor")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.password="password"}}},[t._v("Default")])],1)],1)],1),a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Specialization:","label-for":"createUser-8"}},[a("b-form-input",{attrs:{id:"createUser-8",type:"text",required:""},model:{value:t.specialization,callback:function(e){t.specialization=e},expression:"specialization"}})],1),a("b-form-group",{attrs:{id:"createUser-group-9",label:"*Campus:","label-for":"createUser-9"}},[a("multiselect",{attrs:{options:t.campusList,"custom-label":t.campusName,placeholder:null,required:""},model:{value:t.campusSelect,callback:function(e){t.campusSelect=e},expression:"campusSelect"}})],1),a("b-form-group",{attrs:{id:"createUser-group-10",label:"*Region:","label-for":"createUser-10"}},[a("b-form-input",{attrs:{id:"createUser-10",type:"text",disabled:""},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.existingUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.assignCampus()}}},[t._v("Proceed")])],1)]},proxy:!0}]),model:{value:t.existingUserPrompt,callback:function(e){t.existingUserPrompt=e},expression:"existingUserPrompt"}},[t._v("\n    "+t._s(t.concatName(t.user))+" already exist as an Accreditor by AACUP. Do you\n    want to register "+t._s(t.concatName(t.user))+" to\n    "+t._s(t.campusSelect?t.campusSelect.campus_name:"this SUC")+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Activate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.activatePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.activateUser(),t.activatePrompt=!1}}},[t._v("Activate")])],1)]},proxy:!0}]),model:{value:t.activatePrompt,callback:function(e){t.activatePrompt=e},expression:"activatePrompt"}},[t._v("\n    Are you sure you want to activate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Deactivate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.deleteUser(),t.deletePrompt=!1}}},[t._v("Deactivate")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to deactivate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.createUserPrompt=!1,t.createUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createUserPrompt=!1,t.createUser=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createUserPrompt,callback:function(e){t.createUserPrompt=e},expression:"createUserPrompt"}},[t._v("\n    A previous user registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v("List of Accreditors")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search User",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateUser()}}},[t._v("Add User")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(status)",fn:function(e){return["active"===e.value?a("div",{staticStyle:{color:"green"}},[t._v("Active")]):a("div",{staticStyle:{color:"red"}},[t._v("Inactive")])]}},{key:"cell(actions)",fn:function(e){return["active"===e.item.status&&"Unregistered"===e.item.accreditor_status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Deactivate"},on:{click:function(a){t.user=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("lock_open")])],1):"Unregistered"===e.item.accreditor_status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Activate"},on:{click:function(a){t.user=e.item,t.activatePrompt=!0}}},[a("md-icon",[t._v("lock")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Pe=[],Le=function(t){return t.toString().toLowerCase()},Ae=function(t,e){return e?t.filter((function(t){return Le(t.first_name.concat(" ",t.last_name)).includes(Le(e))})):t},$e={name:"TableSearch",data:function(){return{sortBy:"name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"user_id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email"},{key:"region",label:"Region",sortable:!0},{key:"accreditor_status",label:"AACCUP Status",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],users:[{}],user:{},campusList:[],first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,contact_no:null,campusSelect:null,region:null,password:null,specialization:null,options:[{value:"Region I – Ilocos Region",text:"Region I – Ilocos Region"},{value:"Region II – Cagayan Valley",text:"Region II – Cagayan Valley"},{value:"Region III – Central Luzon",text:"Region III – Central Luzon"},{value:"Region IV‑A – CALABARZON",text:"Region IV‑A – CALABARZON"},{value:"MIMAROPA Region",text:"MIMAROPA Region"},{value:"Region V – Bicol Region",text:"Region V – Bicol Region"},{value:"Region VI – Western Visayas",text:"Region VI – Western Visayas"},{value:"Region VII – Central Visayas",text:"Region VII – Central Visayas"},{value:"Region VIII – Eastern Visayas",text:"Region VIII – Eastern Visayas"},{value:"Region IX – Zamboanga Peninsula",text:"Region IX – Zamboanga Peninsula"},{value:"Region X – Northern Mindanao",text:"Region X – Northern Mindanao"},{value:"Region XI – Davao Region",text:"Region XI – Davao Region"},{value:"Region XII – SOCCSKSARGEN",text:"Region XII – SOCCSKSARGEN"},{value:"Region XIII – Caraga",text:"Region XIII – Caraga"},{value:"NCR – National Capital Region",text:"NCR – National Capital Region"},{value:"CAR – Cordillera Administrative Region",text:"CAR – Cordillera Administrative Region"},{value:"ARMM – Autonomous Region in Muslim Mindanao",text:"ARMM – Autonomous Region in Muslim Mindanao"}],search:null,createUser:!1,createUserPrompt:!1,editUser:!1,activatePrompt:!1,deletePrompt:!1,existingUserPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus"})),watch:{campusSelect:function(){this.region=this.campusSelect.region}},methods:{continueCreateUser:function(){null!==this.first_name||null!==this.last_name||null!==this.middle_initial||null!==this.name_extension||null!==this.email||null!==this.contact_no||null!==this.password||null!==this.specialization||null!==this.campusSelect||null!==this.region?this.createUserPrompt=!0:this.createUser=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showLocalAccreditor",this.campus.suc_id).then((function(e){t.users=Ae(e.data.users,t.search),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.first_name,a=this.last_name,i=this.middle_initial,n=this.name_extension,s=this.email,r=this.contact_no,o=this.password,c=this.specialization,l=this.campusSelect.id,d=this.region,m="Unregistered",u="external accreditor";this.$store.dispatch("registerSucUser",{first_name:e,last_name:a,middle_initial:i,name_extension:n,email:s,contact_no:r,password:o,specialization:c,campus_id:l,region:d,accreditor_status:m,role:u}).then((function(e){!0===e.data.status?(t.$store.dispatch("showLocalAccreditor",t.campus.suc_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.createUser=!1):(t.$isLoading(!1),"Registered"===e.data.message&&(t.user=e.data.user,t.createUser=!1,t.existingUserPrompt=!0),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},assignCampus:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.campusSelect.id;this.$store.dispatch("addToCampus",{user_id:e,campus_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showLocalAccreditor",t.campus.suc_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.existingUserPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="inactive",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},activateUser:function(){var t=this;this.$isLoading(!1),this.$store.dispatch("activateUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="active",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},campusName:function(t){var e=t.campus_name;return"".concat(e)},regionText:function(t){var e=t.text;return"".concat(e)},select:function(t){null!=t&&(this.$store.commit("saveUserAccount",t),this.$store.commit("saveAccountID",t.user_id),this.$router.push("/AccreditorProfile_SUC"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showLocalAccreditor",t.campus.suc_id).then((function(e){t.users=e.data.users,t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showCampus",t.campus.suc_id).then((function(e){t.campusList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},De=$e,Re=Object(L["a"])(De,Te,Pe,!1,null,null,null),Ie=Re.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create User")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.password="password"}}},[t._v("Default")])],1)],1)],1),a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Role:","label-for":"createUser-8"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.roleText,placeholder:null,required:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Activate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.activatePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.activateUser(),t.activatePrompt=!1}}},[t._v("Activate")])],1)]},proxy:!0}]),model:{value:t.activatePrompt,callback:function(e){t.activatePrompt=e},expression:"activatePrompt"}},[t._v("\n    Are you sure you want to activate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Deactivate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.deleteUser(),t.deletePrompt=!1}}},[t._v("Deactivate")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to deactivate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.createUserPrompt=!1,t.createUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary",staticStyle:{margin:"0"},on:{click:function(e){t.createUserPrompt=!1,t.createUser=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createUserPrompt,callback:function(e){t.createUserPrompt=e},expression:"createUserPrompt"}},[t._v("\n    A previous user registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("AACCUP")]),a("h5",[t._v("List of Users")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search User",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateUser()}}},[t._v("Add User")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(status)",fn:function(e){return["active"===e.value?a("div",{staticStyle:{color:"green"}},[t._v("Active")]):a("div",{staticStyle:{color:"red"}},[t._v("Inactive")])]}},{key:"cell(actions)",fn:function(e){return["active"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Deactivate"},on:{click:function(a){t.user=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("lock_open")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Activate"},on:{click:function(a){t.user=e.item,t.activatePrompt=!0}}},[a("md-icon",[t._v("lock")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Ue=[],Oe=function(t){return t.toString().toLowerCase()},Fe=function(t,e){return e?t.filter((function(t){return Oe(t.first_name.concat(" ",t.last_name)).includes(Oe(e))})):t},Be={name:"TableSearch",data:function(){return{sortBy:"user_id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"user_id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"contact_no",label:"Contact Number",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],users:[],user:{},first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,contact_no:null,password:null,role:null,options:[{value:"aaccup staff",text:"AACCUP Staff"},{value:"aaccup boardmember",text:"AACCUP Boardmember"}],search:null,createUser:!1,createUserPrompt:!1,editUser:!1,activatePrompt:!1,deletePrompt:!1,snackbarText:""}},methods:{continueCreateUser:function(){null!==this.first_name||null!==this.last_name||null!==this.middle_initial||null!==this.name_extension||null!==this.email||null!==this.contact_no||null!==this.password||null!==this.role?this.createUserPrompt=!0:this.createUser=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showAaccup").then((function(e){var a;t.users=Fe(e.data.users,t.search),null!==(a=t.users)&&void 0!==a&&a.length&&(t.totalRows=t.users.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.first_name,a=this.last_name,i=this.middle_initial,n=this.name_extension,s=this.email,r=this.contact_no,o=this.password,c=this.role.value;this.$store.dispatch("registerAaccupAccreditor",{first_name:e,last_name:a,middle_initial:i,name_extension:n,email:s,contact_no:r,password:o,role:c}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAaccup").then((function(e){var a;t.users=e.data.users,null!==(a=t.users)&&void 0!==a&&a.length&&(t.totalRows=t.users.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.createUser=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="inactive",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},activateUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("activateUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="active",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},roleText:function(t){var e=t.text;return"".concat(e)},select:function(t){null!=t&&(this.$store.commit("saveUserAccount",t),this.$store.commit("saveAccountID",t.user_id),this.$router.push("/Profile_AACCUP"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showAaccup").then((function(e){var a;t.users=e.data.users,null!==(a=t.users)&&void 0!==a&&a.length&&(t.totalRows=t.users.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Ne=Be,Me=Object(L["a"])(Ne,Ee,Ue,!1,null,null,null),je=Me.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Accreditor")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.password="password"}}},[t._v("Default")])],1)],1)],1),a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Specialization:","label-for":"createUser-8"}},[a("b-form-input",{attrs:{id:"createUser-8",type:"text",required:""},model:{value:t.specialization,callback:function(e){t.specialization=e},expression:"specialization"}})],1),a("b-form-group",{attrs:{id:"createUser-group-9",label:"Campus:","label-for":"createUser-9"}},[a("multiselect",{attrs:{options:t.campusList,"custom-label":t.campusName,placeholder:null,required:""},model:{value:t.campusSelect,callback:function(e){t.campusSelect=e},expression:"campusSelect"}})],1),null!==t.campusSelect?a("b-form-group",{attrs:{id:"createUser-group-10",label:"*Region:","label-for":"createUser-10"}},[a("b-form-input",{attrs:{id:"createUser-10",type:"text",disabled:""},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1):a("b-form-group",{attrs:{id:"createUser-group-11",label:"*Region:","label-for":"createUser-11"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.regionText,placeholder:null,required:""},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.existingUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.changeAccreditorStatus()}}},[t._v("Proceed")])],1)]},proxy:!0}]),model:{value:t.existingUserPrompt,callback:function(e){t.existingUserPrompt=e},expression:"existingUserPrompt"}},[t._v("\n    "+t._s(t.concatName(t.user))+" already exist as an unregistered Accreditor. Do you\n    want to register "+t._s(t.concatName(t.user))+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Activate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.activatePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.activateUser()}}},[t._v("Activate")])],1)]},proxy:!0}]),model:{value:t.activatePrompt,callback:function(e){t.activatePrompt=e},expression:"activatePrompt"}},[t._v("\n    Are you sure you want to activate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Deactivate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.deleteUser()}}},[t._v("Deactivate")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to deactivate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.createUserPrompt=!1,t.createUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createUserPrompt=!1,t.createUser=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createUserPrompt,callback:function(e){t.createUserPrompt=e},expression:"createUserPrompt"}},[t._v("\n    A previous user registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("AACCUP")]),a("h5",[t._v("List of Accreditors")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search User",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateUser()}}},[t._v("Add User")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(status)",fn:function(e){return["active"===e.value?a("div",{staticStyle:{color:"green"}},[t._v("Active")]):a("div",{staticStyle:{color:"red"}},[t._v("Inactive")])]}},{key:"cell(actions)",fn:function(e){return["active"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Deactivate"},on:{click:function(a){t.user=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("lock_open")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Activate"},on:{click:function(a){t.user=e.item,t.activatePrompt=!0}}},[a("md-icon",[t._v("lock")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},ze=[],Ve=function(t){return t.toString().toLowerCase()},He=function(t,e){return e?t.filter((function(t){return Ve(t.first_name.concat(" ",t.last_name)).includes(Ve(e))})):t},Ye={name:"TableSearch",data:function(){return{sortBy:"name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"user_id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email"},{key:"contact_no",label:"Contact Number"},{key:"region",label:"Region",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],users:[{}],user:{},campusList:[],first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,contact_no:null,campusSelect:null,region:null,password:null,specialization:null,options:[{value:"Region I – Ilocos Region",text:"Region I – Ilocos Region"},{value:"Region II – Cagayan Valley",text:"Region II – Cagayan Valley"},{value:"Region III – Central Luzon",text:"Region III – Central Luzon"},{value:"Region IV‑A – CALABARZON",text:"Region IV‑A – CALABARZON"},{value:"MIMAROPA Region",text:"MIMAROPA Region"},{value:"Region V – Bicol Region",text:"Region V – Bicol Region"},{value:"Region VI – Western Visayas",text:"Region VI – Western Visayas"},{value:"Region VII – Central Visayas",text:"Region VII – Central Visayas"},{value:"Region VIII – Eastern Visayas",text:"Region VIII – Eastern Visayas"},{value:"Region IX – Zamboanga Peninsula",text:"Region IX – Zamboanga Peninsula"},{value:"Region X – Northern Mindanao",text:"Region X – Northern Mindanao"},{value:"Region XI – Davao Region",text:"Region XI – Davao Region"},{value:"Region XII – SOCCSKSARGEN",text:"Region XII – SOCCSKSARGEN"},{value:"Region XIII – Caraga",text:"Region XIII – Caraga"},{value:"NCR – National Capital Region",text:"NCR – National Capital Region"},{value:"CAR – Cordillera Administrative Region",text:"CAR – Cordillera Administrative Region"},{value:"ARMM – Autonomous Region in Muslim Mindanao",text:"ARMM – Autonomous Region in Muslim Mindanao"}],search:null,createUser:!1,createUserPrompt:!1,editUser:!1,activatePrompt:!1,deletePrompt:!1,existingUserPrompt:!1,snackbarText:""}},watch:{campusSelect:function(){this.region=this.campusSelect.region}},methods:{continueCreateUser:function(){null!==this.first_name||null!==this.last_name||null!==this.middle_initial||null!==this.name_extension||null!==this.email||null!==this.contact_no||null!==this.password||null!==this.specialization||null!==this.campusSelect||null!==this.region?this.createUserPrompt=!0:this.createUser=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showAccreditor").then((function(e){t.users=He(e.data.users,t.search),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.first_name,a=this.last_name,i=this.middle_initial,n=this.name_extension,s=this.email,r=this.contact_no,o=this.password,c=this.specialization,l=null;this.campusSelect&&(l=this.campusSelect.id);var d=this.region,m="Registered",u="external accreditor";this.$store.dispatch("registerAaccupAccreditor",{first_name:e,last_name:a,middle_initial:i,name_extension:n,email:s,contact_no:r,password:o,specialization:c,campus_id:l,region:d,accreditor_status:m,role:u}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditor").then((function(e){t.users=e.data.users,t.totalRows=t.users.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.createUser=!1):(t.$isLoading(!1),"Unregistered"===e.data.message?(t.user=e.data.user,t.createUser=!1,t.existingUserPrompt=!0):(t.snackbarText=e.data.message,t.makeToast("Error","danger")))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},changeAccreditorStatus:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a="Registered";this.$store.dispatch("changeAccreditorStatus",{user_id:e,status:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditor").then((function(e){t.users=e.data.users,t.totalRows=t.users.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.specialization=null,t.campusSelect=null,t.region=null,t.existingUserPrompt=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="inactive",t.totalRows=t.users.length,t.deletePrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},activateUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("activateUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="active",t.totalRows=t.users.length,t.activatePrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},campusName:function(t){var e=t.campus_name;return"".concat(e)},regionText:function(t){var e=t.text;return"".concat(e)},select:function(t){null!=t&&(this.$store.commit("saveUserAccount",t),this.$store.commit("saveAccountID",t.user_id),this.$router.push("/AccreditorProfile_AACCUP"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showAccreditor").then((function(e){t.users=e.data.users.filter((function(t){return"Registered"===t.accreditor_status})),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showAllCampus").then((function(e){t.campusList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},Xe=Ye,We=Object(L["a"])(Xe,qe,ze,!1,null,null,null),Ge=We.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create User")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){t.password="password"}}},[t._v("Default")])],1)],1)],1),"college task force head"===t.office.role?a("div",[a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Role:","label-for":"createUser-8"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.roleText,placeholder:null,required:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),a("b-form-group",{attrs:{id:"createUser-group-8",label:"*Department:","label-for":"createUser-8"}},[a("multiselect",{attrs:{options:t.departmentList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.departmentSelect,callback:function(e){t.departmentSelect=e},expression:"departmentSelect"}})],1)],1):t._e(),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Existing User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.existingUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.addRole(t.user.id)}}},[t._v("Proceed")])],1)]},proxy:!0}]),model:{value:t.existingUserPrompt,callback:function(e){t.existingUserPrompt=e},expression:"existingUserPrompt"}},[t._v("\n    "+t._s(t.concatName(t.user))+" already exist as an Accreditor. Do you want to add\n    the role "+t._s(this.role)+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Activate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.activatePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.activateUser(),t.activatePrompt=!1}}},[t._v("Activate")])],1)]},proxy:!0}]),model:{value:t.activatePrompt,callback:function(e){t.activatePrompt=e},expression:"activatePrompt"}},[t._v("\n    Are you sure you want to activate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Deactivate User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.deleteUser(),t.deletePrompt=!1}}},[t._v("Deactivate")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to deactivate this user?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.departmentSelect=null,t.createUserPrompt=!1,t.createUser=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createUserPrompt=!1,t.createUser=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createUserPrompt,callback:function(e){t.createUserPrompt=e},expression:"createUserPrompt"}},[t._v("\n    A previous user registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office?t.office.office_name:t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),a("h5",[t._v("Accreditatation Task Force Users")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search User",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateUser()}}},[t._v("Add User")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(office_roles)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(e.item.office_roles,(function(e,i){return a("span",{key:i},[a("b-form-tag",{staticClass:"hide-close",attrs:{variant:"primary"}},[t._v(t._s(e.office_name)+" ("+t._s(e.role)+")")])],1)})),0)]],2)],1)])]}},{key:"cell(status)",fn:function(e){return["active"===e.value?a("div",{staticStyle:{color:"green"}},[t._v("Active")]):a("div",{staticStyle:{color:"red"}},[t._v("Inactive")])]}},{key:"cell(actions)",fn:function(e){return["active"===e.item.status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Deactivate"},on:{click:function(a){t.user=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("lock_open")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Activate"},on:{click:function(a){t.user=e.item,t.activatePrompt=!0}}},[a("md-icon",[t._v("lock")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Qe=[],Ke=function(t){return t.toString().toLowerCase()},Ze=function(t,e){return e?t.filter((function(t){return Ke(t.first_name.concat(" ",t.last_name)).includes(Ke(e))})):t},ta={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email"},{key:"office_roles",label:"Department"},{key:"contact_no",label:"Contact Number"},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],users:[{}],roles:[{}],user:{},departmentList:[],departmentSelect:null,first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,contact_no:null,password:null,role:null,role_id:null,office:null,search:null,options:[{value:"accreditation task force",text:"Accreditation Task Force"},{value:"program task force chair",text:"Program Task Force Chair"}],createUser:!1,createUserPrompt:!1,existingUserPrompt:!1,activatePrompt:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",offices:"offices"})),methods:{continueCreateUser:function(){null!==this.first_name||null!==this.last_name||null!==this.middle_initial||null!==this.name_extension||null!==this.email||null!==this.contact_no||null!==this.password?this.createUserPrompt=!0:this.createUser=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setRole:function(t){for(var e=[],a=0;a<this.options.length;a++){var i=this.options[a].value,n=this.options[a].text;e.push({value:i,text:n})}for(var s=function(a){var i=e.findIndex((function(e){return e.value===t[a].role}));e.splice(i,1)},r=0;r<t.length;r++)s(r);return e},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showCampusUser",this.campus.campus_id).then((function(e){"college task force head"===t.office.role?t.users=Ze(e.data.college,t.search):"program task force chair"===t.office.role&&(t.users=Ze(e.data.department,t.search)),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.campus.campus_id,a=this.first_name,i=this.last_name,n=this.middle_initial,s=this.name_extension,r=this.email,o=this.contact_no,c=this.password,l=this.office.office_id;"college task force head"===this.office.role&&(l=this.departmentSelect.id);var d="accreditation task force";"college task force head"===this.office.role&&(d=this.role),this.$store.dispatch("registerSucUser",{campus_id:e,first_name:a,last_name:i,middle_initial:n,name_extension:s,email:r,contact_no:o,password:c,office_id:l,role:d}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){"college task force head"===t.office.role?t.users=e.data.college:"program task force chair"===t.office.role&&(t.users=e.data.department),t.totalRows=t.users.length})),t.$isLoading(!1),t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.email=null,t.contact_no=null,t.password=null,t.role=null,t.departmentSelect=null,t.createUser=!1,"Accreditor"===e.data.message?(t.user=e.data.user,t.existingUserPrompt=!0):(t.snackbarText=e.data.message,t.makeToast("Success!","primary"))):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addRole:function(t){var e=this;this.$isLoading(!0);var a="accreditation task force";"college task force head"===this.office.role&&(a=this.role);var i=null;this.$store.dispatch("setRole",{user_id:t,role:a,office_id:i}).then((function(t){!0===t.data.status?(e.$store.dispatch("showCampusUser",e.campus.campus_id).then((function(t){"college task force head"===e.office.role?e.users=t.data.college:"program task force chair"===e.office.role&&(e.users=t.data.department),e.totalRows=e.users.length})),e.existingUserPrompt=!1,e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Success!","primary")):(e.$isLoading(!1),e.snackbarText=t.data.message,e.makeToast("Error","danger"))})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},deleteUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="inactive",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},activateUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("activateUser",this.user.user_id).then((function(e){if(!0===e.data.status){var a=t.users.findIndex((function(e){return e.user_id===t.user.user_id}));t.users[a].status="active",t.totalRows=t.users.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},setDepartment:function(){this.office=this.offices.find((function(t){return"college task force head"===t.role||"program task force chair"===t.role}))},roleText:function(t){var e=t.text;return"".concat(e)},officeName:function(t){var e=t.office_name;return"".concat(e)},select:function(t){null!=t&&(this.$store.commit("saveUserAccount",t),this.$store.commit("saveAccountID",t.user_id),this.$router.push("/TaskForceProfile"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.setDepartment();case 3:return e.next=5,t.$store.dispatch("showCampusUser",t.campus.campus_id).then((function(e){("college task force head"===t.office.role||"program task force chair"===t.office.role)&&(t.users=e.data.college),t.totalRows=t.users.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showDepartment",t.office.office_id).then((function(e){t.departmentList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},ea=ta,aa=(a("5026"),Object(L["a"])(ea,Je,Qe,!1,null,null,null)),ia=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",[a("div",{staticClass:"md-layout",staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.concatName(t.userAccount)))]),a("h4",[t._v("ID: "+t._s(t.account_id))]),a("h4",{staticStyle:{"text-transform":"none"}},[t._v(t._s(t.userAccount.email))])])]),a("md-tabs",{staticClass:"md-primary",attrs:{"md-elevation":"1","md-alignment":"fixed"}},[a("md-tab",{attrs:{"md-label":"Main Record"}},[a("MainRecord")],1),a("md-tab",{attrs:{"md-label":"Personal Information"}},[a("PersonalInfo")],1),a("md-tab",{attrs:{"md-label":"Education"}},[a("Education")],1),a("md-tab",{attrs:{"md-label":"Work Experience"}},[a("WorkExperience")],1),a("md-tab",{attrs:{"md-label":"Other Information"}},[a("OtherInfo")],1)],1)],1)],1)},sa=[],ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Account")])]},proxy:!0}]),model:{value:t.editAccount,callback:function(e){t.editAccount=e},expression:"editAccount"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editUser(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          First Name:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          MI:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Last Name:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Ext:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Email:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editAccount=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Password")])]},proxy:!0}]),model:{value:t.editPassword,callback:function(e){t.editPassword=e},expression:"editPassword"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.changePassword(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Current Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.current_password,callback:function(e){t.current_password=e},expression:"current_password"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          New Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Confirm Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.current_password=null,t.new_password=null,t.confirm_password=null,t.editPassword=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reset Password")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.refreshPasswordPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.resetPassword()}}},[t._v("Reset")])],1)]},proxy:!0}]),model:{value:t.refreshPasswordPrompt,callback:function(e){t.refreshPasswordPrompt=e},expression:"refreshPasswordPrompt"}},[t._v("\n    Are you sure you want to reset this user's password to the default?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Main Record")])]),0===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.editAccount=!0,t.setupEditAccout()}}},[t._v("Edit Account")])],1):t._e(),0===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.refreshPasswordPrompt=!0}}},[t._v("Reset Password")])],1):t._e(),1===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.editPassword=!0}}},[t._v("Change Password")])],1):t._e()]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        ID:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.account_id,callback:function(e){t.account_id=e},expression:"account_id"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Full Name:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.full_name,callback:function(e){t.full_name=e},expression:"full_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Email:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.userAccount.email,callback:function(e){t.$set(t.userAccount,"email",e)},expression:"userAccount.email"}})],1)])])],1)},oa=[],ca={name:"MainRecord",data:function(){return{profile:[],specializationList:[],first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,current_password:null,new_password:null,confirm_password:null,editAccount:!1,refreshPasswordPrompt:!1,editPassword:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({role:"role",userAccount:"userAccount",account_id:"account_id",userEntry:"userEntry"})),{},{full_name:{get:function(){return this.concatName(this.userAccount)}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},editUser:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.first_name,i=this.last_name,n=this.middle_initial,s=this.name_extension,r=this.email;this.$store.dispatch("editUser",{user_id:e,first_name:a,last_name:i,middle_initial:n,name_extension:s,email:r}).then((function(e){!0===e.data.status?(t.userAccount.first_name=t.first_name,t.userAccount.last_name=t.last_name,t.userAccount.middle_initial=t.middle_initial,t.userAccount.name_extension=t.name_extension,t.userAccount.email=t.email,t.editAccount=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},changePassword:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.current_password,i=this.new_password,n=this.confirm_password;this.$store.dispatch("changePassword",{user_id:e,current_password:a,new_password:i,confirm_password:n}).then((function(e){!0===e.data.status?(t.editPassword=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},resetPassword:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("resetPassword",this.account_id).then((function(e){!0===e.data.status?(t.refreshPasswordPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setupEditAccout:function(){this.first_name=this.userAccount.first_name,this.middle_initial=this.userAccount.middle_initial,this.last_name=this.userAccount.last_name,this.name_extension=this.userAccount.name_extension,this.email=this.userAccount.email},checkRole:function(){var t,e;return null!==(t=this.role)&&void 0!==t&&t.length?!!this.role.find((function(t){return 5===t.role_id||6===t.role_id||9===t.role_id||10===t.role_id})):null===(e=this.role)||void 0===e||!e.length||void 0},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}}},la=ca,da=(a("2efd"),Object(L["a"])(la,ra,oa,!1,null,"67002bf6",null)),ma=da.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Personal Information")])]},proxy:!0}]),model:{value:t.editInformation,callback:function(e){t.editInformation=e},expression:"editInformation"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("h6",[t._v("Basic Info")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Gender:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("Select Gender")]),a("b-form-select-option",{attrs:{value:"Male"}},[t._v("Male")]),a("b-form-select-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Civil Status:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{model:{value:t.civil_status,callback:function(e){t.civil_status=e},expression:"civil_status"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("Select Civil Status")]),a("b-form-select-option",{attrs:{value:"Single"}},[t._v("Single")]),a("b-form-select-option",{attrs:{value:"Married"}},[t._v("Married")]),a("b-form-select-option",{attrs:{value:"Divorced"}},[t._v("Divorced")]),a("b-form-select-option",{attrs:{value:"Widowed"}},[t._v("Widowed")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Date of Birth:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date"},model:{value:t.birthdate,callback:function(e){t.birthdate=e},expression:"birthdate"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Place of Birth:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter birth place",type:"text"},model:{value:t.place_of_birth,callback:function(e){t.place_of_birth=e},expression:"place_of_birth"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Nationality:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter nationality",type:"text"},model:{value:t.nationality,callback:function(e){t.nationality=e},expression:"nationality"}})],1)]),a("br"),a("h6",[t._v("Address")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Current Address:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter current address",type:"text"},model:{value:t.current_address,callback:function(e){t.current_address=e},expression:"current_address"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Home Address:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter home address",type:"text"},model:{value:t.home_address,callback:function(e){t.home_address=e},expression:"home_address"}})],1)]),a("br"),a("h6",[t._v("Contact Info")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Telephone Number:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter telephone number",type:"number"},model:{value:t.telephone_no,callback:function(e){t.telephone_no=e},expression:"telephone_no"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Mobile Number:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter mobile number",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)]),a("br"),a("h6",[t._v("Government Issued ID")]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Government Issued ID:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter gov't issued ID",type:"text"},model:{value:t.government_id_type,callback:function(e){t.government_id_type=e},expression:"government_id_type"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          ID Number:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter ID number",type:"text"},model:{value:t.id_number,callback:function(e){t.id_number=e},expression:"id_number"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Date of Issuance:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date"},model:{value:t.date_of_issuance,callback:function(e){t.date_of_issuance=e},expression:"date_of_issuance"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Place of Issuance:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter place of issuance",type:"text"},model:{value:t.place_of_issuance,callback:function(e){t.place_of_issuance=e},expression:"place_of_issuance"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editInformation=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Personal Information")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.setInput(),t.editInformation=!0}}},[t._v("Edit")])],1)]),a("h6",[t._v("Basic Info")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Gender:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.gender,callback:function(e){t.$set(t.profile,"gender",e)},expression:"profile.gender"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Civil Status:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.civil_status,callback:function(e){t.$set(t.profile,"civil_status",e)},expression:"profile.civil_status"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Date of Birth:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.birthdate,callback:function(e){t.$set(t.profile,"birthdate",e)},expression:"profile.birthdate"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Place of Birth:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.place_of_birth,callback:function(e){t.$set(t.profile,"place_of_birth",e)},expression:"profile.place_of_birth"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Nationality:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.nationality,callback:function(e){t.$set(t.profile,"nationality",e)},expression:"profile.nationality"}})],1)]),a("br"),a("h6",[t._v("Address")]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Current Address:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.current_address,callback:function(e){t.$set(t.profile,"current_address",e)},expression:"profile.current_address"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Home Address:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.home_address,callback:function(e){t.$set(t.profile,"home_address",e)},expression:"profile.home_address"}})],1)]),a("br"),a("h6",[t._v("Contact Info")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Telephone Number:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.telephone_no,callback:function(e){t.$set(t.profile,"telephone_no",e)},expression:"profile.telephone_no"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Mobile Number:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.contact_no,callback:function(e){t.$set(t.profile,"contact_no",e)},expression:"profile.contact_no"}})],1)]),a("br"),a("h6",[t._v("Government Issued ID")]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Government Issued ID:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.government_id_type,callback:function(e){t.$set(t.profile,"government_id_type",e)},expression:"profile.government_id_type"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        ID Number:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.id_number,callback:function(e){t.$set(t.profile,"id_number",e)},expression:"profile.id_number"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Date of Issuance:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.date_of_issuance,callback:function(e){t.$set(t.profile,"date_of_issuance",e)},expression:"profile.date_of_issuance"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Place of Issuance:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.place_of_issuance,callback:function(e){t.$set(t.profile,"place_of_issuance",e)},expression:"profile.place_of_issuance"}})],1)])])],1)},pa=[],fa={name:"PersonalInfo",data:function(){return{profile:[],gender:null,civil_status:null,place_of_birth:null,nationality:null,birthdate:null,current_address:null,home_address:null,telephone_no:null,contact_no:null,government_id_type:null,id_number:null,date_of_issuance:null,place_of_issuance:null,editInformation:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setInput:function(){this.gender=this.profile.gender,this.civil_status=this.profile.civil_status,this.place_of_birth=this.profile.place_of_birth,this.nationality=this.profile.nationality,this.birthdate=this.profile.birthdate,this.current_address=this.profile.current_address,this.home_address=this.profile.home_address,this.telephone_no=this.profile.telephone_no,this.contact_no=this.profile.contact_no,this.government_id_type=this.profile.government_id_type,this.id_number=this.profile.id_number,this.date_of_issuance=this.profile.date_of_issuance,this.place_of_issuance=this.profile.place_of_issuance},edit:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.gender,i=this.civil_status,n=this.place_of_birth,s=this.nationality,r=this.birthdate,o=this.current_address,c=this.home_address,l=this.telephone_no,d=this.contact_no,m=this.government_id_type,u=this.id_number,p=this.date_of_issuance,f=this.place_of_issuance;this.$store.dispatch("savePersonalInfo",{user_id:e,gender:a,civil_status:i,place_of_birth:n,nationality:s,birthdate:r,current_address:o,home_address:c,telephone_no:l,contact_no:d,government_id_type:m,id_number:u,date_of_issuance:p,place_of_issuance:f}).then((function(e){!0===e.data.status?(t.$store.dispatch("showPersonalInfo",t.account_id).then((function(e){t.profile=e.data.user})),t.editInformation=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showPersonalInfo",t.account_id).then((function(e){t.profile=e.data.user})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},ha=fa,va=(a("249a"),Object(L["a"])(ha,ua,pa,!1,null,"38c3cb83",null)),ga=va.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Educational Attainment")])]},proxy:!0}]),model:{value:t.createEducation,callback:function(e){t.createEducation=e},expression:"createEducation"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.create(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Level:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{required:""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("Select Level")]),a("b-form-select-option",{attrs:{value:"Elementary"}},[t._v("Elementary")]),a("b-form-select-option",{attrs:{value:"Secondary"}},[t._v("Secondary")]),a("b-form-select-option",{attrs:{value:"Vocational"}},[t._v("Vocational")]),a("b-form-select-option",{attrs:{value:"College"}},[t._v("College")]),a("b-form-select-option",{attrs:{value:"Graduate Studies"}},[t._v("Graduate Studies")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *School:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter School Name",type:"text",required:""},model:{value:t.school_name,callback:function(e){t.school_name=e},expression:"school_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Degree / Course:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter degree/course taken",type:"text"},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date",required:""},model:{value:t.started_at,callback:function(e){t.started_at=e},expression:"started_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:t.started_at,type:"date"},model:{value:t.graduated_at,callback:function(e){t.graduated_at=e},expression:"graduated_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Honors Received:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter honors received",type:"text"},model:{value:t.honor,callback:function(e){t.honor=e},expression:"honor"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createEducation=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Educational Attainment")])]},proxy:!0}]),model:{value:t.editEducation,callback:function(e){t.editEducation=e},expression:"editEducation"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Level:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{required:""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("Select Level")]),a("b-form-select-option",{attrs:{value:"Elementary"}},[t._v("Elementary")]),a("b-form-select-option",{attrs:{value:"Secondary"}},[t._v("Secondary")]),a("b-form-select-option",{attrs:{value:"Vocational"}},[t._v("Vocational")]),a("b-form-select-option",{attrs:{value:"College"}},[t._v("College")]),a("b-form-select-option",{attrs:{value:"Graduate Studies"}},[t._v("Graduate Studies")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *School:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter School Name",type:"text",required:""},model:{value:t.school_name,callback:function(e){t.school_name=e},expression:"school_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Degree / Course:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter degree/course taken",type:"text"},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date",required:""},model:{value:t.started_at,callback:function(e){t.started_at=e},expression:"started_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:t.started_at,type:"date"},model:{value:t.graduated_at,callback:function(e){t.graduated_at=e},expression:"graduated_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Honors Received:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{placeholder:"Enter honors received",type:"text"},model:{value:t.honor,callback:function(e){t.honor=e},expression:"honor"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editEducation=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Educational Attainment")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.remove()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this attainment?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Educational Attainment")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.resetInput(),t.createEducation=!0}}},[t._v("Create")])],1)]),t._l(t.education,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-raised md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.educationSelect=e,t.setInput(),t.editEducation=!0}}},[a("md-icon",[t._v("edit")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-raised md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.educationSelect=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Level:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.level,callback:function(a){t.$set(e,"level",a)},expression:"item.level"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          School:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.school_name,callback:function(a){t.$set(e,"school_name",a)},expression:"item.school_name"}})],1)]),"Elementary"!==e.level&&"Secondary"!==e.level?a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Degree / Course:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.course,callback:function(a){t.$set(e,"course",a)},expression:"item.course"}})],1)]):t._e(),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.started_at,callback:function(a){t.$set(e,"started_at",a)},expression:"item.started_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.graduated_at,callback:function(a){t.$set(e,"graduated_at",a)},expression:"item.graduated_at"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Honors Received:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.honor,callback:function(a){t.$set(e,"honor",a)},expression:"item.honor"}})],1)])])}))],2)],1)},_a=[],ya={name:"MainRecord",data:function(){return{education:[],educationSelect:null,school_name:null,level:null,started_at:null,graduated_at:null,honor:null,course:null,units_earned:null,createEducation:!1,editEducation:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},resetInput:function(){this.school_name=null,this.level=null,this.started_at=null,this.graduated_at=null,this.honor=null,this.course=null},setInput:function(){this.school_name=this.educationSelect.school_name,this.level=this.educationSelect.level,this.started_at=this.educationSelect.started_at,this.graduated_at=this.educationSelect.graduated_at,this.honor=this.educationSelect.honor,this.course=this.educationSelect.course},create:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.school_name,i=this.level,n=this.started_at,s=this.graduated_at,r=this.honor,o=this.course;this.$store.dispatch("createEducationInfo",{user_id:e,school_name:a,level:i,started_at:n,graduated_at:s,honor:r,course:o}).then((function(e){!0===e.data.status?(t.$store.dispatch("showEducationInfo",t.account_id).then((function(e){t.education=e.data.educations})),t.createEducation=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0);var e=this.educationSelect.id,a=this.school_name,i=this.level,n=this.started_at,s=this.graduated_at,r=this.honor,o=this.course;this.$store.dispatch("editEducationInfo",{user_education_id:e,school_name:a,level:i,started_at:n,graduated_at:s,honor:r,course:o}).then((function(e){!0===e.data.status?(t.$store.dispatch("showEducationInfo",t.account_id).then((function(e){t.education=e.data.educations})),t.editEducation=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteEducationInfo",this.educationSelect.id).then((function(e){if(!0===e.data.status){var a=t.education.findIndex((function(e){return e.id===t.educationSelect.id}));t.education.splice(a,1),t.deletePrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("showEducationInfo",t.account_id).then((function(e){t.education=e.data.educations})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 2:case"end":return e.stop()}}),e)})))()}},ka=ya,xa=(a("14d8"),Object(L["a"])(ka,ba,_a,!1,null,"4250e94c",null)),Sa=xa.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Work Experience")])]},proxy:!0}]),model:{value:t.createWork,callback:function(e){t.createWork=e},expression:"createWork"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.create(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Company:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter company name",required:""},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Job Position:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter position",required:""},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date",required:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:t.start,type:"date"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createWork=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Work Experience")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.remove()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this work experience?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Work Experience")])]},proxy:!0}]),model:{value:t.editWork,callback:function(e){t.editWork=e},expression:"editWork"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Company:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter company name",required:""},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Job Position:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter position",required:""},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"date",required:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:t.start,type:"date"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editWork=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Work Experience")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.resetInput(),t.createWork=!0}}},[t._v("Create")])],1)]),t._l(t.work,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-raised md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.workSelect=e,t.setInput(),t.editWork=!0}}},[a("md-icon",[t._v("edit")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-raised md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.workSelect=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Company:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.company_name,callback:function(a){t.$set(e,"company_name",a)},expression:"item.company_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Job Position:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.position,callback:function(a){t.$set(e,"position",a)},expression:"item.position"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Start Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.start,callback:function(a){t.$set(e,"start",a)},expression:"item.start"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          End Date:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.end,callback:function(a){t.$set(e,"end",a)},expression:"item.end"}})],1)])])}))],2)],1)},wa=[],Ta={name:"WorkExperience",data:function(){return{work:[],workSelect:null,company_name:null,position:null,start:null,end:null,createWork:!1,editWork:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},resetInput:function(){this.company_name=null,this.position=null,this.start=null,this.end=null},setInput:function(){this.company_name=this.workSelect.company_name,this.position=this.workSelect.position,this.start=this.workSelect.start,this.end=this.workSelect.end},create:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.company_name,i=this.position,n=this.start,s=this.end;this.$store.dispatch("createWorkExperience",{user_id:e,company_name:a,position:i,start:n,end:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showWorkExperience",t.account_id).then((function(e){t.work=e.data.works})),t.createWork=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0);var e=this.workSelect.id,a=this.company_name,i=this.position,n=this.start,s=this.end;this.$store.dispatch("editWorkExperience",{user_work_id:e,company_name:a,position:i,start:n,end:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showWorkExperience",t.account_id).then((function(e){t.work=e.data.works})),t.editWork=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteWorkExperience",this.workSelect.id).then((function(e){if(!0===e.data.status){var a=t.work.findIndex((function(e){return e.id===t.workSelect.id}));t.work.splice(a,1),t.deletePrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("showWorkExperience",t.account_id).then((function(e){t.work=e.data.works})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 2:case"end":return e.stop()}}),e)})))()}},Pa=Ta,La=(a("4a6b"),Object(L["a"])(Pa,Ca,wa,!1,null,"f94369e0",null)),Aa=La.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit")])]},proxy:!0}]),model:{value:t.editOthers,callback:function(e){t.editOthers=e},expression:"editOthers"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit()}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n          Special Skills and Hobbies:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter special skills and hobbies",rows:"3","max-rows":"6"},model:{value:t.skill_hobby,callback:function(e){t.skill_hobby=e},expression:"skill_hobby"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n          Non-Academic Recognitions:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter non-academic recognitions",rows:"3","max-rows":"6"},model:{value:t.distribution_recognition,callback:function(e){t.distribution_recognition=e},expression:"distribution_recognition"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n          Orgranizations:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter orgranizations",rows:"3","max-rows":"6"},model:{value:t.association_organization,callback:function(e){t.association_organization=e},expression:"association_organization"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editOthers=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Other Information")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.setInput(),t.editOthers=!0}}},[t._v("Edit")])],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n        Special Skills and Hobbies:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",rows:"3","max-rows":"6",disabled:""},model:{value:t.others.skill_hobby,callback:function(e){t.$set(t.others,"skill_hobby",e)},expression:"others.skill_hobby"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n        Non-Academic Recognitions:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",rows:"3","max-rows":"6",disabled:""},model:{value:t.others.distribution_recognition,callback:function(e){t.$set(t.others,"distribution_recognition",e)},expression:"others.distribution_recognition"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[t._v("\n        Orgranizations:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{id:"statement",rows:"3","max-rows":"6",disabled:""},model:{value:t.others.association_organization,callback:function(e){t.$set(t.others,"association_organization",e)},expression:"others.association_organization"}})],1)])])],1)},Da=[],Ra={name:"MainRecord",data:function(){return{others:[],skill_hobby:null,distribution_recognition:null,association_organization:null,editOthers:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setInput:function(){this.skill_hobby=this.others.skill_hobby,this.distribution_recognition=this.others.distribution_recognition,this.association_organization=this.others.association_organization},edit:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.skill_hobby,i=this.distribution_recognition,n=this.association_organization;this.$store.dispatch("editOtherInformation",{user_id:e,skill_hobby:a,distribution_recognition:i,association_organization:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showOtherInformation",t.account_id).then((function(e){t.others=e.data.user})),t.editOthers=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("showOtherInformation",t.account_id).then((function(e){t.others=e.data.user})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 2:case"end":return e.stop()}}),e)})))()}},Ia=Ra,Ea=(a("24eb"),Object(L["a"])(Ia,$a,Da,!1,null,"d6bd6696",null)),Ua=Ea.exports,Oa={name:"Profile",data:function(){return{snackbarText:""}},components:{MainRecord:ma,PersonalInfo:ga,Education:Sa,WorkExperience:Aa,OtherInfo:Ua},computed:Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}}},Fa=Oa,Ba=Object(L["a"])(Fa,na,sa,!1,null,null,null),Na=Ba.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",[a("div",{staticClass:"md-layout",staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.concatName(t.userAccount)))]),a("h4",[t._v("ID: "+t._s(t.account_id))]),a("h4",{staticStyle:{"text-transform":"none"}},[t._v(t._s(t.userAccount.email))])])]),a("md-tabs",{staticClass:"md-primary",attrs:{"md-elevation":"1","md-alignment":"fixed"}},[a("md-tab",{attrs:{"md-label":"Main Record"}},[a("MainRecord")],1),a("md-tab",{attrs:{"md-label":"Personal Information"}},[a("PersonalInfo")],1),a("md-tab",{attrs:{"md-label":"Education"}},[a("Education")],1),a("md-tab",{attrs:{"md-label":"Work Experience"}},[a("WorkExperience")],1),a("md-tab",{attrs:{"md-label":"Other Information"}},[a("OtherInfo")],1)],1)],1)],1)},ja=[],qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Account")])]},proxy:!0}]),model:{value:t.editAccount,callback:function(e){t.editAccount=e},expression:"editAccount"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editUser(e)}}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          First Name:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          MI:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Last Name:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Ext:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          Email:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editAccount=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Reset Password")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.refreshPasswordPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.resetPassword()}}},[t._v("Reset")])],1)]},proxy:!0}]),model:{value:t.refreshPasswordPrompt,callback:function(e){t.refreshPasswordPrompt=e},expression:"refreshPasswordPrompt"}},[t._v("\n    Are you sure you want to reset this user's password to the default?\n    ")]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Password")])]},proxy:!0}]),model:{value:t.editPassword,callback:function(e){t.editPassword=e},expression:"editPassword"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.changePassword(e)}}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"180px"}},[t._v("\n          *Current Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.current_password,callback:function(e){t.current_password=e},expression:"current_password"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"180px"}},[t._v("\n          *New Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"180px"}},[t._v("\n          *Confirm Password:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"password",required:""},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editPassword=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Region")])]},proxy:!0}]),model:{value:t.editRegion,callback:function(e){t.editRegion=e},expression:"editRegion"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"15px"}},[t._v("\n          *Region:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("multiselect",{attrs:{options:t.options,"custom-label":t.regionText,placeholder:null,required:""},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editRegion=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit SUC Affiliation")])]},proxy:!0}]),model:{value:t.editAffiliation,callback:function(e){t.editAffiliation=e},expression:"editAffiliation"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"100px"}},[t._v("\n          *Campus:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("multiselect",{attrs:{options:t.campusList,"custom-label":t.campusName,placeholder:null,required:""},model:{value:t.campus,callback:function(e){t.campus=e},expression:"campus"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"100px"}},[t._v("\n          Designation:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.designation,callback:function(e){t.designation=e},expression:"designation"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"100px"}},[t._v("\n          Academic Rank:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text"},model:{value:t.academic_rank,callback:function(e){t.academic_rank=e},expression:"academic_rank"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editAffiliation=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Specialization")])]},proxy:!0}]),model:{value:t.addSpecialization,callback:function(e){t.addSpecialization=e},expression:"addSpecialization"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.add(e)}}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          *Specialization:\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.specialization,callback:function(e){t.specialization=e},expression:"specialization"}})],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addSpecialization=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Specialization")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.remove()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this specialization?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px",margin:"0"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Main Record")])]),0===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.editAccount=!0,t.setupEditAccout()}}},[t._v("Edit Account")])],1):t._e(),t.profile.campus_name?t._e():a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.setInput(),t.editRegion=!0}}},[t._v("Edit Region")])],1),0===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.refreshPasswordPrompt=!0}}},[t._v("Reset Password")])],1):t._e(),1===t.userEntry?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"130px",margin:"0"},on:{click:function(e){t.editPassword=!0}}},[t._v("Change Password")])],1):t._e()]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        ID:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.account_id,callback:function(e){t.account_id=e},expression:"account_id"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Full Name:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.full_name,callback:function(e){t.full_name=e},expression:"full_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Email:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.userAccount.email,callback:function(e){t.$set(t.userAccount,"email",e)},expression:"userAccount.email"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Region:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.region,callback:function(e){t.$set(t.profile,"region",e)},expression:"profile.region"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Status:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.accreditor_status,callback:function(e){t.$set(t.profile,"accreditor_status",e)},expression:"profile.accreditor_status"}})],1)]),a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("SUC Affiliation")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.getCampus(),t.setInput(),t.editAffiliation=!0}}},[t._v("Edit")])],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Status:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.status,callback:function(e){t.$set(t.profile,"status",e)},expression:"profile.status"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        SUC:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.suc_name,callback:function(e){t.$set(t.profile,"suc_name",e)},expression:"profile.suc_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Campus:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.campus_name,callback:function(e){t.$set(t.profile,"campus_name",e)},expression:"profile.campus_name"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Region:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.campus_region,callback:function(e){t.$set(t.profile,"campus_region",e)},expression:"profile.campus_region"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Designation:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.designation,callback:function(e){t.$set(t.profile,"designation",e)},expression:"profile.designation"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n        Academic Rank:\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.profile.academic_rank,callback:function(e){t.$set(t.profile,"academic_rank",e)},expression:"profile.academic_rank"}})],1)]),a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Specialization")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{width:"max-content",margin:"0"},on:{click:function(e){t.specialization=null,t.addSpecialization=!0}}},[t._v("Add")])],1)]),t._l(t.specializationList,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[t._v("\n          "+t._s(i+1)+".\n        ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.specialization,callback:function(a){t.$set(e,"specialization",a)},expression:"item.specialization"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-left":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.specializationSelect=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)],1)])])}))],2)],1)},za=[],Va={name:"MainRecord",data:function(){return{profile:[],specializationList:[],specializationSelect:null,first_name:null,last_name:null,middle_initial:null,name_extension:null,email:null,current_password:null,new_password:null,confirm_password:null,editAccount:!1,refreshPasswordPrompt:!1,region:null,options:[{value:"Region I – Ilocos Region",text:"Region I – Ilocos Region"},{value:"Region II – Cagayan Valley",text:"Region II – Cagayan Valley"},{value:"Region III – Central Luzon",text:"Region III – Central Luzon"},{value:"Region IV‑A – CALABARZON",text:"Region IV‑A – CALABARZON"},{value:"MIMAROPA Region",text:"MIMAROPA Region"},{value:"Region V – Bicol Region",text:"Region V – Bicol Region"},{value:"Region VI – Western Visayas",text:"Region VI – Western Visayas"},{value:"Region VII – Central Visayas",text:"Region VII – Central Visayas"},{value:"Region VIII – Eastern Visayas",text:"Region VIII – Eastern Visayas"},{value:"Region IX – Zamboanga Peninsula",text:"Region IX – Zamboanga Peninsula"},{value:"Region X – Northern Mindanao",text:"Region X – Northern Mindanao"},{value:"Region XI – Davao Region",text:"Region XI – Davao Region"},{value:"Region XII – SOCCSKSARGEN",text:"Region XII – SOCCSKSARGEN"},{value:"Region XIII – Caraga",text:"Region XIII – Caraga"},{value:"NCR – National Capital Region",text:"NCR – National Capital Region"},{value:"CAR – Cordillera Administrative Region",text:"CAR – Cordillera Administrative Region"},{value:"ARMM – Autonomous Region in Muslim Mindanao",text:"ARMM – Autonomous Region in Muslim Mindanao"}],academic_rank:null,designation:null,campus:null,campusList:[],specialization:null,editPassword:!1,editRegion:!1,editAffiliation:!1,addSpecialization:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id",userEntry:"userEntry"})),{},{full_name:{get:function(){return this.concatName(this.userAccount)}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},getCampus:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showAllCampus").then((function(e){t.$isLoading(!1),t.campusList=e.data})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setInput:function(){this.region=this.profile.region,this.academic_rank=this.profile.academic_rank,this.designation=this.profile.designation,this.campus=[{id:this.profile.campus_id,campus_name:this.profile.campus_name,region:this.profile.campus_region}]},editUser:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.first_name,i=this.last_name,n=this.middle_initial,s=this.name_extension,r=this.email;this.$store.dispatch("editUser",{user_id:e,first_name:a,last_name:i,middle_initial:n,name_extension:s,email:r}).then((function(e){!0===e.data.status?(t.userAccount.first_name=t.first_name,t.userAccount.last_name=t.last_name,t.userAccount.middle_initial=t.middle_initial,t.userAccount.name_extension=t.name_extension,t.userAccount.email=t.email,t.editAccount=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},changePassword:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.current_password,i=this.new_password,n=this.confirm_password;this.$store.dispatch("changePassword",{user_id:e,current_password:a,new_password:i,confirm_password:n}).then((function(e){!0===e.data.status?(t.editPassword=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},resetPassword:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("resetPassword",this.account_id).then((function(e){!0===e.data.status?(t.refreshPasswordPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setupEditAccout:function(){this.first_name=this.userAccount.first_name,this.middle_initial=this.userAccount.middle_initial,this.last_name=this.userAccount.last_name,this.name_extension=this.userAccount.name_extension,this.email=this.userAccount.email},checkRole:function(){var t,e;return null!==(t=this.role)&&void 0!==t&&t.length?!!this.role.find((function(t){return 5===t.role_id||6===t.role_id||9===t.role_id||10===t.role_id})):null===(e=this.role)||void 0===e||!e.length||void 0},edit:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.region,i=this.campus.id,n=this.academic_rank,s=this.designation;this.campus.region&&(a=this.campus.region),this.$store.dispatch("editAccreditorProfile",{user_id:e,region:a,campus_id:i,academic_rank:n,designation:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorProfile",t.account_id).then((function(e){t.profile=e.data.accreditor[0]})),t.editRegion=!1,t.editAffiliation=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},add:function(){var t=this;this.$isLoading(!0);var e=this.account_id,a=this.specialization;this.$store.dispatch("addAccreditorSpecialization",{user_id:e,specialization:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorSpecialization",t.account_id).then((function(e){t.specializationList=e.data.specializations})),t.addSpecialization=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAccreditorSpecialization",this.specializationSelect.id).then((function(e){if(!0===e.data.status){var a=t.specializationList.findIndex((function(e){return e.id===t.specializationSelect.id}));t.specializationList.splice(a,1),t.deletePrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},campusName:function(t){var e=t.campus_name;return"".concat(e)},regionText:function(t){return"".concat(t)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("showAccreditorProfile",t.account_id).then((function(e){t.profile=e.data.accreditor[0]})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 2:return e.next=4,t.$store.dispatch("showAccreditorSpecialization",t.account_id).then((function(e){t.specializationList=e.data.specializations})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:case"end":return e.stop()}}),e)})))()}},Ha=Va,Ya=(a("a5a0"),Object(L["a"])(Ha,qa,za,!1,null,"414b6e0c",null)),Xa=Ya.exports,Wa={name:"Profile",data:function(){return{snackbarText:""}},components:{MainRecord:Xa,PersonalInfo:ga,Education:Sa,WorkExperience:Aa,OtherInfo:Ua},computed:Object(w["a"])({},Object(h["b"])({userAccount:"userAccount",account_id:"account_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0}}},Ga=Wa,Ja=Object(L["a"])(Ga,Ma,ja,!1,null,null,null),Qa=Ja.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create SUC")])]},proxy:!0}]),model:{value:t.createSUC,callback:function(e){t.createSUC=e},expression:"createSUC"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-form-group",{attrs:{id:"createSUC-group-1",label:"*SUC Name:","label-for":"createSUC-1"}},[a("b-form-input",{attrs:{id:"createSUC-1",type:"text",required:""},model:{value:t.institution_name,callback:function(e){t.institution_name=e},expression:"institution_name"}})],1),a("b-form-group",{attrs:{id:"createSUC-group-2",label:"*Address:","label-for":"createSUC-2"}},[a("b-form-input",{attrs:{id:"createSUC-2",type:"text",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createSUC-group-3",label:"*Email:","label-for":"createSUC-3"}},[a("b-form-input",{attrs:{id:"createSUC-3",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createSUC-group-4",label:"*Contact Number:","label-for":"createSUC-4"}},[a("b-form-input",{attrs:{id:"createSUC-4",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createSUC-group-5",label:"Institution Level:","label-for":"createSUC-5"}},[a("b-form-input",{attrs:{id:"createSUC-5",type:"number",step:"0.01",min:"0",max:"5"},model:{value:t.suc_level,callback:function(e){t.suc_level=e},expression:"suc_level"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createSUC=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit SUC")])]},proxy:!0}]),model:{value:t.editSUC,callback:function(e){t.editSUC=e},expression:"editSUC"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editSUC-group-1",label:"SUC Name:","label-for":"editSUC-1"}},[a("b-form-input",{attrs:{id:"editSUC-1",type:"text",required:""},model:{value:t.sucSelect.institution_name,callback:function(e){t.$set(t.sucSelect,"institution_name",e)},expression:"sucSelect.institution_name"}})],1),a("b-form-group",{attrs:{id:"editSUC-group-2",label:"Address:","label-for":"editSUC-2"}},[a("b-form-input",{attrs:{id:"editSUC-2",type:"text",required:""},model:{value:t.sucSelect.address,callback:function(e){t.$set(t.sucSelect,"address",e)},expression:"sucSelect.address"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editSUC-group-3",label:"Email:","label-for":"editSUC-3"}},[a("b-form-input",{attrs:{id:"editSUC-3",type:"email",required:""},model:{value:t.sucSelect.email,callback:function(e){t.$set(t.sucSelect,"email",e)},expression:"sucSelect.email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editSUC-group-4",label:"Contact Number:","label-for":"editSUC-4"}},[a("b-form-input",{attrs:{id:"editSUC-4",type:"number",required:""},model:{value:t.sucSelect.contact_no,callback:function(e){t.$set(t.sucSelect,"contact_no",e)},expression:"sucSelect.contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"editSUC-group-5",label:"Institution Level:","label-for":"editSUC-5"}},[a("b-form-select",{attrs:{id:"editSUC-5",required:""},model:{value:t.sucSelect.suc_level,callback:function(e){t.$set(t.sucSelect,"suc_level",e)},expression:"sucSelect.suc_level"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("0")]),a("b-form-select-option",{attrs:{value:1}},[t._v("1")]),a("b-form-select-option",{attrs:{value:2}},[t._v("2")]),a("b-form-select-option",{attrs:{value:3}},[t._v("3")]),a("b-form-select-option",{attrs:{value:4}},[t._v("4")]),a("b-form-select-option",{attrs:{value:5}},[t._v("5")])],1)],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editSUC=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.editSUC=!1}}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this SUC?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.institution_name=null,t.contact_no=null,t.email=null,t.address=null,t.suc_level=null,t.createSUCPrompt=!1,t.createSUC=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createSUCPrompt=!1,t.createSUC=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createSUCPrompt,callback:function(e){t.createSUCPrompt=e},expression:"createSUCPrompt"}},[t._v("\n    A previous SUC registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("AACCUP")]),a("h5",[t._v("List of SUC")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search SUC",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateSUC()}}},[t._v("Create SUC")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.sucList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.sucSelect=e.item,t.editSUC=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.sucSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Za=[],ti=function(t){return t.toString().toLowerCase()},ei=function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return ti(t.institution_name).includes(ti(e))})):t},ai={name:"TableSearch",data:function(){return{sortBy:"program_name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"institution_name",label:"SUC Name",sortable:!0},{key:"address",label:"Address",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"contact_no",label:"Contact Number",sortable:!0},{key:"suc_level",label:"Institutional Level",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],sucList:[{}],sucSelect:{},institution_name:null,address:null,email:null,contact_no:null,suc_level:null,search:null,createSUC:!1,createSUCPrompt:!1,editSUC:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({program:"program"})),methods:{continueCreateSUC:function(){null!==this.institution_name||null!==this.address||null!==this.email||null!==this.contact_no||null!==this.suc_level?this.createSUCPrompt=!0:this.createSUC=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showSuc").then((function(e){t.sucList=ei(e.data,t.search),t.totalRows=t.sucList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.institution_name,a=this.address,i=this.email,n=this.contact_no,s=this.suc_level;this.$store.dispatch("addSuc",{institution_name:e,address:a,email:i,contact_no:n,suc_level:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showSuc").then((function(e){t.sucList=e.data,t.totalRows=t.sucList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.institution_name=null,t.address=null,t.email=null,t.contact_no=null,t.suc_level=null,t.createSUC=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editSuc",this.sucSelect).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteSuc",this.sucSelect.id).then((function(e){if(!0===e.data.status){var a=t.sucList.findIndex((function(e){return e.id===t.sucSelect.id}));t.sucList.splice(a,1),t.totalRows=t.sucList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},select:function(t){null!=t&&(this.$store.commit("saveSUC",t),this.$router.push("/ManageCampus"))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showSuc").then((function(e){t.sucList=e.data,t.totalRows=t.sucList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},ii=ai,ni=Object(L["a"])(ii,Ka,Za,!1,null,null,null),si=ni.exports,ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Campus")])]},proxy:!0}]),model:{value:t.createCampus,callback:function(e){t.createCampus=e},expression:"createCampus"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.setUser(0)}}},[a("b-form-group",{attrs:{id:"createCampus-group-1",label:"*SUC Name:","label-for":"createCampus-1"}},[a("b-form-input",{attrs:{id:"createCampus-1",type:"text",required:""},model:{value:t.campus_name,callback:function(e){t.campus_name=e},expression:"campus_name"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createCampus-group-2",label:"*Email:","label-for":"createCampus-2"}},[a("b-form-input",{attrs:{id:"createCampus-2",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createCampus-group-3",label:"*Contact Number:","label-for":"createCampus-3"}},[a("b-form-input",{attrs:{id:"createCampus-3",type:"number",required:""},model:{value:t.contact_no,callback:function(e){t.contact_no=e},expression:"contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createCampus-group-4",label:"*Address:","label-for":"createCampus-4"}},[a("b-form-input",{attrs:{id:"createCampus-4",type:"text",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("b-form-group",{attrs:{id:"createCampus-group-5",label:"*Region:","label-for":"createCampus-5"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.regionText,placeholder:null,required:""},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createCampus=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create User")])]},proxy:!0}]),model:{value:t.createUser,callback:function(e){t.createUser=e},expression:"createUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-1",label:"*First Name:","label-for":"createUser-1"}},[a("b-form-input",{attrs:{id:"createUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-2",label:"MI:","label-for":"createUser-2"}},[a("b-form-input",{attrs:{id:"createUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-3",label:"*Last Name:","label-for":"createUser-3"}},[a("b-form-input",{attrs:{id:"createUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createUser-group-4",label:"Ext:","label-for":"createUser-4"}},[a("b-form-input",{attrs:{id:"createUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-5",label:"*Email:","label-for":"createUser-5"}},[a("b-form-input",{attrs:{id:"createUser-5",type:"email",required:""},model:{value:t.user_email,callback:function(e){t.user_email=e},expression:"user_email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createUser-group-6",label:"*Contact Number:","label-for":"createUser-6"}},[a("b-form-input",{attrs:{id:"createUser-6",type:"number",required:""},model:{value:t.user_contact_no,callback:function(e){t.user_contact_no=e},expression:"user_contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createUser-group-7",label:"*Password:","label-for":"createUser-7"}},[a("b-form-input",{attrs:{id:"createUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create User")])]},proxy:!0}]),model:{value:t.createNewUser,callback:function(e){t.createNewUser=e},expression:"createNewUser"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.registerQA(e)}}},[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createNewUser-group-1",label:"*First Name:","label-for":"createNewUser-1"}},[a("b-form-input",{attrs:{id:"createNewUser-1",type:"text",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createNewUser-group-2",label:"MI:","label-for":"createNewUser-2"}},[a("b-form-input",{attrs:{id:"createNewUser-2",type:"text"},model:{value:t.middle_initial,callback:function(e){t.middle_initial=e},expression:"middle_initial"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createNewUser-group-3",label:"*Last Name:","label-for":"createNewUser-3"}},[a("b-form-input",{attrs:{id:"createNewUser-3",type:"text",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"130px"}},[a("b-form-group",{attrs:{id:"createNewUser-group-4",label:"Ext:","label-for":"createNewUser-4"}},[a("b-form-input",{attrs:{id:"createNewUser-4",type:"text"},model:{value:t.name_extension,callback:function(e){t.name_extension=e},expression:"name_extension"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createNewUser-group-5",label:"*Email:","label-for":"createNewUser-5"}},[a("b-form-input",{attrs:{id:"createNewUser-5",type:"email",required:""},model:{value:t.user_email,callback:function(e){t.user_email=e},expression:"user_email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createNewUser-group-6",label:"*Contact Number:","label-for":"createNewUser-6"}},[a("b-form-input",{attrs:{id:"createNewUser-6",type:"number",required:""},model:{value:t.user_contact_no,callback:function(e){t.user_contact_no=e},expression:"user_contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"createNewUser-group-7",label:"*Password:","label-for":"createNewUser-7"}},[a("b-form-input",{attrs:{id:"createNewUser-7",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createNewUser=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Campus")])]},proxy:!0}]),model:{value:t.editCampus,callback:function(e){t.editCampus=e},expression:"editCampus"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editCampus-group-1",label:"SUC Name:","label-for":"editCampus-1"}},[a("b-form-input",{attrs:{id:"editCampus-1",type:"text",required:""},model:{value:t.campusSelect.campus_name,callback:function(e){t.$set(t.campusSelect,"campus_name",e)},expression:"campusSelect.campus_name"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editCampus-group-2",label:"Email:","label-for":"editCampus-2"}},[a("b-form-input",{attrs:{id:"editCampus-2",type:"email",required:""},model:{value:t.campusSelect.email,callback:function(e){t.$set(t.campusSelect,"email",e)},expression:"campusSelect.email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editCampus-group-3",label:"Contact Number:","label-for":"editCampus-3"}},[a("b-form-input",{attrs:{id:"editCampus-3",type:"number",required:""},model:{value:t.campusSelect.contact_no,callback:function(e){t.$set(t.campusSelect,"contact_no",e)},expression:"campusSelect.contact_no"}})],1)],1)]),a("b-form-group",{attrs:{id:"editCampus-group-4",label:"Address:","label-for":"editCampus-4"}},[a("b-form-input",{attrs:{id:"editCampus-4",type:"text",required:""},model:{value:t.campusSelect.address,callback:function(e){t.$set(t.campusSelect,"address",e)},expression:"campusSelect.address"}})],1),a("b-form-group",{attrs:{id:"editCampus-group-5",label:"Region:","label-for":"editCampus-5"}},[a("multiselect",{attrs:{options:t.options,"custom-label":t.regionText,placeholder:null,required:""},model:{value:t.campusSelect.region,callback:function(e){t.$set(t.campusSelect,"region",e)},expression:"campusSelect.region"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editCampus=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.editCampus=!1}}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this campus?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.campus_name=null,t.contact_no=null,t.email=null,t.address=null,t.region=null,t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.user_email=null,t.user_contact_no=null,t.password=null,t.createCampusPrompt=!1,t.createCampus=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createCampusPrompt=!1,t.createCampus=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createCampusPrompt,callback:function(e){t.createCampusPrompt=e},expression:"createCampusPrompt"}},[t._v("\n    A previous campus registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.suc.institution_name))]),a("h5",[t._v("List of Campuses")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Campus",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateCampus()}}},[t._v("Add Campus")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.campusList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(campus_qa)",fn:function(e){return[t.concatName(e.item)?a("div",[t._v("\n          "+t._s(t.concatName(e.item))+"\n          "+t._s(e.item.user_email?"("+e.item.user_email+")":"")+"\n        ")]):a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Assign User"},on:{click:function(a){t.campusSelect=e.item,t.setUser(1)}}},[a("md-icon",[t._v("add_circle")])],1)],1)]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.campusSelect=e.item,t.editCampus=!0}}},[a("md-icon",[t._v("edit")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},oi=[],ci=function(t){return t.toString().toLowerCase()},li=function(t,e){return e?t.filter((function(t){return ci(t.campus_name).includes(ci(e))})):t},di={name:"TableSearch",data:function(){return{sortBy:"campus_name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"campus_name",label:"Campus Name",sortable:!0},{key:"email",label:"Email"},{key:"campus_qa",label:"Campus QA"},{key:"address",label:"Address",sortable:!0},{key:"region",label:"Region",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],campusList:[],campusSelect:{},user:{},campus_name:null,address:null,region:null,email:null,contact_no:null,first_name:null,last_name:null,middle_initial:null,name_extension:null,user_email:null,user_contact_no:null,password:null,search:null,options:["Region I – Ilocos Region","Region II – Cagayan Valley","Region III – Central Luzon","Region IV‑A – CALABARZON","MIMAROPA Region","Region V – Bicol Region","Region VI – Western Visayas","Region VII – Central Visayas","Region VIII – Eastern Visayas","Region IX – Zamboanga Peninsula","Region X – Northern Mindanao","Region XI – Davao Region","Region XII – SOCCSKSARGEN","Region XIII – Caraga","NCR – National Capital Region","CAR – Cordillera Administrative Region","ARMM – Autonomous Region in Muslim Mindanao"],createCampus:!1,createCampusPrompt:!1,editCampus:!1,createUser:!1,createNewUser:!1,existingUserPrompt:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({suc:"suc"})),methods:{continueCreateCampus:function(){null!==this.campus_name||null!==this.address||null!==this.region||null!==this.email||null!==this.contact_no?this.createCampusPrompt=!0:this.createCampus=!0},setUser:function(t){this.first_name=null,this.last_name=null,this.middle_initial=null,this.name_extension=null,this.user_email=null,this.user_contact_no=null,this.password=null,0===t?(this.createCampus=!1,this.createUser=!0):1===t&&(this.createNewUser=!0)},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showCampus",this.suc.id).then((function(e){t.campusList=li(e.data,t.search),t.totalRows=t.campusList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.suc.id,a=this.campus_name,i=this.address,n=this.region,s=this.email,r=this.contact_no,o=this.first_name,c=this.last_name,l=this.middle_initial,d=this.name_extension,m=this.user_email,u=this.user_contact_no,p=this.password;this.$store.dispatch("addCampus",{id:e,campus_name:a,address:i,region:n,email:s,contact_no:r,first_name:o,last_name:c,middle_initial:l,name_extension:d,user_email:m,user_contact_no:u,password:p}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampus",t.suc.id).then((function(e){t.campusList=e.data,t.totalRows=t.campusList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.campus_name=null,t.address=null,t.region=null,t.email=null,t.contact_no=null,t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.user_email=null,t.user_contact_no=null,t.password=null,t.createUser=!1,"Accreditor"===e.data.message?(t.user=e.data.user,t.existingUserPrompt=!0):(t.snackbarText=e.data.message,t.makeToast("Success!","primary"))):("User already exist"===e.data.message&&(t.$store.dispatch("showCampus",t.suc.id).then((function(e){t.campusList=e.data,t.totalRows=t.campusList.length})),t.campusSelect=e.data.suc,t.createUser=!1,t.setUser(1)),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},registerQA:function(){var t=this;this.$isLoading(!0);var e=this.campusSelect.id,a=this.first_name,i=this.last_name,n=this.middle_initial,s=this.name_extension,r=this.user_email,o=this.user_contact_no,c=this.password,l=null;this.$store.dispatch("registerQA",{campus_id:e,first_name:a,last_name:i,middle_initial:n,name_extension:s,email:r,contact_no:o,password:c,office_id:l}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCampus",t.suc.id).then((function(e){t.campusList=e.data})),t.$isLoading(!1),t.createNewUser=!1,t.first_name=null,t.last_name=null,t.middle_initial=null,t.name_extension=null,t.user_email=null,t.user_contact_no=null,t.password=null,t.campusSelect=null,"Accreditor"===e.data.message?(t.user=e.data.user,t.existingUserPrompt=!0):(t.snackbarText=e.data.message,t.makeToast("Success!","primary"))):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editCampus",this.campusSelect).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.snackbar=!0}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteCampus",this.campusSelect.id).then((function(e){if(!0===e.data.status){var a=t.campusList.findIndex((function(e){return e.id===t.campusSelect.id}));t.campusList.splice(a,1),t.totalRows=t.campusList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},regionText:function(t){return"".concat(t)},back:function(){this.$router.push("/ManageSUC")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showCampus",t.suc.id).then((function(e){t.campusList=e.data,t.totalRows=t.campusList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},mi=di,ui=Object(L["a"])(mi,ri,oi,!1,null,null,null),pi=ui.exports,fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Office")])]},proxy:!0}]),model:{value:t.createOffice,callback:function(e){t.createOffice=e},expression:"createOffice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.systemStatus,callback:function(e){t.systemStatus=e},expression:"systemStatus"}},[t._v("System Wide Office")]),a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.departmentStatus,callback:function(e){t.departmentStatus=e},expression:"departmentStatus"}},[t._v("Department Office")]),a("br"),!1===t.departmentStatus?a("div",[a("b-form-group",{attrs:{id:"createOffice-group-1",label:"*Office Name:","label-for":"createOffice-1"}},[a("b-form-input",{attrs:{id:"createOffice-1",type:"text",required:""},model:{value:t.office_name,callback:function(e){t.office_name=e},expression:"office_name"}})],1)],1):a("div",[a("b-form-group",{attrs:{id:"createOffice-group-1",label:"*Main Office:","label-for":"createOffice-1"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelected,callback:function(e){t.officeSelected=e},expression:"officeSelected"}})],1),a("b-form-group",{attrs:{id:"createOffice-group-2",label:"*Department Name:","label-for":"createOffice-2"}},[a("b-form-input",{attrs:{id:"createOffice-2",type:"text",required:""},model:{value:t.office_name,callback:function(e){t.office_name=e},expression:"office_name"}})],1)],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createOffice-group-3",label:"*Email:","label-for":"createOffice-3"}},[a("b-form-input",{attrs:{id:"createOffice-3",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createOffice-group-4",label:"*Contact Number:","label-for":"createOffice-4"}},[a("b-form-input",{attrs:{id:"createOffice-4",type:"number",required:""},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createOffice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Office")])]},proxy:!0}]),model:{value:t.editOffice,callback:function(e){t.editOffice=e},expression:"editOffice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.officeSelect.type,callback:function(e){t.$set(t.officeSelect,"type",e)},expression:"officeSelect.type"}},[t._v("System Wide Office")]),a("br"),a("b-form-group",{attrs:{id:"editOffice-group-1",label:"Office Name:","label-for":"editOffice-1"}},[a("b-form-input",{attrs:{id:"editOffice-1",type:"text",required:""},model:{value:t.officeSelect.office_name,callback:function(e){t.$set(t.officeSelect,"office_name",e)},expression:"officeSelect.office_name"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editOffice-group-2",label:"Email:","label-for":"editOffice-2"}},[a("b-form-input",{attrs:{id:"editOffice-2",type:"email",required:""},model:{value:t.officeSelect.email,callback:function(e){t.$set(t.officeSelect,"email",e)},expression:"officeSelect.email"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"editOffice-group-3",label:"Contact Number:","label-for":"editOffice-3"}},[a("b-form-input",{attrs:{id:"editOffice-3",type:"number",required:""},model:{value:t.officeSelect.contact,callback:function(e){t.$set(t.officeSelect,"contact",e)},expression:"officeSelect.contact"}})],1)],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editOffice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this office?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.office_name=null,t.contact=null,t.email=null,t.systemStatus=!1,t.departmentStatus=!1,t.createOfficePrompt=!1,t.officeSelect={},t.createOffice=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createOfficePrompt=!1,t.createOffice=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createOfficePrompt,callback:function(e){t.createOfficePrompt=e},expression:"createOfficePrompt"}},[t._v("\n    A previous office registration exists, do you want to continue?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v("List of Offices")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Office",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){return t.continueCreateOffice()}}},[t._v("Add Office")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.officeList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(user)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.officeSelect=e.item,t.editOffice=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.officeSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},hi=[],vi=function(t){return t.toString().toLowerCase()},gi=function(t,e){return e?t.filter((function(t){return vi(t.office_name).includes(vi(e))})):t},bi={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"office_name",label:"Office Name",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"user",label:"Office Head",sortable:!0},{key:"contact",label:"Contact Number",sortable:!0},{key:"parent_office_name",label:"Main Office",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],officeList:[],officeSelect:{},officeSelected:null,office_name:null,email:null,contact:null,search:null,systemStatus:!1,departmentStatus:!1,createOffice:!1,createOfficePrompt:!1,editOffice:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus"})),methods:{continueCreateOffice:function(){null!==this.office_name||null!==this.email||null!==this.contact?this.createOfficePrompt=!0:(this.systemStatus=!1,this.departmentStatus=!1,this.officeSelect={},this.officeSelected=null,this.createOffice=!0)},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showOffice",this.campus.campus_id).then((function(e){t.officeList=gi(e.data.office,t.search),t.totalRows=t.officeList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.campus.campus_id,a=this.office_name,i=this.email,n=this.contact,s=null,r=this.systemStatus;!0===this.departmentStatus&&(s=this.officeSelected.id),this.$store.dispatch("createOffice",{id:e,office_name:a,email:i,contact:n,office_id:s,type:r}).then((function(e){!0===e.data.status?(t.officeList.push(e.data.office),t.totalRows=t.officeList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.office_name=null,t.email=null,t.contact=null,t.systemStatus=!1,t.departmentStatus=!1,t.officeSelect={},t.officeSelected=null,t.createOffice=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editOffice",this.officeSelect).then((function(e){!0===e.data.status?(t.editOffice=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.snackbar=!0}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteOffice",this.officeSelect.id).then((function(e){if(!0===e.data.status){var a=t.officeList.findIndex((function(e){return e.id===t.officeSelect.id}));t.officeList.splice(a,1),t.totalRows=t.officeList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:"n/a"},officeName:function(t){var e=t.office_name;return"".concat(e)},select:function(t){this.$store.commit("saveOffice",t),this.$router.push("/AssignUploads")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showOffice",t.campus.campus_id).then((function(e){t.officeList=e.data.office,t.totalRows=t.officeList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},_i=bi,yi=Object(L["a"])(_i,fi,hi,!1,null,null,null),ki=yi.exports,xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Folder")])]},proxy:!0}]),model:{value:t.assignUpload,callback:function(e){t.assignUpload=e},expression:"assignUpload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.makeDocumentList(e)}}},[t._l(t.list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Folder "+t._s(i+1))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("md-button",{staticClass:"md-icon-button md-dense md-accent",on:{click:function(e){return t.removeList(i)}}},[a("md-icon",[t._v("cancel")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"assignUpload-group-1",label:"*Folder Title:","label-for":"assignUpload-1"}},[a("b-form-input",{attrs:{id:"assignUpload-1",type:"text",required:""},model:{value:t.list[i].document_title,callback:function(e){t.$set(t.list[i],"document_title",e)},expression:"list[index].document_title"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px","margin-left":"5px"}},[a("b-form-group",{attrs:{id:"assignUpload-group-2",label:"Designation:","label-for":"assignUpload-2"}},[t._l(e.area,(function(n,s){return a("div",{key:s},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{id:"assignUpload-2",options:t.filterArea(e.area,t.list[i].area[s],t.optionsArea),required:""},model:{value:t.list[i].area[s],callback:function(e){t.$set(t.list[i].area,s,e)},expression:"list[index].area[indexArea]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeArea(i,s)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addArea(i)}}},[t._v("Add Designation")])],1)],2)],1)])])})),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"5px 0 15px"},on:{click:function(e){return t.addList()}}},[t._v("Add Folder")]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignUpload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Folder")])]},proxy:!0}]),model:{value:t.editDocument,callback:function(e){t.editDocument=e},expression:"editDocument"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editDocument-group-1",label:"*Folder Title:","label-for":"editDocument-1"}},[a("b-form-input",{attrs:{id:"editDocument-1",type:"text",required:""},model:{value:t.container_name,callback:function(e){t.container_name=e},expression:"container_name"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Folder")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.changePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.edit(),t.changePrompt=!1}}},[t._v("Change")])],1)]},proxy:!0}]),model:{value:t.changePrompt,callback:function(e){t.changePrompt=e},expression:"changePrompt"}},[t._v("\n    Are you sure you want to change this folder to\n    "+t._s("Primary"===t.container_type?"Required":"Supplementary")+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitTags(e)}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return t.tag.includes("Area")}))?t.oldTags.filter((function(t){return t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.area,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{options:t.filterArea(t.tags,t.area[i],t.optionsArea),required:""},model:{value:t.area[i],callback:function(e){t.$set(t.area,i,e)},expression:"area[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArea(i,t.area[i])}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArea()}}},[t._v("Add Designation")])],1)],2),a("b-form-group",{attrs:{id:"addTags-group-1",label:"Tags:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return!t.tag.includes("Area")}))?t.oldTags.filter((function(t){return!t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.tag,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{id:"addTags-1",type:"text",required:""},model:{value:t.tag[i],callback:function(e){t.$set(t.tag,i,e)},expression:"tag[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTag(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTag()}}},[t._v("Add Tag")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.removeTags()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"office-uploads-0","md-label":"Required"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.officeList.length>1?a("b-dropdown",{attrs:{text:"Change Office",variant:"primary"}},t._l(t.officeList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.$store.commit("saveOffice",e),t.changeOffice()}}},[t._v(t._s(e.office_name))])],1)})),0):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Primary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"office-uploads-0")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),t.filterLibrary()?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Supplemental"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Supplementary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Primary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"office-uploads-1","md-label":"Supplemental"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.officeList.length>1?a("b-dropdown",{attrs:{text:"Change Office",variant:"primary"}},t._l(t.officeList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.$store.commit("saveOffice",e),t.changeOffice()}}},[t._v(t._s(e.office_name))])],1)})),0):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.list=[{document_title:null,area:[]}],t.assignUpload=!0}}},[t._v("New Folder")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Supplementary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"office-uploads-1")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),t.filterLibrary()?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Required"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Primary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Supplementary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},Si=[],Ci=function(t){return t.toString().toLowerCase()},wi=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Ci(t.container.container_name?t.container.container_name:"").includes(Ci(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ci(t.tag?t.tag:"").includes(Ci(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Ti={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows_Primary:1,totalRows_Supplementary:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tags",label:"Tags"},{key:"number",label:"No. of Files"},{key:"actions",label:"Actions",thStyle:{width:"220px"}}],optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I: Vision, Mission, Goals and Objectives"},{value:"Area II",text:"Area II: Faculty"},{value:"Area III",text:"Area III: Curriculum and Instruction"},{value:"Area IV",text:"Area IV: Support to Students"},{value:"Area V",text:"Area V: Research"},{value:"Area VI",text:"Area VI: Extension and Community Involvement"},{value:"Area VII",text:"Area VII: Library"},{value:"Area VIII",text:"Area VIII: Physical Plant and Facilities"},{value:"Area IX",text:"Area IX: Laboratories"},{value:"Area X",text:"Area X: Administration"}],documentList:[],documentSelect:null,officeList:[],list:[{document_title:null,area:[null]}],search:null,tag:[],area:[],tags:[],oldTags:[],container_name:null,container_type:null,tagEdit:[{status:!1}],addTags:!1,deleteTagPrompt:!1,assignUpload:!1,editDocument:!1,changePrompt:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",offices:"offices",office:"office",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},makeDocumentList:function(){var t=this,e=this.office.office_id,a=this.list,i="Supplementary";this.$isLoading(!0),this.$store.dispatch("makeDocumentList",{office_id:e,list:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.assignUpload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this,e=this.documentSelect.id,a=this.container_name,i=this.container_type;this.$isLoading(!0),this.$store.dispatch("editContainer",{container_id:e,container_name:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.editDocument=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteContainer",this.documentSelect.id).then((function(e){if(!0===e.data.status){var a=t.documentList.findIndex((function(e){return e.id===t.documentSelect.id}));t.documentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},submitTags:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.tag.concat(this.area);this.$store.dispatch("addTag",{id:e,tag:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTags:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter()},downloadLetter:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("documentViewFile",this.documentSelect.id).then((function(e){t.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t.documentSelect.link),document.body.appendChild(i),i.click()})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.documentList=wi(e.data.documents,t.search),t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterArea:function(t,e,a){if(null!==t&&void 0!==t&&t.length)for(var i=function(i){a=a.filter((function(a){return a.value!==t[i]||a.value===e}))},n=0;n<t.length;n++)i(n);return a},filterLibrary:function(){if(Ci(this.office.office_name).includes("librar"))return!0},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addList:function(){this.list.push({document_title:null,area:[]})},removeList:function(t){this.list.splice(t,1)},addArea:function(t){this.list[t].area.push(null)},removeArea:function(t,e){this.list[t].area.splice(e,1)},addTagArea:function(){null!==this.area[this.area.length-1]&&(this.tags.push(this.area[this.area.length-1]),this.area.push(null))},removeTagArea:function(t,e){var a=this.tags.findIndex((function(t){return t===e}));this.tags.splice(a,1),this.area.splice(t,1)},addTag:function(){null!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},setTags:function(t){if(this.tags=[],null!==t&&void 0!==t&&t.length)for(var e=0;e<t.length;e++)this.tags.push(t[e].tag)},select:function(t,e){this.$store.commit("saveContainer",t),this.$store.commit("saveUploader",0),this.$store.commit("saveTabSelect",e),this.$router.push("/UploadedDocuments")},setTagEdit:function(){var t;if(null!==(t=this.documentList)&&void 0!==t&&t.length)for(var e=0;e<this.documentList.length;e++){var a=!1;this.tagEdit.push({status:a})}},setDocumentList:function(t){var e,a=[];if("Primary"===t)a=this.documentList.filter((function(t){return"Primary"===t.container.type||null===t.container.type})),null!==(e=a)&&void 0!==e&&e.length&&(this.totalRows_Primary=a.length);else if("Supplementary"===t){var i;a=this.documentList.filter((function(t){return"Supplementary"===t.container.type})),null!==(i=a)&&void 0!==i&&i.length&&(this.totalRows_Supplementary=a.length)}return a},changeOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),this.$isLoading(!1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("office-uploads-0"!==t.tabSelect&&"office-uploads-1"!==t.tabSelect&&t.$store.commit("saveTabSelect","office-uploads-0"),t.officeList=t.offices.filter((function(t){return 3===t.role_id||4===t.role_id})),null===(a=t.officeList)||void 0===a||!a.length){e.next=5;break}return e.next=5,t.$store.commit("saveOffice",t.officeList[0]);case 5:return t.$isLoading(!0),e.next=8,t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$isLoading(!1);case 10:case"end":return e.stop()}}),e)})))()}},Pi=Ti,Li=Object(L["a"])(Pi,xi,Si,!1,null,null,null),Ai=Li.exports,$i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload File")])]},proxy:!0}]),model:{value:t.uploadFile,callback:function(e){t.uploadFile=e},expression:"uploadFile"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.fileUpload(e)}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("b-form-file",{attrs:{multiple:"",required:"",accept:"image/*, .pdf"},on:{input:function(e){return t.selectDocument()}},model:{value:t.selectedDocuments[0],callback:function(e){t.$set(t.selectedDocuments,0,e)},expression:"selectedDocuments[0]"}})],1),t.documents[0]?a("div",t._l(t.documents[0],(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{background:"white"},attrs:{type:"text",disabled:""},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeDocument(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),0):t._e(),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadFile=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload Link")])]},proxy:!0}]),model:{value:t.uploadLink,callback:function(e){t.uploadLink=e},expression:"uploadLink"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.linkUpload(e)}}},[t._l(t.files,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{id:"uploadLink-1",type:"text",placeholder:"Title",required:""},model:{value:t.files[i].filename,callback:function(e){t.$set(t.files[i],"filename",e)},expression:"files[index].filename"}}),a("b-form-input",{attrs:{id:"uploadLink-2",type:"text",placeholder:"Link",required:""},model:{value:t.files[i].link,callback:function(e){t.$set(t.files[i],"link",e)},expression:"files[index].link"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeFile(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addFile()}}},[t._v("Add Link")])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadLink=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.container.container_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.documents=[null],t.year=null,t.uploadFile=!0}}},[t._v("Upload Documents")])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.files=[{filename:null,link:null}],t.year=null,t.uploadLink=!0}}},[t._v("Upload Link")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Di=[],Ri=(a("a630"),function(t){return t.toString().toLowerCase()}),Ii=function(t,e){return e?t.filter((function(t){return Ri(t.document_name).includes(Ri(e))})):t},Ei={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I"},{value:"Area II",text:"Area II"},{value:"Area III",text:"Area III"},{value:"Area IV",text:"Area IV"},{value:"Area V",text:"Area V"},{value:"Area VI",text:"Area VI"},{value:"Area VII",text:"Area VII"},{value:"Area VIII",text:"Area VIII"},{value:"Area IX",text:"Area IX"},{value:"Area X",text:"Area X"}],optionsMonth:[{value:"January",text:"January"},{value:"February",text:"February"},{value:"March",text:"March"},{value:"April",text:"April"},{value:"May",text:"May"},{value:"June",text:"June"},{value:"July",text:"July"},{value:"August",text:"August"},{value:"September",text:"September"},{value:"October",text:"October"},{value:"November",text:"November"},{value:"December",text:"December"}],documentList:[{}],documentSelect:{},documents:[null],selectedDocuments:[null],files:[{filename:null,link:null}],area:null,month:null,year:null,search:null,uploadFile:!1,uploadLink:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",office:"office",container:"container"})),{},{years:function(){var t=this,e=(new Date).getFullYear();return Array.from({length:e-parseInt(this.getBaseYear(10))},(function(e,a){return parseInt(t.getBaseYear(9))+a}))}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showDocument",this.container.id).then((function(e){var a;t.documentList=Ii(e.data.documents,t.search),null!==(a=t.documentList)&&void 0!==a&&a.length&&(t.totalRows=t.documentList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),fileUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.container.id,i="file",n=this.documents[0];this.$store.dispatch("uploadDocument",{user_id:e,container_id:a,type:i,documents:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.uploadFile=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},linkUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.container.id,i="link",n=this.files;this.$store.dispatch("uploadLink",{user_id:e,container_id:a,type:i,file:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.uploadLink=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeDocument",this.documentSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addDocument:function(){null!==this.documents[this.documents.length-1]&&this.documents.push(null)},removeDocument:function(t){this.documents[0].splice(t,1)},addFile:function(){null!==this.files[this.files.length-1].link&&this.files.push({filename:null,link:null})},removeFile:function(t){this.files.splice(t,1)},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},formatDate:function(t){return E()(t).format("ll")},getBaseYear:function(t){return E()().subtract(t,"years").format("YYYY")},selectDocument:function(){var t;this.documents[0]?(t=this.documents[0]).push.apply(t,Object(rt["a"])(this.selectedDocuments[0])):this.documents[0]=this.selectedDocuments[0],this.selectedDocuments=[null]}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Ui=Ei,Oi=Object(L["a"])(Ui,$i,Di,!1,null,null,null),Fi=Oi.exports,Bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Best Practice")])]},proxy:!0}]),model:{value:t.createBestPractice,callback:function(e){t.createBestPractice=e},expression:"createBestPractice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._l(t.best_practices,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Folder "+t._s(i+1))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("md-button",{staticClass:"md-icon-button md-dense md-accent",on:{click:function(e){return t.removeList(i)}}},[a("md-icon",[t._v("cancel")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createBestPractice-group-1",label:"*Best Practice:","label-for":"createBestPractice-1"}},[a("b-form-textarea",{attrs:{id:"createBestPractice-1",rows:"2","max-rows":"4",required:""},model:{value:t.best_practices[i].best_practice,callback:function(e){t.$set(t.best_practices[i],"best_practice",e)},expression:"best_practices[index].best_practice"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px","margin-left":"5px"}},[a("b-form-group",{attrs:{id:"assignUpload-group-2",label:"Designation:","label-for":"assignUpload-2"}},[t._l(e.tags,(function(n,s){return a("div",{key:s},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{id:"assignUpload-2",options:t.filterArea(e.tags,t.best_practices[i].tags[s],t.optionsArea),required:""},model:{value:t.best_practices[i].tags[s],callback:function(e){t.$set(t.best_practices[i].tags,s,e)},expression:"best_practices[index].tags[indexArea]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeArea(i,s)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addArea(i)}}},[t._v("Add Designation")])],1)],2)],1)])])})),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"5px 0 15px"},on:{click:function(e){return t.addList()}}},[t._v("Add Best Practice")]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Best Practice")])]},proxy:!0}]),model:{value:t.editBestPractice,callback:function(e){t.editBestPractice=e},expression:"editBestPractice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editBestPractice-group-1",label:"*Best Practice:","label-for":"editBestPractice-1"}},[a("b-form-textarea",{attrs:{id:"editBestPractice-1",rows:"2","max-rows":"4",required:""},model:{value:t.best_practice,callback:function(e){t.best_practice=e},expression:"best_practice"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Best Practice")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deleteBestPractice=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteBestPractice,callback:function(e){t.deleteBestPractice=e},expression:"deleteBestPractice"}},[t._v("\n    Are you sure you want to remove this best practice?\n    ")]),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Best Practice:")]),t._v("\n        "+t._s(t.bestPracticeSelect.best_practice)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.bestPracticeSelect.files),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType().length?t.filterByType().length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Best Practice:")]),t._v("\n        "+t._s(t.bestPracticeSelect.best_practice)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){return t.searchDocumentTable(t.bestPracticeSelect.files)}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.bestPracticeSelect.best_practice_id,e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeDocument(),t.deleteDocument=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteDocument,callback:function(e){t.deleteDocument=e},expression:"deleteDocument"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitTags(e)}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return t.tag.includes("Area")}))?t.oldTags.filter((function(t){return t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.area,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{options:t.filterArea(t.tags,t.area[i],t.optionsArea),required:""},model:{value:t.area[i],callback:function(e){t.$set(t.area,i,e)},expression:"area[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArea(i,t.area[i])}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArea()}}},[t._v("Add Designation")])],1)],2),a("b-form-group",{attrs:{id:"addTags-group-1",label:"Tags:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return!t.tag.includes("Area")}))?t.oldTags.filter((function(t){return!t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.tag,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{id:"addTags-1",type:"text",required:""},model:{value:t.tag[i],callback:function(e){t.$set(t.tag,i,e)},expression:"tag[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTag(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTag()}}},[t._v("Add Tag")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.removeTags()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.officeList.length>1?a("b-dropdown",{attrs:{text:"Change Office",variant:"primary"}},t._l(t.officeList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.$store.commit("saveOffice",e),t.changeOffice()}}},[t._v(t._s(e.office_name))])],1)})),0):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search best practice",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.best_practices=[{best_practice:null,tags:[]}],t.createBestPractice=!0}}},[t._v("Create Best Practice")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.bestPracticeList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(best_practice)",fn:function(e){return[a("b-form-textarea",{staticStyle:{background:"white","min-width":"350px"},attrs:{rows:"2","max-rows":"3",disabled:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"row.value"}}),a("br"),e.item.files.length>0?a("md-badge",{attrs:{"md-content":e.item.files.length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.best_practice_id),expression:"getId(row.item.best_practice_id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Files")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.best_practice_id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(e.item.files,(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                  "+t._s(i+1)+".\n                ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelect=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])})),0)],1)]}},{key:"cell(tags)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(e.item.tags,(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.tagSelect=e,t.deleteTagPrompt=!0}}},[t._v(t._s(e.tag))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.bestPracticeSelect=e.item,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(files)",fn:function(e){return t._l(e.item.files,(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelect=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))}},{key:"cell(created_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDateTime(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach File"},on:{click:function(a){t.bestPracticeSelect=e.item,t.filterType="Primary",t.search_container="",t.showFolders(),t.containerDialog=!0}}},[a("md-icon",[t._v("file_upload")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.bestPracticeSelect=e.item,t.best_practice=e.item.best_practice,t.editBestPractice=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.bestPracticeSelect=e.item,t.deleteBestPractice=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Ni=[],Mi=function(t){return t.toString().toLowerCase()},ji=function(t,e){return e?t.filter((function(t){return Mi(t.best_practice).includes(Mi(e))})):t},qi=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Mi(t.container.container_name?t.container.container_name:"").includes(Mi(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Mi(t.tag?t.tag:"").includes(Mi(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},zi=function(t,e){return e?t.filter((function(t){return Mi(t.document_name).includes(Mi(e))})):t},Vi={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"best_practice_id",label:"ID",sortable:!0},{key:"best_practice",label:"Best Practice",sortable:!0},{key:"tags",label:"Tags"},{key:"created_by",label:"Created By"},{key:"updated_at",label:"Last Update"},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],bestPracticeList:[],bestPracticeSelect:[],containerList:[],containerSelect:null,documentList:[],documentSelect:null,fileSelect:null,officeList:[],search:null,best_practices:[],best_practice:null,filterType:"Primary",tag:[],area:[],tags:[],oldTags:[],tagSelect:null,optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I: Vision, Mission, Goals and Objectives"},{value:"Area II",text:"Area II: Faculty"},{value:"Area III",text:"Area III: Curriculum and Instruction"},{value:"Area IV",text:"Area IV: Support to Students"},{value:"Area V",text:"Area V: Research"},{value:"Area VI",text:"Area VI: Extension and Community Involvement"},{value:"Area VII",text:"Area VII: Library"},{value:"Area VIII",text:"Area VIII: Physical Plant and Facilities"},{value:"Area IX",text:"Area IX: Laboratories"},{value:"Area X",text:"Area X: Administration"}],tagEdit:[{status:!1}],addTags:!1,deleteTagPrompt:!1,createBestPractice:!1,editBestPractice:!1,deleteBestPractice:!1,deleteDocument:!1,containerDialog:!1,attachmentDialog:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",offices:"offices",office:"office"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submit:function(){var t=this,e=this.office.office_id,a=this.best_practices;this.$isLoading(!0),this.$store.dispatch("addOfficeBestPractice",{office_id:e,best_practices:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.createBestPractice=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this,e=this.bestPracticeSelect.best_practice_id,a=this.best_practice;this.$isLoading(!0),this.$store.dispatch("editOfficeBestPractice",{best_practice_id:e,best_practice:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.editBestPractice=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteOfficeBestPractice",this.bestPracticeSelect.best_practice_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},getId:function(t){return t.toString()},submitTags:function(){var t=this;this.$isLoading(!0);var e=this.bestPracticeSelect.best_practice_id,a=this.tag.concat(this.area);this.$store.dispatch("addBestPracticeTag",{id:e,tags:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTags:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteBestPracticeTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeDocument:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteBestPracticeDocument",this.fileSelect.best_practice_document_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showOfficeBestPractice",this.office.office_id).then((function(e){var a;t.bestPracticeList=ji(e.data.best_practices,t.search),t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.containerList=qi(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=zi(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),filterArea:function(t,e,a){if(null!==t&&void 0!==t&&t.length)for(var i=function(i){a=a.filter((function(a){return a.value!==t[i]||a.value===e}))},n=0;n<t.length;n++)i(n);return a},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},formatDateTime:function(t){return E()(t).format("llll")},formatDate:function(t){return E()(t).format("ll")},addList:function(){this.best_practices.push({best_practice:null,tags:[]})},removeList:function(t){this.best_practices.splice(t,1)},addArea:function(t){this.best_practices[t].tags.push(null)},removeArea:function(t,e){this.best_practices[t].tags.splice(e,1)},addTagArea:function(){null!==this.area[this.area.length-1]&&(this.tags.push(this.area[this.area.length-1]),this.area.push(null))},removeTagArea:function(t,e){var a=this.tags.findIndex((function(t){return t===e}));this.tags.splice(a,1),this.area.splice(t,1)},addTag:function(){null!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},setTags:function(t){if(this.tags=[],null!==t&&void 0!==t&&t.length)for(var e=0;e<t.length;e++)this.tags.push(t[e].tag)},showFolders:function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},filterByType:function(){return"Primary"===this.filterType?this.containerList.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?this.containerList.filter((function(t){return"Supplementary"===t.container.type})):void 0},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachBestPracticeDocument",{best_practice_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1),a.$store.dispatch("showOfficeBestPractice",a.office.office_id).then((function(t){var e;a.bestPracticeList=t.data.best_practices,a.setTagEdit(),null!==(e=a.bestPracticeList)&&void 0!==e&&e.length&&(a.totalRows=a.bestPracticeList.length)})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},setTagEdit:function(){var t;if(null!==(t=this.bestPracticeList)&&void 0!==t&&t.length)for(var e=0;e<this.bestPracticeList.length;e++){var a=!1;this.tagEdit.push({status:a})}},changeOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showOfficeBestPractice",this.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),this.$isLoading(!1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.officeList=t.offices.filter((function(t){return 3===t.role_id||4===t.role_id})),null===(a=t.officeList)||void 0===a||!a.length){e.next=4;break}return e.next=4,t.$store.commit("saveOffice",t.officeList[0]);case 4:return t.$isLoading(!0),e.next=7,t.$store.dispatch("showOfficeBestPractice",t.office.office_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,t.setTagEdit(),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Hi=Vi,Yi=Object(L["a"])(Hi,Bi,Ni,!1,null,null,null),Xi=Yi.exports,Wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Folder")])]},proxy:!0}]),model:{value:t.assignUpload,callback:function(e){t.assignUpload=e},expression:"assignUpload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.makeDocumentList(e)}}},[t._l(t.list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Folder "+t._s(i+1))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("md-button",{staticClass:"md-icon-button md-dense md-accent",on:{click:function(e){return t.removeList(i)}}},[a("md-icon",[t._v("cancel")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"assignUpload-group-1",label:"*Folder Title:","label-for":"assignUpload-1"}},[a("b-form-input",{attrs:{id:"assignUpload-1",type:"text",required:""},model:{value:t.list[i].document_title,callback:function(e){t.$set(t.list[i],"document_title",e)},expression:"list[index].document_title"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px","margin-left":"5px"}},[a("b-form-group",{attrs:{id:"assignUpload-group-2",label:"Designation:","label-for":"assignUpload-2"}},[t._l(e.area,(function(n,s){return a("div",{key:s},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{id:"assignUpload-2",options:t.filterArea(e.area,t.list[i].area[s],t.optionsArea),required:""},model:{value:t.list[i].area[s],callback:function(e){t.$set(t.list[i].area,s,e)},expression:"list[index].area[indexArea]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeArea(i,s)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addArea(i)}}},[t._v("Add Designation")])],1)],2)],1)])])})),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"5px 0 15px"},on:{click:function(e){return t.addList()}}},[t._v("Add Folder")]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignUpload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Folder")])]},proxy:!0}]),model:{value:t.editDocument,callback:function(e){t.editDocument=e},expression:"editDocument"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editDocument-group-1",label:"*Folder Title:","label-for":"editDocument-1"}},[a("b-form-input",{attrs:{id:"editDocument-1",type:"text",required:""},model:{value:t.container_name,callback:function(e){t.container_name=e},expression:"container_name"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Folder")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.changePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.edit(),t.changePrompt=!1}}},[t._v("Change")])],1)]},proxy:!0}]),model:{value:t.changePrompt,callback:function(e){t.changePrompt=e},expression:"changePrompt"}},[t._v("\n    Are you sure you want to change this folder to\n    "+t._s("Primary"===t.container_type?"Required":"Supplementary")+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitTags(e)}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return t.tag.includes("Area")}))?t.oldTags.filter((function(t){return t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.area,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{options:t.filterArea(t.tags,t.area[i],t.optionsArea),required:""},model:{value:t.area[i],callback:function(e){t.$set(t.area,i,e)},expression:"area[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArea(i,t.area[i])}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArea()}}},[t._v("Add Designation")])],1)],2),a("b-form-group",{attrs:{id:"addTags-group-1",label:"Tags:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return!t.tag.includes("Area")}))?t.oldTags.filter((function(t){return!t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.tag,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{id:"addTags-1",type:"text",required:""},model:{value:t.tag[i],callback:function(e){t.$set(t.tag,i,e)},expression:"tag[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTag(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTag()}}},[t._v("Add Tag")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.removeTags()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"assign-uploads-0","md-label":"Required"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.list=[{document_title:null,area:[null]}],t.assignUpload=!0}}},[t._v("New Folder")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Primary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"assign-uploads-0")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Supplemental"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Supplementary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Primary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"assign-uploads-1","md-label":"Supplemental"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Supplementary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"assign-uploads-1")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Required"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Primary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Supplementary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},Gi=[],Ji=function(t){return t.toString().toLowerCase()},Qi=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Ji(t.container.container_name?t.container.container_name:"").includes(Ji(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ji(t.tag?t.tag:"").includes(Ji(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Ki={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows_Primary:1,totalRows_Supplementary:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tags",label:"Tags"},{key:"number",label:"No. of Files"},{key:"actions",label:"Actions",thStyle:{width:"220px"}}],optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I: Vision, Mission, Goals and Objectives"},{value:"Area II",text:"Area II: Faculty"},{value:"Area III",text:"Area III: Curriculum and Instruction"},{value:"Area IV",text:"Area IV: Support to Students"},{value:"Area V",text:"Area V: Research"},{value:"Area VI",text:"Area VI: Extension and Community Involvement"},{value:"Area VII",text:"Area VII: Library"},{value:"Area VIII",text:"Area VIII: Physical Plant and Facilities"},{value:"Area IX",text:"Area IX: Laboratories"},{value:"Area X",text:"Area X: Administration"}],documentList:[],documentSelect:null,officeList:[],list:[{document_title:null,area:[null]}],search:null,tag:[],area:[],tags:[],oldTags:[],container_name:null,container_type:null,tagEdit:[{status:!1}],addTags:!1,deleteTagPrompt:!1,assignUpload:!1,editDocument:!1,changePrompt:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",office:"office",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},makeDocumentList:function(){var t=this,e=this.office.id,a=this.list,i="Primary";this.$isLoading(!0),this.$store.dispatch("makeDocumentList",{office_id:e,list:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.assignUpload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this,e=this.documentSelect.id,a=this.container_name,i=this.container_type;this.$isLoading(!0),this.$store.dispatch("editContainer",{container_id:e,container_name:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.editDocument=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteContainer",this.documentSelect.id).then((function(e){if(!0===e.data.status){var a=t.documentList.findIndex((function(e){return e.id===t.documentSelect.id}));t.documentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},submitTags:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.tag.concat(this.area);this.$store.dispatch("addTag",{id:e,tag:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTags:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter()},downloadLetter:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("documentViewFile",this.documentSelect.id).then((function(e){t.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t.documentSelect.link),document.body.appendChild(i),i.click()})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showContainer",this.office.id).then((function(e){t.documentList=Qi(e.data.documents,t.search),t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterArea:function(t,e,a){if(null!==t&&void 0!==t&&t.length)for(var i=function(i){a=a.filter((function(a){return a.value!==t[i]||a.value===e}))},n=0;n<t.length;n++)i(n);return a},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addList:function(){this.list.push({document_title:null,area:[null]})},removeList:function(t){this.list.splice(t,1)},addArea:function(t){this.list[t].area.push(null)},removeArea:function(t,e){this.list[t].area.splice(e,1)},addTagArea:function(){null!==this.area[this.area.length-1]&&(this.tags.push(this.area[this.area.length-1]),this.area.push(null))},removeTagArea:function(t,e){var a=this.tags.findIndex((function(t){return t===e}));this.tags.splice(a,1),this.area.splice(t,1)},addTag:function(){null!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},setTags:function(t){if(this.tags=[],null!==t&&void 0!==t&&t.length)for(var e=0;e<t.length;e++)this.tags.push(t[e].tag)},setDocumentList:function(t){var e,a=[];if("Primary"===t)a=this.documentList.filter((function(t){return"Primary"===t.container.type||null===t.container.type})),null!==(e=a)&&void 0!==e&&e.length&&(this.totalRows_Primary=a.length);else if("Supplementary"===t){var i;a=this.documentList.filter((function(t){return"Supplementary"===t.container.type})),null!==(i=a)&&void 0!==i&&i.length&&(this.totalRows_Supplementary=a.length)}return a},select:function(t,e){this.$store.commit("saveContainer",t),this.$store.commit("saveTabSelect",e),this.$router.push("/AssignUploadedDocuments")},setTagEdit:function(){var t;if(null!==(t=this.documentList)&&void 0!==t&&t.length)for(var e=0;e<this.documentList.length;e++){var a=!1;this.tagEdit.push({status:a})}}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),"assign-uploads-0"!==t.tabSelect&&"assign-uploads-1"!==t.tabSelect&&t.$store.commit("saveTabSelect","assign-uploads-0"),e.next=4,t.$store.dispatch("showContainer",t.office.id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.$isLoading(!1);case 6:case"end":return e.stop()}}),e)})))()}},Zi=Ki,tn=Object(L["a"])(Zi,Wi,Gi,!1,null,null,null),en=tn.exports,an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload File")])]},proxy:!0}]),model:{value:t.uploadFile,callback:function(e){t.uploadFile=e},expression:"uploadFile"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.fileUpload(e)}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("b-form-file",{attrs:{multiple:"",required:"",accept:"image/*, .pdf"},on:{input:function(e){return t.selectDocument()}},model:{value:t.selectedDocuments[0],callback:function(e){t.$set(t.selectedDocuments,0,e)},expression:"selectedDocuments[0]"}})],1),t.documents[0]?a("div",t._l(t.documents[0],(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{background:"white"},attrs:{type:"text",disabled:""},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeDocument(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),0):t._e(),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadFile=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload Link")])]},proxy:!0}]),model:{value:t.uploadLink,callback:function(e){t.uploadLink=e},expression:"uploadLink"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.linkUpload(e)}}},[t._l(t.files,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{id:"uploadLink-1",type:"text",placeholder:"Title",required:""},model:{value:t.files[i].filename,callback:function(e){t.$set(t.files[i],"filename",e)},expression:"files[index].filename"}}),a("b-form-input",{attrs:{id:"uploadLink-2",type:"text",placeholder:"Link",required:""},model:{value:t.files[i].link,callback:function(e){t.$set(t.files[i],"link",e)},expression:"files[index].link"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeFile(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addFile()}}},[t._v("Add Link")])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadLink=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.container.container_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.documents=[null],t.selectedDocuments=[null],t.year=null,t.uploadFile=!0}}},[t._v("Upload Documents")])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.files=[{filename:null,link:null}],t.year=null,t.uploadLink=!0}}},[t._v("Upload Link")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},nn=[],sn=function(t){return t.toString().toLowerCase()},rn=function(t,e){return e?t.filter((function(t){return sn(t.document_name).includes(sn(e))})):t},on={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I"},{value:"Area II",text:"Area II"},{value:"Area III",text:"Area III"},{value:"Area IV",text:"Area IV"},{value:"Area V",text:"Area V"},{value:"Area VI",text:"Area VI"},{value:"Area VII",text:"Area VII"},{value:"Area VIII",text:"Area VIII"},{value:"Area IX",text:"Area IX"},{value:"Area X",text:"Area X"}],optionsMonth:[{value:"January",text:"January"},{value:"February",text:"February"},{value:"March",text:"March"},{value:"April",text:"April"},{value:"May",text:"May"},{value:"June",text:"June"},{value:"July",text:"July"},{value:"August",text:"August"},{value:"September",text:"September"},{value:"October",text:"October"},{value:"November",text:"November"},{value:"December",text:"December"}],documentList:[{}],documentSelect:{},documents:[null],selectedDocuments:[null],files:[{filename:null,link:null}],area:null,month:null,year:null,search:null,uploadFile:!1,uploadLink:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",office:"office",container:"container"})),{},{years:function(){var t=this,e=(new Date).getFullYear();return Array.from({length:e-parseInt(this.getBaseYear(10))},(function(e,a){return parseInt(t.getBaseYear(9))+a}))}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showDocument",this.container.id).then((function(e){var a;t.documentList=rn(e.data.documents,t.search),null!==(a=t.documentList)&&void 0!==a&&a.length&&(t.totalRows=t.documentList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),fileUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.container.id,i="file",n=this.documents[0];this.$store.dispatch("uploadDocument",{user_id:e,container_id:a,type:i,documents:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.uploadFile=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},linkUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.container.id,i="link",n=this.files;this.$store.dispatch("uploadLink",{user_id:e,container_id:a,type:i,file:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.uploadLink=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeDocument",this.documentSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addDocument:function(){null!==this.documents[this.documents.length-1]&&this.documents.push(null)},removeDocument:function(t){this.documents[0].splice(t,1)},addFile:function(){null!==this.files[this.files.length-1].link&&this.files.push({filename:null,link:null})},removeFile:function(t){this.files.splice(t,1)},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},formatDate:function(t){return E()(t).format("ll")},getBaseYear:function(t){return E()().subtract(t,"years").format("YYYY")},selectDocument:function(){var t;this.documents[0]?(t=this.documents[0]).push.apply(t,Object(rt["a"])(this.selectedDocuments[0])):this.documents[0]=this.selectedDocuments[0],this.selectedDocuments=[null]}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showDocument",t.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows=t.documentList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},cn=on,ln=Object(L["a"])(cn,an,nn,!1,null,null,null),dn=ln.exports,mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Program")])]},proxy:!0}]),model:{value:t.createProgram,callback:function(e){t.createProgram=e},expression:"createProgram"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-form-group",{attrs:{id:"createProgram-group-1",label:"*Program Name:","label-for":"createProgram-1"}},[a("b-form-input",{attrs:{id:"createProgram-1",type:"text",required:""},model:{value:t.program_name,callback:function(e){t.program_name=e},expression:"program_name"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createProgram-group-2",label:"*Department Office:","label-for":"createProgram-2"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"250px"}},[a("b-form-group",{attrs:{id:"createProgram-group-3",label:"Program Type:","label-for":"createProgram-3"}},[a("multiselect",{attrs:{options:t.typeOptions,placeholder:null,required:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1)]),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createProgram-group-4",label:"*Current Level:","label-for":"createProgram-4"}},[a("multiselect",{attrs:{options:t.options,placeholder:null,required:""},model:{value:t.latest_applied_level,callback:function(e){t.latest_applied_level=e},expression:"latest_applied_level"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createProgram-group-5",label:"Rating Obtained:","label-for":"createProgram-5"}},[a("b-form-input",{attrs:{id:"createProgram-5",type:"number",step:"0.01",min:"0",max:"5"},model:{value:t.rating_obtained,callback:function(e){t.rating_obtained=e},expression:"rating_obtained"}})],1)],1)]),a("b-form-group",{attrs:{id:"createProgram-group-6",label:"End of Validity:","label-for":"createProgram-6"}},[a("b-form-datepicker",{attrs:{id:"createProgram-6"},model:{value:t.duration_of_validity,callback:function(e){t.duration_of_validity=e},expression:"duration_of_validity"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createProgram=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Program")])]},proxy:!0}]),model:{value:t.editProgram,callback:function(e){t.editProgram=e},expression:"editProgram"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editProgram-group-1",label:"Program Name:","label-for":"editProgram-1"}},[a("b-form-input",{attrs:{id:"editProgram-1",type:"text",required:""},model:{value:t.programSelect.program_name,callback:function(e){t.$set(t.programSelect,"program_name",e)},expression:"programSelect.program_name"}})],1),a("b-form-group",{attrs:{id:"editProgram-group-2",label:"Program Type:","label-for":"editProgram-2"}},[a("multiselect",{attrs:{options:t.typeOptions,placeholder:null,required:""},model:{value:t.programSelect.type,callback:function(e){t.$set(t.programSelect,"type",e)},expression:"programSelect.type"}})],1),a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createProgram-group-4",label:"*Current Level:","label-for":"createProgram-4"}},[a("multiselect",{attrs:{options:t.options,placeholder:null,required:""},model:{value:t.programSelect.latest_applied_level,callback:function(e){t.$set(t.programSelect,"latest_applied_level",e)},expression:"programSelect.latest_applied_level"}})],1)],1),a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createProgram-group-5",label:"Rating Obtained:","label-for":"createProgram-5"}},[a("b-form-input",{attrs:{id:"createProgram-5",type:"number",step:"0.01",min:"0",max:"5"},model:{value:t.programSelect.rating_obtained,callback:function(e){t.$set(t.programSelect,"rating_obtained",e)},expression:"programSelect.rating_obtained"}})],1)],1)]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editProgram=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Department Office")])]},proxy:!0}]),model:{value:t.addOffice,callback:function(e){t.addOffice=e},expression:"addOffice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addProgramOffice()}}},[a("b-form-group",{attrs:{id:"addOffice-group-1",label:"Department Office:","label-for":"addOffice-1"}},[a("multiselect",{attrs:{options:t.officeList,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addOffice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.addOffice=!1}}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to delete this program?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Restore Session")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.program_name=null,t.latest_applied_level=null,t.rating_obtained=null,t.duration_of_validity=null,t.officeSelect=null,t.createProgramPrompt=!1,t.createProgram=!0}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.createProgramPrompt=!1,t.createProgram=!0}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.createProgramPrompt,callback:function(e){t.createProgramPrompt=e},expression:"createProgramPrompt"}},[t._v("\n    A previous program registration exists, do you want to continue?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Office")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteOfficePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.deleteProgramOffice(),t.deleteOfficePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteOfficePrompt,callback:function(e){t.deleteOfficePrompt=e},expression:"deleteOfficePrompt"}},[t._v("\n    Are you sure you want to remove this office?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),a("h5",[t._v("List of Programs")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Intended Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.setOffice(),t.continueCreateProgram()}}},[t._v("Create Program")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(rating_obtained)",fn:function(e){return[t._v("\n        "+t._s(t.roundNum(e.value))+"\n      ")]}},{key:"cell(preferred_start_date)",fn:function(e){return[t._v("\n        "+t._s(e.item.preferred_start_date)+" -\n        "+t._s(e.item.preferred_end_date)+"\n      ")]}},{key:"cell(office_name)",fn:function(e){return[t._v("\n        "+t._s(e.item.office_name)+"\n        "),e.item.office_name?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove"},on:{click:function(a){t.programSelect=e.item,t.deleteOfficePrompt=!0}}},[a("md-icon",[t._v("close")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Assign Department Office"},on:{click:function(a){t.setOffice(),t.programSelect=e.item,t.officeSelect=null,t.addOffice=!0}}},[a("md-icon",[t._v("add_circle")])],1)]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.programSelect=e.item,t.editProgram=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.programSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},un=[],pn=function(t){return t.toString().toLowerCase()},fn=function(t,e){return e?t.filter((function(t){return pn(t.program_name).includes(pn(e))})):t},hn={name:"TableSearch",data:function(){return{sortBy:"program_name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program Name",sortable:!0},{key:"rating_obtained",label:"Rating Obtained",sortable:!0},{key:"accreditation_status",label:"Current Level",sortable:!0},{key:"duration_of_validity",label:"Duration of Validation",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"office_name",label:"Department",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],options:["For PSV Accreditation","Candidate","Level I","Level II","Level III","Level III, Phase 1","Level III, Phase 2","Level IV","Level IV, Phase 1","Level IV, Phase 2"],typeOptions:["Graduate","Undergraduate"],programList:[{}],programSelect:{},program_name:null,latest_applied_level:null,rating_obtained:null,duration_of_validity:null,type:null,officeList:[],officeSelect:null,search:null,createProgram:!1,createProgramPrompt:!1,editProgram:!1,deletePrompt:!1,addOffice:!1,deleteOfficePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus"})),methods:{continueCreateProgram:function(){null!==this.program_name||null!==this.latest_applied_level||null!==this.rating_obtained||null!==this.duration_of_validity||null!==this.type||null!==this.officeSelect?this.createProgramPrompt=!0:this.createProgram=!0},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgram",this.campus.campus_id).then((function(e){t.programList=fn(e.data,t.search),t.totalRows=t.programList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),submit:function(){var t=this;this.$isLoading(!0);var e=this.program_name,a=this.latest_applied_level,i=this.rating_obtained,n=this.duration_of_validity,s=this.type,r=this.officeSelect.id,o=this.campus.campus_id;this.$store.dispatch("addProgram",{program_name:e,latest_applied_level:a,rating_obtained:i,duration_of_validity:n,type:s,office_id:r,suc_id:o}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgram",t.campus.campus_id).then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.program_name=null,t.latest_applied_level=null,t.rating_obtained=null,t.duration_of_validity=null,t.type=null,t.officeSelect=null,t.createProgram=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this;this.$isLoading(!0);var e=this.programSelect.id,a=this.programSelect.program_name,i=this.programSelect.type,n=this.programSelect.latest_applied_level,s=this.programSelect.rating_obtained;this.$store.dispatch("editProgram",{id:e,program_name:a,type:i,latest_applied_level:n,rating_obtained:s}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgram",t.campus.campus_id).then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.editProgram=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0);var e=this.campus.campus_id,a=this.programSelect.id;this.$store.dispatch("removeProgram",{suc_id:e,program_id:a}).then((function(e){if(!0===e.data.status){var a=t.programList.findIndex((function(e){return e.id===t.programSelect.id}));t.programList.splice(a,1),t.totalRows=t.programList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addProgramOffice:function(){var t=this;this.$isLoading(!0);var e=this.programSelect.id,a=this.officeSelect.id;this.$store.dispatch("addProgramOffice",{program_id:e,office_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgram",t.campus.campus_id).then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},deleteProgramOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteProgramOffice",this.programSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgram",t.campus.campus_id).then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},officeName:function(t){var e=t.office_name;return"".concat(e)},setOffice:function(){var t=this;this.$store.dispatch("showOffice",this.campus.campus_id).then((function(e){t.officeList=e.data.office})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showProgram",t.campus.campus_id).then((function(e){t.programList=e.data,t.totalRows=t.programList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},vn=hn,gn=Object(L["a"])(vn,mn,un,!1,null,null,null),bn=gn.exports,_n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Master Survey Instrument")])]},proxy:!0}]),model:{value:t.createMSIProgram,callback:function(e){t.createMSIProgram=e},expression:"createMSIProgram"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.create)}}},[a("b-form-group",{attrs:{id:"createMSIProgram-group-1",label:"*Intended Program:","label-for":"createMSIProgram-1"}},[a("b-form-input",{attrs:{id:"createMSIProgram-1",type:"text",required:""},model:{value:t.intended_program,callback:function(e){t.intended_program=e},expression:"intended_program"}})],1),a("b-form-group",{attrs:{id:"createMSIProgram-group-2",label:"*Type of Instrument:","label-for":"createMSIProgram-2"}},[a("b-form-input",{attrs:{id:"createMSIProgram-2",type:"text",required:""},model:{value:t.type_of_instrument,callback:function(e){t.type_of_instrument=e},expression:"type_of_instrument"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createMSIProgram=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Program")])]},proxy:!0}]),model:{value:t.editMSI,callback:function(e){t.editMSI=e},expression:"editMSI"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[a("b-form-group",{attrs:{id:"editMSI-group-1",label:"Intended Program:","label-for":"editMSI-1"}},[a("b-form-input",{attrs:{id:"editMSI-1",type:"text",required:""},model:{value:t.intended_program,callback:function(e){t.intended_program=e},expression:"intended_program"}})],1),a("b-form-group",{attrs:{id:"editMSI-group-2",label:"Type of Instrument:","label-for":"editMSI-2"}},[a("b-form-input",{attrs:{id:"editMSI-2",type:"text",required:""},model:{value:t.type_of_instrument,callback:function(e){t.type_of_instrument=e},expression:"type_of_instrument"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editMSI=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.editMSI=!1}}},[t._v("Edit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Instrument")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to delete this intrument?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect.x,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-instruments-0","md-label":"PSV"}},[a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.psvList,fields:t.fields_psv,"sort-by":t.sortBy_psv,"sort-desc":t.sortDesc_psv,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_psv=e},"update:sort-by":function(e){t.sortBy_psv=e},"update:sortDesc":function(e){t.sortDesc_psv=e},"update:sort-desc":function(e){t.sortDesc_psv=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDate(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.selectPSV(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-instruments-1","md-label":"Old Policy"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("\n              "+t._s(t.checkRole(9)||t.checkRole(10)?"AACCUP":t.campus.institution_name)+"\n            ")]),a("h5",[t._v("List of Instruments")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Intended Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-dropdown",{attrs:{text:"Create Instrument",variant:"primary",dropleft:""}},[a("b-dropdown-item",{on:{click:function(e){t.intended_program=null,t.type_of_instrument="OBE Instrument",t.create=0,t.createMSIProgram=!0}}},[t._v("Blank Instrument")]),a("b-dropdown-item",{on:{click:function(e){t.msiTemplate(),t.intended_program=null,t.type_of_instrument="OBE Instrument",t.create=1,t.createMSIProgram=!0}}},[t._v("Clone Master File")])],1)],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDate(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.instruments=e.item,t.intended_program=e.item.intended_program,t.type_of_instrument="OBE Instrument",t.editMSI=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Use Template"},on:{click:function(a){t.instruments=e.item,t.intended_program=e.item.intended_program+"-copy",t.type_of_instrument="OBE Instrument",t.create=1,t.createMSIProgram=!0}}},[a("md-icon",[t._v("file_copy")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.instruments=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-instruments-2","md-label":"New Policy"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect.y,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-new-0","md-label":"Level 3"}},[a("br"),a("CriteriaForm",{attrs:{instrumentID:42,selectedTab:"manage-new-0"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"manage-new-1","md-label":"Level 4"}},[a("br"),a("CriteriaForm",{attrs:{instrumentID:47,selectedTab:"manage-new-1"}})],1)],1)],1)],1)],1)],1)},yn=[],kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addTag()}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[a("b-form-select",{attrs:{id:"addTags-1",options:t.filterAreaTags(),required:""},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeTag(),t.deleteTagPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("\n        "+t._s(t.checkRole(9)||t.checkRole(10)?"AACCUP":t.campus.institution_name)+"\n      ")]),a("h5",[t._v("Criteria Form")])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.checkFields(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(tags)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{size:"sm","add-on-change":"","no-outer-focus":""}},[[a("div",t._l(e.item.tags,(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.tagSelect=e,t.deleteTagPrompt=!0}}},[t._v(t._s(e.tag))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.msiSelect=e.item,t.tags=[null],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n      "+t._s(t.formatDate(e.value))+"\n    ")]}},{key:"cell(undergraduate)",fn:function(e){return[a("b-form-checkbox",{attrs:{value:"Mandatory","unchecked-value":"Optional"},on:{change:function(a){return t.setAreaMandatory(e.item,e.value,0)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"row.value"}},[t._v("\n        "+t._s(e.value)+"\n      ")])]}},{key:"cell(graduate)",fn:function(e){return[a("b-form-checkbox",{attrs:{value:"Mandatory","unchecked-value":"Optional"},on:{change:function(a){return t.setAreaMandatory(e.item,e.value,1)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"row.value"}},[t._v("\n        "+t._s(e.value)+"\n      ")])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1)},xn=[],Sn=(a("a9e3"),{name:"ManageInstrument",props:{instrumentID:Number,selectedTab:String},data:function(){return{sortBy:"area_number",sortDesc:!1,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"tags",label:"Assigned Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0,thStyle:{width:"300px"}},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],fields_aacup:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"undergraduate",label:"Undergraduate",sortable:!0,thStyle:{width:"160px"}},{key:"graduate",label:"Graduate",sortable:!0,thStyle:{width:"160px"}},{key:"updated_at",label:"Last Update",sortable:!0,thStyle:{width:"300px"}},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[{}],msiSelect:null,tag:null,tagSelect:null,addTags:!1,deleteTagPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",role:"role",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},addTag:function(){var t=this,e=this.msiSelect.id,a=this.tag;this.$isLoading(!0),this.$store.dispatch("addInstrumentTag",{id:e,tag:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCriteriaInstrument",t.instrumentID).then((function(e){t.msiList=e.data})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.createTemplate=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTag:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeInstrumentTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showCriteriaInstrument",t.instrumentID).then((function(e){t.msiList=e.data})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setAreaMandatory:function(t,e,a){var i=this;this.$isLoading(!0);var n=t.id,s=t.graduate,r=t.undergraduate;1===a?s=e:r=e,this.$store.dispatch("setAreaMandatory",{id:n,graduate:s,undergraduate:r}).then((function(t){!0===t.data.status?(i.$store.dispatch("showCriteriaInstrument",i.instrumentID).then((function(t){i.msiList=t.data})),i.$isLoading(!1),i.snackbarText=t.data.message,i.makeToast("Success!","primary")):(i.$isLoading(!1),i.snackbarText=t.data.message,i.makeToast("Error","danger"))})).catch((function(t){i.$isLoading(!1),i.snackbarText=t+". Please contact the administrator",i.makeToast("Error","danger")}))},checkFields:function(){return this.checkRole(9)||this.checkRole(10)?this.fields_aacup:this.fields},checkRole:function(t){var e,a;return 1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t&&11!==t||null===(e=this.offices)||void 0===e||!e.length?7!==t&&8!==t&&9!==t&&10!==t||null===(a=this.role)||void 0===a||!a.length?void 0:!!this.role.find((function(e){return e.role_id===t})):!!this.offices.find((function(e){return e.role_id===t}))},filterAreaTags:function(){var t=this,e=["AREA I: VISION, MISSION, GOALS AND OBJECTIVES","AREA II: FACULTY","AREA III: CURRICULUM AND INSTRUCTION","AREA IV: SUPPORT TO STUDENTS","AREA V: RESEARCH","AREA VI: EXTENSION AND COMMUNITY INVOLVEMENT","AREA VII: LIBRARY","AREA VIII: PHYSICAL PLANT AND FACILITIES","AREA IX: LABORATORIES","AREA X: ADMINISTRATION"];if(this.msiSelect)for(var a=function(a){e=e.filter((function(e){return t.msiSelect.tags[a].tag!==e}))},i=0;i<this.msiSelect.tags.length;i++)a(i);return e},formatDate:function(t){return E()(t).format("llll")},select:function(t){var e=this;if(null!=t){var a="manage-instruments-2",i=this.selectedTab;this.$store.commit("saveTabSelect",{x:a,y:i}),this.$store.commit("saveInstrument",t),this.$store.dispatch("showParameter",t.id).then((function(t){e.$store.commit("saveParameter",t.data[0])})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$router.push("/ShowStatementForms")}},back:function(){this.$router.push("/ManageInstrumentProgram")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showCriteriaInstrument",t.instrumentID).then((function(e){t.msiList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}}),Cn=Sn,wn=Object(L["a"])(Cn,kn,xn,!1,null,null,null),Tn=wn.exports,Pn=function(t){return t.toString().toLowerCase()},Ln=function(t,e){return e?t.filter((function(t){return Pn(t.intended_program).includes(Pn(e))})):t},An={name:"ManageInstrumentProgram",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"intended_program",label:"Intended Program",sortable:!0},{key:"type_of_instrument",label:"Type of Instrument",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"240px"}}],sortBy_psv:"area_number",sortDesc_psv:!1,fields_psv:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],programList:[{}],psvList:[{}],search:null,create:null,createMSIProgram:!1,editMSI:!1,cloneMSI:!1,deletePrompt:!1,intended_program:null,type_of_instrument:"OBE Instrument",instruments:{},snackbarText:""}},components:{CriteriaForm:Tn},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",role:"role",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submit:function(t){0===t?this.newMSI():this.clone()},newMSI:function(){var t=this,e=this.intended_program,a=this.type_of_instrument;this.$isLoading(!0),this.$store.dispatch("createInstrument",{intended_program:e,type_of_instrument:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgramInstrument").then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.createMSIProgram=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},update:function(){var t=this,e=this.instruments.id,a=this.intended_program,i=this.type_of_instrument;this.$isLoading(!0),this.$store.dispatch("editInstrument",{id:e,intended_program:a,type_of_instrument:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgramInstrument").then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},msiTemplate:function(){this.instruments=this.programList.find((function(t){return 6===t.id}))},clone:function(){var t=this,e=this.instruments.id,a=this.intended_program,i=this.type_of_instrument;this.$isLoading(!0),this.$store.dispatch("cloneInstrument",{id:e,intended_program:a,type_of_instrument:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showProgramInstrument").then((function(e){t.programList=e.data,t.totalRows=t.programList.length})),t.createMSIProgram=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},formatDate:function(t){return E()(t).format("llll")},select:function(t){var e="manage-instruments-1";this.$store.commit("saveTabSelect",{x:e}),this.$store.commit("saveProgram",t),this.$router.push("/ManageInstrument")},selectPSV:function(t){var e=this,a="manage-instruments-0";this.$store.commit("saveTabSelect",{x:a}),this.$store.commit("saveInstrument",t),this.$store.dispatch("showParameter",t.id).then((function(t){e.$store.commit("saveParameter",t.data[0])})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$router.push("/ShowStatementPSV")},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteInstrument",this.instruments.id).then((function(e){if(!0===e.data.status){var a=t.programList.findIndex((function(e){return e.id===t.instruments.id}));t.programList.splice(a,1),t.totalRows=t.programList.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkRole:function(t){var e,a;return 1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t&&11!==t||null===(e=this.offices)||void 0===e||!e.length?7!==t&&8!==t&&9!==t&&10!==t||null===(a=this.role)||void 0===a||!a.length?void 0:!!this.role.find((function(e){return e.role_id===t})):!!this.offices.find((function(e){return e.role_id===t}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showProgramInstrument").then((function(e){t.programList=Ln(e.data,t.search),t.totalRows=t.programList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"manage-instruments-0"!==t.tabSelect.x&&"manage-instruments-1"!==t.tabSelect.x&&"manage-instruments-2"!==t.tabSelect.x&&(a="manage-instruments-0",t.$store.commit("saveTabSelect",{x:a})),t.$isLoading(!0),e.next=4,t.$store.dispatch("showProgramInstrument").then((function(e){t.programList=e.data,t.totalRows=t.programList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.$store.dispatch("showInstrument",48).then((function(e){t.psvList=e.data.instrument})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:return e.next=8,t.$isLoading(!1);case 8:case"end":return e.stop()}}),e)})))()}},$n=An,Dn=Object(L["a"])($n,_n,yn,!1,null,null,null),Rn=Dn.exports,In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.intended_program))]),t.campus?a("h5",[t._v("Campus: "+t._s(t.campus.campus_name))]):t._e()])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1)],1)},En=[],Un={name:"ManageInstrument",data:function(){return{sortBy:"area_number",sortDesc:!1,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[{}],snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",program:"program"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},formatDate:function(t){return E()(t).format("llll")},select:function(t){null!=t&&(this.$store.commit("saveInstrument",t),this.$router.push("/ManageParameters"))},back:function(){this.$router.push("/ManageInstrumentProgram")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showInstrument",t.program.id).then((function(e){t.msiList=e.data.instrument})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},On=Un,Fn=Object(L["a"])(On,In,En,!1,null,null,null),Bn=Fn.exports,Nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Parameter")])]},proxy:!0}]),model:{value:t.createParameter,callback:function(e){t.createParameter=e},expression:"createParameter"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-form-group",{attrs:{id:"createParameter-group-1",label:"*Parameter:","label-for":"createParameter-1"}},[a("b-form-input",{attrs:{id:"createParameter-1",type:"text",required:""},model:{value:t.parameter.parameter,callback:function(e){t.$set(t.parameter,"parameter",e)},expression:"parameter.parameter"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createParameter=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Parameter")])]},proxy:!0}]),model:{value:t.editParameter,callback:function(e){t.editParameter=e},expression:"editParameter"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[a("b-form-group",{attrs:{id:"editParameter-group-1",label:"Parameter:","label-for":"editParameter-1"}},[a("b-form-input",{attrs:{id:"editParameter-1",type:"text",required:""},model:{value:t.parameter.parameter,callback:function(e){t.$set(t.parameter,"parameter",e)},expression:"parameter.parameter"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editParameter=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.editParameter=!1}}},[t._v("Edit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Instrument")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to delete this parameter?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.intended_program))]),t.campus?a("h5",[t._v("Campus: "+t._s(t.campus.campus_name))]):t._e(),a("h5",[t._v(t._s(t.instrument.area_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.parameter.parameter=null,t.createParameter=!0}}},[t._v("Add Parameter")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.parameters,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.parameter=e.item,t.editParameter=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.parameter=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Mn=[],jn={name:"ManageParameters",data:function(){return{sortBy:"parameter",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"parameter",label:"Parameter",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],parameters:[{}],parameter:{},search:null,createParameter:!1,editParameter:!1,deletePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",program:"program",instrument:"instrument"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submit:function(){var t=this;this.$isLoading(!0);var e=this.parameter.parameter,a=this.instrument.id;this.$store.dispatch("createParameter",{parameter:e,area_instrument_id:a}).then((function(a){!0===a.data.status?(t.$store.commit("saveParameter",e),t.parameters.push(a.data.parameter),t.totalRows=t.parameters.length,t.$isLoading(!1),t.snackbarText=a.data.message,t.makeToast("Success!","primary"),t.createParameter=!1):(t.$isLoading(!1),t.snackbarText=a.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},select:function(t){null!=t&&(this.$store.commit("saveParameter",t),this.$router.push("/ShowStatements"))},update:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editParameter",this.parameter).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteParameter",this.parameter.id).then((function(e){if(!0===e.data.status){var a=t.parameters.findIndex((function(e){return e.id===t.parameter.id}));t.parameters.splice(a,1),t.totalRows=t.parameters.length,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},formatDate:function(t){return E()(t).format("llll")},back:function(){this.$router.push("/ManageInstrument")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showParameter",t.instrument.id).then((function(e){t.parameters=e.data,t.totalRows=t.parameters.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},qn=jn,zn=Object(L["a"])(qn,Nn,Mn,!1,null,null,null),Vn=zn.exports,Hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.statement.type)+": Edit Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.edit=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.editStatement()}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.statement.statement,callback:function(e){t.$set(t.statement,"statement",e)},expression:"statement.statement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.typeSelect)+": Add Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.add=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addStatement(),t.add=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.add,callback:function(e){t.add=e},expression:"add"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Sub Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addSub=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addSubStatement(),t.addSub=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.addSub,callback:function(e){t.addSub=e},expression:"addSub"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this statement?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.intended_program))]),t.campus?a("h5",[t._v("Campus: "+t._s(t.campus.campus_name))]):t._e(),a("h5",[t._v(t._s(t.instrument.area_name))]),a("b-dropdown",{attrs:{text:t.parameter.parameter,variant:"primary"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.changeParameter(e.id),t.$store.commit("saveParameter",e)}}},[t._v(t._s(e.parameter))])],1)})),0)],1)]),a("div",t._l(t.type,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[""===t.search?a("div",{staticClass:"md-layout-item",staticStyle:{"padding-top":"10px"}},[a("h5",[t._v(t._s(e.type))])]):t._e(),a("div",{staticClass:"md-layout-item"}),0===i?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e()]),""===t.search?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.sortStatements(e.type),fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n              "+t._s(e.value)+"\n            ")])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.statement=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}],null,!0)}):0===i?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[t._v("\n            "+t._s(e.value)+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[a("md-icon",[t._v("delete")])],1)]}}],null,!0)}):t._e(),""===t.search?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(a){t.typeSelect=e.type,t.newStatement=null,t.add=!0}}},[t._v("Add Statement")]):t._e()],1)})),0),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[e.parameter===t.parameter.parameter?a("div",[t.parameters[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i-1].id),t.$store.commit("saveParameter",t.parameters[i-1])}}},[t._v("Back")]):t._e(),t.parameters[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i+1].id),t.$store.commit("saveParameter",t.parameters[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])])],1)},Yn=[],Xn=function(t){if(void 0!==t)return t.toString().toLowerCase()},Wn=function(t,e){return""!==e?t.filter((function(t){return Xn(t.statement).includes(Xn(e))})):t},Gn=function(t,e){return e?t.filter((function(t){return t.instrument_parameter_id===e})):t},Jn=function(t,e){return e?t.filter((function(t){return t.type===e})):t},Qn=function(t,e){if(t&&e)return t.find((function(t){return t.id===e}))},Kn={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Statement",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],statementList:[{}],statement:{},parameters:[{}],newStatement:null,search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",typeSelect:"",type:[{type:"System Input"},{type:"Implementation"},{type:"Outcome"}],deletePrompt:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",program:"program",instrument:"instrument",parameter:"parameter"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=Qn(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},editStatement:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editStatement",this.statement).then((function(e){!0===e.data.status?(t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=Gn(e.data,t.parameter.id)})),t.edit=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a=this.typeSelect,i=null,n=this.parameter.id;this.$store.dispatch("createStatement",{statement:e,type:a,statement_parent:i,parameter_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addSubStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a=this.statement.type,i=this.statement.id,n=this.parameter.id;this.$store.dispatch("createStatement",{statement:e,type:a,statement_parent:i,parameter_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0);var e=this.statement.id,a=this.parameter.id;this.$store.dispatch("deleteStatement",{statement_id:e,parameter_id:a}).then((function(e){if(!0===e.data.status){var a=t.statementList.findIndex((function(e){return e.id===t.statement.id}));t.statementList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showStatement",this.instrument.id).then((function(e){var a=Gn(e.data,t.parameter.id);t.statementList=Wn(a,t.search)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),sortStatements:function(t){var e;if(null!==(e=this.statementList)&&void 0!==e&&e.length)return Jn(this.statementList,t)},back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;this.$isLoading(!0),this.$nextTick((function(){document.getElementById("create").scrollIntoView()})),this.$store.dispatch("showStatement",this.instrument.id).then((function(a){e.$isLoading(!1),e.statementList=Gn(a.data,t)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=Gn(e.data,t.parameter.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showParameter",t.instrument.id).then((function(e){e.data.length>1?t.parameters=e.data.sort((function(t,e){return t.parameter.localeCompare(e.parameter)})):t.parameters=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},Zn=Kn,ts=Object(L["a"])(Zn,Hn,Yn,!1,null,null,null),es=ts.exports,as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.edit=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.editStatement()}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter criteria...",rows:"3","max-rows":"6"},model:{value:t.statement.statement,callback:function(e){t.$set(t.statement,"statement",e)},expression:"statement.statement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Criteria")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.add=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addStatement(),t.add=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.add,callback:function(e){t.add=e},expression:"add"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter criteria...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Sub Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addSub=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addSubStatement(),t.addSub=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.addSub,callback:function(e){t.addSub=e},expression:"addSub"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Criteria")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this criteria?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t.campus?a("h4",[t._v(t._s(t.campus.campus_name))]):t._e(),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),""===t.search?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n            "+t._s(e.value)+"\n          ")])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.statement=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}],null,!1,1767005097)}):a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[t._v("\n          "+t._s(e.value)+"\n        ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[a("md-icon",[t._v("delete")])],1)]}}])}),""===t.search?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){t.newStatement=null,t.add=!0}}},[t._v("Add Statement")]):t._e()],1),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])])],1)},is=[],ns=function(t){if(void 0!==t)return t.toString().toLowerCase()},ss=function(t,e){return""!==e?t.filter((function(t){return ns(t.statement).includes(ns(e))})):t},rs=function(t,e){return e?t.filter((function(t){return t.instrument_parameter_id===e})):t},os=function(t,e){if(t&&e)return t.find((function(t){return t.id===e}))},cs={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Criteria",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],statementList:[{}],statement:{},msiList:[],parameters:[{}],newStatement:null,search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",deletePrompt:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",parameter:"parameter",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=os(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},editStatement:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editStatement",this.statement).then((function(e){!0===e.data.status?(t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=rs(e.data,t.parameter.id)})),t.edit=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a="Evaluation",i=null,n=this.instrument.id;this.$store.dispatch("createCriteriaStatement",{statement:e,type:a,statement_parent:i,instrument_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addSubStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a=this.statement.type,i=this.statement.id,n=this.parameter.id;this.$store.dispatch("createStatement",{statement:e,type:a,statement_parent:i,parameter_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0);var e=this.statement.id,a=this.parameter.id;this.$store.dispatch("deleteStatement",{statement_id:e,parameter_id:a}).then((function(e){if(!0===e.data.status){var a=t.statementList.findIndex((function(e){return e.id===t.statement.id}));t.statementList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showStatement",this.instrument.id).then((function(e){var a=rs(e.data,t.parameter.id);t.statementList=ss(a,t.search)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$isLoading(!0);case 2:return a.next=4,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 4:return a.next=6,e.$store.commit("saveInstrument",t);case 6:return a.next=8,e.$store.dispatch("showParameter",t.id).then((function(t){e.$store.commit("saveParameter",t.data[0])})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 8:return a.next=10,e.$store.dispatch("showStatement",t.id).then((function(t){e.$isLoading(!1),e.statementList=rs(t.data,e.parameter.id)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 10:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=rs(e.data,t.parameter.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:if("manage-instruments-2"!==t.tabSelect){e.next=8;break}return e.next=6,t.$store.dispatch("showInstrument",42).then((function(e){t.msiList=e.data.instrument})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:e.next=11;break;case 8:if("manage-instruments-3"!==t.tabSelect){e.next=11;break}return e.next=11,t.$store.dispatch("showInstrument",47).then((function(e){t.msiList=e.data.instrument})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 11:return e.next=13,t.$isLoading(!1);case 13:case"end":return e.stop()}}),e)})))()}},ls=cs,ds=Object(L["a"])(ls,as,is,!1,null,null,null),ms=ds.exports,us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.edit=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.editStatement()}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter statement...",rows:"3","max-rows":"6"},model:{value:t.statement.statement,callback:function(e){t.$set(t.statement,"statement",e)},expression:"statement.statement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.add=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addStatement(),t.add=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.add,callback:function(e){t.add=e},expression:"add"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter statement...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Sub Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addSub=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.addSubStatement(),t.addSub=!1}}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.addSub,callback:function(e){t.addSub=e},expression:"addSub"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.newStatement,callback:function(e){t.newStatement=e},expression:"newStatement"}})],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Statement")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this statement?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t.campus?a("h4",[t._v(t._s(t.campus.campus_name))]):t._e(),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),""===t.search?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n            "+t._s(e.value)+"\n          ")])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.statement=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}],null,!1,1767005097)}):a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[t._v("\n          "+t._s(e.value)+"\n        ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.edit=!0,t.statement=e.item}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Sub Statement"},on:{click:function(a){t.newStatement=null,t.statement=e.item,t.addSub=!0}}},[a("md-icon",[t._v("queue")])],1),t.statementList.find((function(t){return t.parent_statement_id===e.item.id}))?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[a("md-icon",[t._v("delete")])],1)]}}])}),""===t.search?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){t.newStatement=null,t.add=!0}}},[t._v("Add Statement")]):t._e()],1),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])])],1)},ps=[],fs=function(t){if(void 0!==t)return t.toString().toLowerCase()},hs=function(t,e){return""!==e?t.filter((function(t){return fs(t.statement).includes(fs(e))})):t},vs=function(t,e){return e?t.filter((function(t){return t.instrument_parameter_id===e})):t},gs=function(t,e){if(t&&e)return t.find((function(t){return t.id===e}))},bs={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Statement",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],statementList:[{}],statement:{},msiList:[],parameters:[{}],newStatement:null,search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",deletePrompt:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",parameter:"parameter"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=gs(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},editStatement:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("editStatement",this.statement).then((function(e){!0===e.data.status?(t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=vs(e.data,t.parameter.id)})),t.edit=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a="PSV",i=null,n=this.instrument.id;this.$store.dispatch("createCriteriaStatement",{statement:e,type:a,statement_parent:i,instrument_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addSubStatement:function(){var t=this;this.$isLoading(!0);var e=this.newStatement,a=this.statement.type,i=this.statement.id,n=this.parameter.id;this.$store.dispatch("createStatement",{statement:e,type:a,statement_parent:i,parameter_id:n}).then((function(e){!0===e.data.status?(t.statementList.push(e.data.statement[0]),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0);var e=this.statement.id,a=this.parameter.id;this.$store.dispatch("deleteStatement",{statement_id:e,parameter_id:a}).then((function(e){if(!0===e.data.status){var a=t.statementList.findIndex((function(e){return e.id===t.statement.id}));t.statementList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showStatement",this.instrument.id).then((function(e){var a=vs(e.data,t.parameter.id);t.statementList=hs(a,t.search)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$isLoading(!0);case 2:return a.next=4,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 4:return a.next=6,e.$store.commit("saveInstrument",t);case 6:return a.next=8,e.$store.dispatch("showParameter",t.id).then((function(t){e.$store.commit("saveParameter",t.data[0])})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 8:return a.next=10,e.$store.dispatch("showStatement",t.id).then((function(t){e.$isLoading(!1),e.statementList=vs(t.data,e.parameter.id)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 10:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showStatement",t.instrument.id).then((function(e){t.statementList=vs(e.data,t.parameter.id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showInstrument",48).then((function(e){t.msiList=e.data.instrument})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},_s=bs,ys=Object(L["a"])(_s,us,ps,!1,null,null,null),ks=ys.exports,xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Folder")])]},proxy:!0}]),model:{value:t.assignUpload,callback:function(e){t.assignUpload=e},expression:"assignUpload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.makeDocumentList(e)}}},[t._l(t.list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Folder "+t._s(i+1))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("md-button",{staticClass:"md-icon-button md-dense md-accent",on:{click:function(e){return t.removeList(i)}}},[a("md-icon",[t._v("cancel")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"assignUpload-group-1",label:"*Folder Title:","label-for":"assignUpload-1"}},[a("b-form-input",{attrs:{id:"assignUpload-1",type:"text",required:""},model:{value:t.list[i].document_title,callback:function(e){t.$set(t.list[i],"document_title",e)},expression:"list[index].document_title"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px","margin-left":"5px"}},[a("b-form-group",{attrs:{id:"assignUpload-group-2",label:"Designation:","label-for":"assignUpload-2"}},[t._l(e.area,(function(n,s){return a("div",{key:s},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{id:"assignUpload-2",options:t.filterArea(e.area,t.list[i].area[s],t.optionsArea),required:""},model:{value:t.list[i].area[s],callback:function(e){t.$set(t.list[i].area,s,e)},expression:"list[index].area[indexArea]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeArea(i,s)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addArea(i)}}},[t._v("Add Designation")])],1)],2)],1)])])})),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"5px 0 15px"},on:{click:function(e){return t.addList()}}},[t._v("Add Folder")]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignUpload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Folder")])]},proxy:!0}]),model:{value:t.editDocument,callback:function(e){t.editDocument=e},expression:"editDocument"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editDocument-group-1",label:"*Folder Title:","label-for":"editDocument-1"}},[a("b-form-input",{attrs:{id:"editDocument-1",type:"text",required:""},model:{value:t.container_name,callback:function(e){t.container_name=e},expression:"container_name"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Change Folder")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.changePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.edit(),t.changePrompt=!1}}},[t._v("Change")])],1)]},proxy:!0}]),model:{value:t.changePrompt,callback:function(e){t.changePrompt=e},expression:"changePrompt"}},[t._v("\n    Are you sure you want to change this folder to\n    "+t._s("Primary"===t.container_type?"Required":"Supplementary")+"?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitTags(e)}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return t.tag.includes("Area")}))?t.oldTags.filter((function(t){return t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.area,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{options:t.filterArea(t.tags,t.area[i],t.optionsArea),required:""},model:{value:t.area[i],callback:function(e){t.$set(t.area,i,e)},expression:"area[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArea(i,t.area[i])}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArea()}}},[t._v("Add Designation")])],1)],2),a("b-form-group",{attrs:{id:"addTags-group-1",label:"Tags:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return!t.tag.includes("Area")}))?t.oldTags.filter((function(t){return!t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.tag,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{id:"addTags-1",type:"text",required:""},model:{value:t.tag[i],callback:function(e){t.$set(t.tag,i,e)},expression:"tag[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTag(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTag()}}},[t._v("Add Tag")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.removeTags()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"task-uploads-0","md-label":"Required"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.officeList.length>1?a("b-dropdown",{attrs:{text:"Change Office",variant:"primary"}},t._l(t.officeList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.$store.commit("saveOffice",e),t.changeOffice()}}},[t._v(t._s(e.office_name))])],1)})),0):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Primary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"task-uploads-0")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),t.filterLibrary()?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Supplemental"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Supplementary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Primary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"task-uploads-1","md-label":"Supplemental"}},[a("br"),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.office.office_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.officeList.length>1?a("b-dropdown",{attrs:{text:"Change Office",variant:"primary"}},t._l(t.officeList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.$store.commit("saveOffice",e),t.changeOffice()}}},[t._v(t._s(e.office_name))])],1)})),0):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tags",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.list=[{document_title:null,area:[]}],t.assignUpload=!0}}},[t._v("New Folder")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.setDocumentList("Supplementary"),fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.id)+"\n          ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n            "+t._s(e.item.container.container_name)+"\n          ")]}},{key:"cell(tags)",fn:function(e){return[t.tagEdit[e.index].status?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.tagEdit[e.index].status=!0}}},[a("md-icon",[t._v("edit")])],1)],1)]),t.tagEdit[e.index].status?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n                  "+t._s(i.tag)+"\n                  "),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Tag"},on:{click:function(e){t.tagSelect=i,t.deleteTagPrompt=!0}}},[a("md-icon",[t._v("close")])],1),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()],1)})),0),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.documentSelect=e.item.container,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Close Edit"},on:{click:function(a){t.tagEdit[e.index].status=!1}}},[a("md-icon",[t._v("edit")])],1)],1)]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Select"},on:{click:function(a){return t.select(e.item.container,"task-uploads-1")}}},[a("md-icon",[t._v("forward")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type=e.item.container.type,t.editDocument=!0}}},[a("md-icon",[t._v("edit")])],1),t.filterLibrary()?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Change to Required"},on:{click:function(a){t.documentSelect=e.item.container,t.container_name=e.item.container.container_name,t.container_type="Primary",t.changePrompt=!0}}},[a("md-icon",[t._v("swap_horiz")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item.container,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_Supplementary,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},Ss=[],Cs=function(t){return t.toString().toLowerCase()},ws=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Cs(t.container.container_name?t.container.container_name:"").includes(Cs(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Cs(t.tag?t.tag:"").includes(Cs(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Ts={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows_Primary:1,totalRows_Supplementary:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tags",label:"Tags"},{key:"number",label:"No. of Files"},{key:"actions",label:"Actions",thStyle:{width:"220px"}}],optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I: Vision, Mission, Goals and Objectives"},{value:"Area II",text:"Area II: Faculty"},{value:"Area III",text:"Area III: Curriculum and Instruction"},{value:"Area IV",text:"Area IV: Support to Students"},{value:"Area V",text:"Area V: Research"},{value:"Area VI",text:"Area VI: Extension and Community Involvement"},{value:"Area VII",text:"Area VII: Library"},{value:"Area VIII",text:"Area VIII: Physical Plant and Facilities"},{value:"Area IX",text:"Area IX: Laboratories"},{value:"Area X",text:"Area X: Administration"}],documentList:[],documentSelect:null,officeList:[],list:[{document_title:null,area:[null]}],search:null,tag:[],area:[],tags:[],oldTags:[],tagSelect:null,container_name:null,container_type:null,tagEdit:[{status:!1}],addTags:!1,deleteTagPrompt:!1,assignUpload:!1,editDocument:!1,deletePrompt:!1,changePrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",offices:"offices",office:"office",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},makeDocumentList:function(){var t=this,e=this.office.office_id,a=this.list,i="Supplementary";this.$isLoading(!0),this.$store.dispatch("makeDocumentList",{office_id:e,list:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.assignUpload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this,e=this.documentSelect.id,a=this.container_name,i=this.container_type;this.$isLoading(!0),this.$store.dispatch("editContainer",{container_id:e,container_name:a,type:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.editDocument=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteContainer",this.documentSelect.id).then((function(e){if(!0===e.data.status){var a=t.documentList.findIndex((function(e){return e.id===t.documentSelect.id}));t.documentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},submitTags:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.tag.concat(this.area);this.$store.dispatch("addTag",{id:e,tag:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTags:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter()},downloadLetter:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("documentViewFile",this.documentSelect.id).then((function(e){t.$isLoading(!1);var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t.documentSelect.link),document.body.appendChild(i),i.click()})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.documentList=ws(e.data.documents,t.search),t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterArea:function(t,e,a){if(null!==t&&void 0!==t&&t.length)for(var i=function(i){a=a.filter((function(a){return a.value!==t[i]||a.value===e}))},n=0;n<t.length;n++)i(n);return a},filterLibrary:function(){if(Cs(this.office.office_name).includes("librar"))return!0},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},addList:function(){this.list.push({document_title:null,area:[]})},removeList:function(t){this.list.splice(t,1)},addArea:function(t){this.list[t].area.push(null)},removeArea:function(t,e){this.list[t].area.splice(e,1)},addTagArea:function(){null!==this.area[this.area.length-1]&&(this.tags.push(this.area[this.area.length-1]),this.area.push(null))},removeTagArea:function(t,e){var a=this.tags.findIndex((function(t){return t===e}));this.tags.splice(a,1),this.area.splice(t,1)},addTag:function(){null!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},setTags:function(t){if(this.tags=[],null!==t&&void 0!==t&&t.length)for(var e=0;e<t.length;e++)this.tags.push(t[e].tag)},select:function(t,e){this.$store.commit("saveContainer",t),this.$store.commit("saveUploader",1),this.$store.commit("saveTabSelect",e),this.$router.push("/UploadedDocuments")},setTagEdit:function(){var t;if(null!==(t=this.documentList)&&void 0!==t&&t.length)for(var e=0;e<this.documentList.length;e++){var a=!1;this.tagEdit.push({status:a})}},setDocumentList:function(t){var e,a=[];if("Primary"===t)a=this.documentList.filter((function(t){return"Primary"===t.container.type||null===t.container.type})),null!==(e=a)&&void 0!==e&&e.length&&(this.totalRows_Primary=a.length);else if("Supplementary"===t){var i;a=this.documentList.filter((function(t){return"Supplementary"===t.container.type})),null!==(i=a)&&void 0!==i&&i.length&&(this.totalRows_Supplementary=a.length)}return a},changeOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),this.$isLoading(!1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("task-uploads-0"!==t.tabSelect&&"task-uploads-1"!==t.tabSelect&&t.$store.commit("saveTabSelect","task-uploads-0"),t.officeList=t.offices.filter((function(t){return 1===t.role_id||2===t.role_id||11===t.role_id})),null===(a=t.officeList)||void 0===a||!a.length){e.next=5;break}return e.next=5,t.$store.commit("saveOffice",t.officeList[0]);case 5:return t.$isLoading(!0),e.next=8,t.$store.dispatch("showContainer",t.office.office_id).then((function(e){t.documentList=e.data.documents,t.setTagEdit()})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$isLoading(!1);case 10:case"end":return e.stop()}}),e)})))()}},Ps=Ts,Ls=Object(L["a"])(Ps,xs,Ss,!1,null,null,null),As=Ls.exports,$s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Create Best Practice")])]},proxy:!0}]),model:{value:t.createBestPractice,callback:function(e){t.createBestPractice=e},expression:"createBestPractice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-form-group",{attrs:{label:"*Office:"}},[a("multiselect",{attrs:{options:t.offices,"custom-label":t.officeName,placeholder:null,required:""},model:{value:t.officeSelect,callback:function(e){t.officeSelect=e},expression:"officeSelect"}})],1),t._l(t.best_practices,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Folder "+t._s(i+1))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("md-button",{staticClass:"md-icon-button md-dense md-accent",on:{click:function(e){return t.removeList(i)}}},[a("md-icon",[t._v("cancel")])],1)],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-group",{attrs:{id:"createBestPractice-group-1",label:"*Best Practice:","label-for":"createBestPractice-1"}},[a("b-form-textarea",{attrs:{id:"createBestPractice-1",rows:"2","max-rows":"4",required:""},model:{value:t.best_practices[i].best_practice,callback:function(e){t.$set(t.best_practices[i],"best_practice",e)},expression:"best_practices[index].best_practice"}})],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px","margin-left":"5px"}},[a("b-form-group",{attrs:{id:"assignUpload-group-2",label:"Designation:","label-for":"assignUpload-2"}},[t._l(e.tags,(function(n,s){return a("div",{key:s},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{id:"assignUpload-2",options:t.filterArea(e.tags,t.best_practices[i].tags[s],t.optionsArea),required:""},model:{value:t.best_practices[i].tags[s],callback:function(e){t.$set(t.best_practices[i].tags,s,e)},expression:"best_practices[index].tags[indexArea]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeArea(i,s)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addArea(i)}}},[t._v("Add Designation")])],1)],2)],1)])])})),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"5px 0 15px"},on:{click:function(e){return t.addList()}}},[t._v("Add Best Practice")]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Best Practice")])]},proxy:!0}]),model:{value:t.editBestPractice,callback:function(e){t.editBestPractice=e},expression:"editBestPractice"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("b-form-group",{attrs:{id:"editBestPractice-group-1",label:"*Best Practice:","label-for":"editBestPractice-1"}},[a("b-form-textarea",{attrs:{id:"editBestPractice-1",rows:"2","max-rows":"4",required:""},model:{value:t.best_practice,callback:function(e){t.best_practice=e},expression:"best_practice"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.editBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Best Practice")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteBestPractice=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deleteBestPractice=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteBestPractice,callback:function(e){t.deleteBestPractice=e},expression:"deleteBestPractice"}},[t._v("\n    Are you sure you want to remove this best practice?\n    ")]),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Best Practice:")]),t._v("\n        "+t._s(t.bestPracticeSelect.best_practice)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.bestPracticeSelect.files),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType().length?t.filterByType().length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Best Practice:")]),t._v("\n        "+t._s(t.bestPracticeSelect.best_practice)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){return t.searchDocumentTable(t.bestPracticeSelect.files)}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.bestPracticeSelect.best_practice_id,e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeDocument(),t.deleteDocument=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteDocument,callback:function(e){t.deleteDocument=e},expression:"deleteDocument"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitTags(e)}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return t.tag.includes("Area")}))?t.oldTags.filter((function(t){return t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.area,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-select",{attrs:{options:t.filterArea(t.tags,t.area[i],t.optionsArea),required:""},model:{value:t.area[i],callback:function(e){t.$set(t.area,i,e)},expression:"area[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArea(i,t.area[i])}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArea()}}},[t._v("Add Designation")])],1)],2),a("b-form-group",{attrs:{id:"addTags-group-1",label:"Tags:","label-for":"addTags-1"}},[t._l(t.oldTags.filter((function(t){return!t.tag.includes("Area")}))?t.oldTags.filter((function(t){return!t.tag.includes("Area")})):[],(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("b-form-input",{attrs:{type:"text",disabled:""},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)})),t._l(t.tag,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{id:"addTags-1",type:"text",required:""},model:{value:t.tag[i],callback:function(e){t.$set(t.tag,i,e)},expression:"tag[index]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTag(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTag()}}},[t._v("Add Tag")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){return t.removeTags()}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.campus_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search best practice",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.officeSelect=null,t.best_practices=[{best_practice:null,tags:[]}],t.createBestPractice=!0}}},[t._v("Create Best Practice")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.bestPracticeList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(best_practice)",fn:function(e){return[t._v("\n        "+t._s(e.it)+"\n        "),a("b-form-textarea",{staticStyle:{background:"white","min-width":"350px"},attrs:{rows:"2","max-rows":"3",disabled:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"row.value"}}),a("br"),e.item.files.length>0?a("md-badge",{attrs:{"md-content":e.item.files.length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.best_practice_id),expression:"getId(row.item.best_practice_id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Files")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.best_practice_id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(e.item.files,(function(i,n){return a("div",{key:n,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                  "+t._s(n+1)+".\n                ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(e){return t.showFile(i)}}},[t._v(t._s(i.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.filterByOffice(e.item.office_id)?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){t.fileSelect=i,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1):t._e()],1)])])})),0)],1)]}},{key:"cell(tags)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(e.item.tags,(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.tagSelect=e,t.deleteTagPrompt=!0}}},[t._v(t._s(e.tag))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designation"},on:{click:function(a){t.bestPracticeSelect=e.item,t.oldTags=e.item.tags,t.setTags(e.item.tags),t.area=[],t.tag=[],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(files)",fn:function(e){return t._l(e.item.files,(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelect=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))}},{key:"cell(created_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDateTime(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[t.filterByOffice(e.item.office_id)?a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach File"},on:{click:function(a){t.bestPracticeSelect=e.item,t.filterType="Primary",t.search_container="",t.showFolders(),t.containerDialog=!0}}},[a("md-icon",[t._v("file_upload")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.bestPracticeSelect=e.item,t.best_practice=e.item.best_practice,t.editBestPractice=!0}}},[a("md-icon",[t._v("edit")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.bestPracticeSelect=e.item,t.deleteBestPractice=!0}}},[a("md-icon",[t._v("delete")])],1)],1):t._e()]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Ds=[],Rs=function(t){return t.toString().toLowerCase()},Is=function(t,e){return e?t.filter((function(t){return Rs(t.best_practice).includes(Rs(e))})):t},Es=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Rs(t.container.container_name?t.container.container_name:"").includes(Rs(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Rs(t.tag?t.tag:"").includes(Rs(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Us=function(t,e){return e?t.filter((function(t){return Rs(t.document_name).includes(Rs(e))})):t},Os={name:"TableSearch",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"best_practice_id",label:"ID",sortable:!0},{key:"best_practice",label:"Best Practice",sortable:!0},{key:"tags",label:"Tags"},{key:"office_name",label:"Office",sortable:!0},{key:"created_by",label:"Created By",sortable:!0},{key:"updated_at",label:"Last Update"},{key:"actions",label:"Actions",thStyle:{width:"180px"},sortable:!0}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],bestPracticeList:[],bestPracticeSelect:[],containerList:[],containerSelect:null,documentList:[],documentSelect:null,fileSelect:null,officeList:[],search:null,best_practices:[],best_practice:[],filterType:"Primary",tag:[],area:[],tags:[],oldTags:[],tagSelect:null,optionsArea:[{value:null,text:""},{value:"Area I",text:"Area I: Vision, Mission, Goals and Objectives"},{value:"Area II",text:"Area II: Faculty"},{value:"Area III",text:"Area III: Curriculum and Instruction"},{value:"Area IV",text:"Area IV: Support to Students"},{value:"Area V",text:"Area V: Research"},{value:"Area VI",text:"Area VI: Extension and Community Involvement"},{value:"Area VII",text:"Area VII: Library"},{value:"Area VIII",text:"Area VIII: Physical Plant and Facilities"},{value:"Area IX",text:"Area IX: Laboratories"},{value:"Area X",text:"Area X: Administration"}],officeSelect:null,addTags:!1,deleteTagPrompt:!1,createBestPractice:!1,editBestPractice:!1,deleteBestPractice:!1,deleteDocument:!1,containerDialog:!1,attachmentDialog:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",offices:"offices",office:"office"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submit:function(){var t=this,e=this.officeSelect.office_id,a=this.best_practices;this.$isLoading(!0),this.$store.dispatch("addOfficeBestPractice",{office_id:e,best_practices:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.createBestPractice=!1,t.officeSelect=null,t.best_practices=[],t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},edit:function(){var t=this,e=this.bestPracticeSelect.best_practice_id,a=this.best_practice;this.$isLoading(!0),this.$store.dispatch("editOfficeBestPractice",{best_practice_id:e,best_practice:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.editBestPractice=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteOfficeBestPractice",this.bestPracticeSelect.best_practice_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},submitTags:function(){var t=this;this.$isLoading(!0);var e=this.bestPracticeSelect.best_practice_id,a=this.tag.concat(this.area);this.$store.dispatch("addBestPracticeTag",{id:e,tags:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTags:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteBestPracticeTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},getId:function(t){return t.toString()},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeDocument:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteBestPracticeDocument",this.fileSelect.best_practice_document_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showAllBestPractice",this.campus.campus_id).then((function(e){var a;t.bestPracticeList=Is(e.data.best_practices,t.search),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.containerList=Es(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=Us(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),filterArea:function(t,e,a){if(null!==t&&void 0!==t&&t.length)for(var i=function(i){a=a.filter((function(a){return a.value!==t[i]||a.value===e}))},n=0;n<t.length;n++)i(n);return a},filterByOffice:function(t){if(t&&this.offices.find((function(e){return e.office_id===t})))return!0},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},formatDateTime:function(t){return E()(t).format("llll")},formatDate:function(t){return E()(t).format("ll")},officeName:function(t){return"".concat(t.office_name)},addList:function(){this.best_practices.push({best_practice:null,tags:[]})},removeList:function(t){this.best_practices.splice(t,1)},addArea:function(t){this.best_practices[t].tags.push(null)},removeArea:function(t,e){this.best_practices[t].tags.splice(e,1)},addTagArea:function(){null!==this.area[this.area.length-1]&&(this.tags.push(this.area[this.area.length-1]),this.area.push(null))},removeTagArea:function(t,e){var a=this.tags.findIndex((function(t){return t===e}));this.tags.splice(a,1),this.area.splice(t,1)},addTag:function(){null!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},setTags:function(t){if(this.tags=[],null!==t&&void 0!==t&&t.length)for(var e=0;e<t.length;e++)this.tags.push(t[e].tag)},showFolders:function(){var t=this;this.$store.dispatch("showContainer",this.office.office_id).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},filterByType:function(){return"Primary"===this.filterType?this.containerList.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?this.containerList.filter((function(t){return"Supplementary"===t.container.type})):void 0},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachBestPracticeDocument",{best_practice_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1),a.$store.dispatch("showAllBestPractice",a.campus.campus_id).then((function(t){var e;a.bestPracticeList=t.data.best_practices,null!==(e=a.bestPracticeList)&&void 0!==e&&e.length&&(a.totalRows=a.bestPracticeList.length)})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},changeOffice:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showAllBestPractice",this.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),this.$isLoading(!1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.officeList=t.offices.filter((function(t){return 1===t.role_id||2===t.role_id||11===t.role_id})),null===(a=t.officeList)||void 0===a||!a.length){e.next=4;break}return e.next=4,t.$store.commit("saveOffice",t.officeList[0]);case 4:return t.$isLoading(!0),e.next=7,t.$store.dispatch("showAllBestPractice",t.campus.campus_id).then((function(e){var a;t.bestPracticeList=e.data.best_practices,null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Fs=Os,Bs=Object(L["a"])(Fs,$s,Ds,!1,null,null,null),Ns=Bs.exports,Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Task Force Head")])]},proxy:!0}]),model:{value:t.assignTaskForceHead,callback:function(e){t.assignTaskForceHead=e},expression:"assignTaskForceHead"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignHeadTask()}}},[a("b-form-group",{attrs:{id:"assignTaskForceHead-group-1",label:"Task Force Head:","label-for":"assignTaskForceHead-1"}},[a("multiselect",{attrs:{options:t.filterTaskForceHead(),"custom-label":t.userNameAndOffice,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignTaskForceHead=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"},on:{click:function(e){t.assignTaskForceHead=!1}}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),t.checkRole(11)?a("h5",[t._v("College Task Force Head")]):t.checkRole(2)?a("h5",[t._v("Program Task Force Chair")]):t._e()]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),t.checkRole(11)?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields_college,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(task_force_head)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n        "),t.findUser(e.item)?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove"},on:{click:function(a){t.programSelected=e.item,t.deleteUserPrompt=!0}}},[a("md-icon",[t._v("close")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",staticStyle:{outline:"0"},attrs:{title:"Assign Task Force Head"},on:{click:function(a){t.setUserList(),t.programSelected=e.item,t.userSelect=null,t.assignTaskForceHead=!0}}},[a("md-icon",[t._v("add_circle")])],1)]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}],null,!1,1191429738)}):t.checkRole(2)?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}):t._e(),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},js=[],qs=function(t){return t.toString().toLowerCase()},zs=function(t,e){return e?t.filter((function(t){return qs(t.program_name).includes(qs(e))})):t},Vs={name:"manageMSI",data:function(){return{sortBy:"program_name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Applied Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130"}}],fields_college:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Applied Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"task_force_head",label:"Program Chair",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130"}}],msiList:[{}],programSelected:{},userList:[],userHeadList:[],userSelect:null,roles:[],assignTaskForceHead:!1,deleteUserPrompt:!1,search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",role:"role",offices:"offices"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},checkRole:function(t){var e;return this.role&&t?!!this.role.find((function(e){return e.role_id===t})):null===(e=this.role)||void 0===e||!e.length||void 0},assignHeadTask:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.userSelect.user_id,i="program task force chair";this.$store.dispatch("assignHeadTask",{program_id:e,user_id:a,role:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCollegeCoordinator",t.user.id).then((function(e){t.msiList=e.data.tasks,t.totalRows=t.msiList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showTF",this.setOffice()).then((function(e){t.userList=e.data.users,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0);var e=this.programSelected.id,a=this.programSelected.user_id;this.$store.dispatch("deleteAssignedHeadUser",{transaction_id:e,user_id:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showCollegeCoordinator",t.user.id).then((function(e){t.msiList=e.data.tasks,t.totalRows=t.msiList.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterTaskForceHead:function(){return this.userList.filter((function(t){return 2===t.role_id}))},findUser:function(t){if(t.first_name)return!0},select:function(t){null!=t&&(this.$store.commit("saveProgram",t),this.$store.commit("saveTaskHead",0),this.$router.push("/TaskForceArea"))},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},setOffice:function(){var t=null;return this.checkRole(11)?(t=this.offices.find((function(t){return 11===t.role_id})),t.office_id):this.checkRole(2)?(t=this.offices.find((function(t){return 2===t.role_id})),t.office_id):void 0},searchOnTable:G.a.debounce((function(){var t=this;this.checkRole(11)?this.$store.dispatch("showCollegeCoordinator",this.user.id).then((function(e){t.msiList=zs(e.data.tasks,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})):this.checkRole(2)&&this.$store.dispatch("showProgramHead",this.user.id).then((function(e){t.msiList=zs(e.data.program_task_force_head,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),userNameAndOffice:function(t){return"".concat(this.concatName(t)," - ").concat(t.office?t.office:"")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$isLoading(!0),!t.checkRole(11)){e.next=6;break}return e.next=4,t.$store.dispatch("showCollegeCoordinator",t.user.id).then((function(e){t.msiList=e.data.tasks,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:e.next=9;break;case 6:if(!t.checkRole(2)){e.next=9;break}return e.next=9,t.$store.dispatch("showProgramHead",t.user.id).then((function(e){t.msiList=e.data.program_task_force_head,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 9:return e.next=11,t.$isLoading(!1);case 11:case"end":return e.stop()}}),e)})))()}},Hs=Vs,Ys=Object(L["a"])(Hs,Ms,js,!1,null,null,null),Xs=Ys.exports,Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),a("h5",[t._v("Accreditation Task Force")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search by title",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Gs=[],Js=function(t){return t.toString().toLowerCase()},Qs=function(t,e){return e?t.filter((function(t){return Js(t.program_name).includes(Js(e))})):t},Ks={name:"manageMSI",data:function(){return{sortBy:"program_name",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[{}],search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus",user:"user"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},select:function(t){null!=t&&(this.$store.commit("saveProgram",t),this.$store.commit("saveTaskHead",1),this.$router.push("/TaskForceArea"))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showTask",this.user.id).then((function(e){t.msiList=Qs(e.data.program_task_force,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showTask",t.user.id).then((function(e){t.msiList=e.data.program_task_force,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Zs=Ks,tr=Object(L["a"])(Zs,Ws,Gs,!1,null,null,null),er=tr.exports,ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",{staticStyle:{margin:"0"}},[t._v("Program Files")])]},proxy:!0}]),model:{value:t.manageProgramFiles,callback:function(e){t.manageProgramFiles=e},expression:"manageProgramFiles"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[0===t.taskHead?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"min-content"}},[a("b-dropdown",{attrs:{variant:"primary",text:"Upload Reports"}},[42===t.instrumentID||47===t.instrumentID?a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Narrative Profile",t.upload=!0}}},[t._v("Narrative Profile")]):a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="PPP",t.upload=!0}}},[t._v("PPP")]),a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Compliance Report",t.upload=!0}}},[t._v("Compliance Report")])],1)],1):t._e()]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("PPP")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Compliance Report")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Narrative Report")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search document",type:"text"},on:{input:function(e){return t.searchFileTable()}},model:{value:t.search_files,callback:function(e){t.search_files=e},expression:"search_files"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_files,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getType(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return["approved"!==e.item.status&&0===t.taskHead?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Approve"},on:{click:function(a){t.documentSelect=e.item,t.fileStatus="approved",t.approvePrompt=!0}}},[a("md-icon",[t._v("check_circle")])],1):t._e(),"approved"===e.item.status&&0===t.taskHead?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Remove Approval"},on:{click:function(a){t.documentSelect=e.item,t.fileStatus="pending",t.approvePrompt=!0}}},[a("md-icon",[t._v("undo")])],1):t._e(),"return for revision"!==e.item.status&&"approved"!==e.item.status&&0===t.taskHead?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Return"},on:{click:function(a){t.documentSelect=e.item,t.fileStatus="return for revision",t.approvePrompt=!0}}},[a("md-icon",[t._v("undo")])],1):t._e(),"approved"!==e.item.status&&1===t.taskHead?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Edit"},on:{click:function(a){t.documentSelect=e.item,t.filenameEdit=null,t.type=e.item.type,t.uploadEdit=!0}}},[a("md-icon",[t._v("edit")])],1):t._e(),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType()?t.filterByType().length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"10px 0 0 0"},on:{click:function(e){t.manageProgramFiles=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Task Force")])]},proxy:!0}]),model:{value:t.assignTaskForce,callback:function(e){t.assignTaskForce=e},expression:"assignTaskForce"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignTask(e)}}},[a("b-form-group",{attrs:{id:"assignTaskForce-group-1",label:"Task Force:","label-for":"assignTaskForce-1"}},[a("multiselect",{attrs:{options:t.filterTaskForce(t.setUsers(t.instrumentSelect.id)),"custom-label":t.userNameAndOffice,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignTaskForce=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload "+t._s(t.type))])]},proxy:!0}]),model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadProgramFile()}}},[a("b-form-file",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",required:""},model:{value:t.filename[0],callback:function(e){t.$set(t.filename,0,e)},expression:"filename[0]"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.upload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Re-Upload "+t._s(t.type))])]},proxy:!0}]),model:{value:t.uploadEdit,callback:function(e){t.uploadEdit=e},expression:"uploadEdit"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProgramFile()}}},[a("b-form-file",{attrs:{size:"sm",required:""},model:{value:t.filenameEdit,callback:function(e){t.filenameEdit=e},expression:"filenameEdit"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadEdit=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Document Status")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.approvePrompt=!1}}},[t._v("No")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.changeProgramFileStatus(),t.approvePrompt=!1}}},[t._v("Yes")])],1)]},proxy:!0}]),model:{value:t.approvePrompt,callback:function(e){t.approvePrompt=e},expression:"approvePrompt"}},[t._v("\n    Do you want to set this document's status to \""+t._s(t.fileStatus)+'"?\n    ')]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeFile(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Optional Area")])]},proxy:!0}]),model:{value:t.assignInstruments,callback:function(e){t.assignInstruments=e},expression:"assignInstruments"}},[t.checkMSIList()?a("form",{on:{submit:function(e){return e.preventDefault(),t.attachInstrument()}}},[a("b-form-group",{attrs:{id:"assignInstruments-group-1",label:"Areas:","label-for":"assignInstruments-1"}},[a("multiselect",{attrs:{options:t.checkMSIList(),"custom-label":t.instrumentName,placeholder:null,required:""},model:{value:t.instrumentSelected,callback:function(e){t.instrumentSelected=e},expression:"instrumentSelected"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignInstruments=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1):a("div",[a("br"),a("h4",{staticClass:"text-center"},[t._v("No Optional Area")]),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignInstruments=!1}}},[t._v("Close")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Optional Area")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.removeInstrumentPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeInstrument(),t.removeInstrumentPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.removeInstrumentPrompt,callback:function(e){t.removeInstrumentPrompt=e},expression:"removeInstrumentPrompt"}},[t._v("\n    Are you sure you want to remove this area?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.campus.campus_name))])])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Areas:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[0!==t.taskHead||42!==t.instrumentID&&47!==t.instrumentID?t._e():a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0 5px 0 0"},on:{click:function(e){t.instrumentSelected=null,t.assignInstruments=!0}}},[t._v("Assign Optional Area")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"180px",margin:"0"},on:{click:t.setProgramFiles}},[t._v("Show Program Files")])],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.checkFields(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(task_force)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(t.setUsers(e.item.id),(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.user_id=e.id,t.deleteUserPrompt=!0}}},[t._v(t._s(t.concatName(e)))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.userSelect=null,t.instrumentSelect=e.item,t.assignTaskForce=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(internal_accreditor)",fn:function(e){return t._l(t.setAccreditors(e.item.id),(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(t.concatName(i))+"\n          "),t.setAccreditors(e.item.id)[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(report_templates)",fn:function(e){return t._l(e.item.report_templates,(function(i,n){return a("span",{key:n},[a("b-link",{on:{click:function(e){return t.downloadTemplate(i)}}},[t._v(t._s(i.template_name))]),e.item.report_templates[n+1]?a("a",[t._v(", ")]):t._e()],1)}))}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[1===t.taskHead?a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Upload Reports",size:"sm",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("md-icon",{staticClass:"md-primary"},[t._v("publish")])]},proxy:!0}],null,!0)},[42===t.instrumentID||47===t.instrumentID?a("b-dropdown-item",{on:{click:function(a){t.filename=[null],t.instrumentSelect=e.item,t.type="Narrative Profile",t.upload=!0}}},[t._v("Narrative Profile")]):a("b-dropdown-item",{on:{click:function(a){t.filename=[null],t.instrumentSelect=e.item,t.type="PPP",t.upload=!0}}},[t._v("PPP")]),a("b-dropdown-item",{on:{click:function(a){t.filename=[null],t.instrumentSelect=e.item,t.type="Compliance Report",t.upload=!0}}},[t._v("Compliance Report")])],1):t._e(),0!==t.taskHead||"Optional"!==e.item.type||42!==t.instrumentID&&47!==t.instrumentID?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.instrumentSelect=e.item,t.removeInstrumentPrompt=!0}}},[a("md-icon",[t._v("delete")])],1),t.filterMessageByArea(t.messages,e.item.id).length>0?a("md-badge",{staticClass:"md-square",attrs:{"md-content":"New","md-dense":""}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1)],1)},ir=[],nr=function(t){return t.toString().toLowerCase()},sr=function(t,e){return e?t.filter((function(t){return nr(t.file_title).includes(nr(e))})):t},rr={name:"manageMSI",data:function(){return{sortBy:"area_number",sortDesc:!1,currentPage:1,perPage:5,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area Name",sortable:!0},{key:"report_templates",label:"Templates"},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"140px"}}],fields_head:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area Name",sortable:!0},{key:"task_force",label:"Task Force"},{key:"internal_accreditor",label:"Self Survey Accreditor"},{key:"report_templates",label:"Templates"},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"120px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions"}],msiList:[{}],instrumentID:null,taskList:[{}],instrumentSelect:{},users:[{}],user_id:null,userSelect:null,userList:[{}],programFiles:[],search_files:null,filterType:0,type:null,filename:[null],filenameEdit:null,documentSelect:null,fileStatus:"",instrumentSelected:null,msiOptionList:[],messages:[],manageProgramFiles:!1,assignInstruments:!1,removeInstrumentPrompt:!1,approvePrompt:!1,deletePrompt:!1,upload:!1,uploadEdit:!1,assignTaskForce:!1,deleteUserPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",program:"program",role:"role",offices:"offices",taskHead:"taskHead"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},messageToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,noAutoHide:!0})},searchFileTable:G.a.debounce((function(){var t=this;if(0===this.taskHead)this.$store.dispatch("showFileTFH",this.program.id).then((function(e){t.programFiles=sr(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));else{var e=this.user.id,a=this.program.id;this.$store.dispatch("showFileTF",{user_id:e,program_id:a}).then((function(e){t.programFiles=sr(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}}),500),filterByType:function(){return 0===this.filterType?this.programFiles:1===this.filterType?this.programFiles.filter((function(t){return t.type.includes("PPP")})):2===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Compliance")})):3===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Narrative")})):void 0},select:function(t){if(null!=t){if(1===this.taskHead){var e=this.taskList.find((function(e){return e.transaction_id===t.id}));this.$store.commit("saveAssignedUser",e.id)}this.$store.commit("saveInstrument",t),42===this.instrumentID||47===this.instrumentID?this.$router.push("/AttachFileForm"):"Candidate"===this.program.level?this.$router.push("/AttachFilePSV"):this.$router.push("/TaskForceParameter")}},back:function(){0===this.taskHead&&this.$router.push("/TaskForceHeadTask"),1===this.taskHead&&this.$router.push("/TaskForceTask")},checkFields:function(){return 0===this.taskHead?this.fields_head:1===this.taskHead?this.fields:void 0},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},changeProgramFileStatus:function(){var t=this;this.$isLoading(!0);var e=[this.documentSelect.id],a=this.fileStatus;this.$store.dispatch("changeProgramFileStatus",{file_ids:e,status:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showFileTFH",t.program.id).then((function(e){t.programFiles=e.data})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},getType:function(t){var e=t.type.replace("Internal","Self Survey");return t.area?e.concat(" - ",t.area):e},formatDate:function(t){return E()(t).format("llll")},filterTaskForce:function(t){var e=[];if(e=this.userList.filter((function(t){return 1===t.role_id||2===t.role_id||11===t.role_id})),null!==t&&void 0!==t&&t.length)for(var a=function(a){e=e.filter((function(e){return t[a].user_id!==e.user_id}))},i=0;i<t.length;i++)a(i);return e},setUserList:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("showTF",this.setOffice()).then((function(e){t.userList=e.data.users,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},assignTask:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.id,i=this.userSelect.user_id,n="accreditation task force";this.$store.dispatch("assignTask",{instrument_id:e,program_id:a,user_id:i,role:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignTaskForce=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAssignedUser",this.user_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelected.id,a=this.program.program_id;this.$store.dispatch("addInstrumentForm",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.msiList=e.data.instruments,t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignInstruments=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeInstrument:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.program_id;this.$store.dispatch("removeInstrument",{program_id:a,instrument_id:e}).then((function(e){!0===e.data.status?(t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.msiList=e.data.instruments,t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setUsers:function(t){var e,a,i;if(t&&(i=this.users.filter((function(e){return e.transaction_id===t})),null!==(e=i)&&void 0!==e&&e.length&&(i=i.filter((function(t){return"accreditation task force"===t.role}))),null!==(a=i)&&void 0!==a&&a.length))return i},setOffice:function(){var t=null;return this.checkRole(11)?(t=this.offices.find((function(t){return 11===t.role_id})),t.office_id):this.checkRole(2)?(t=this.offices.find((function(t){return 2===t.role_id})),t.office_id):void 0},checkRole:function(t){var e;return this.role&&t?!!this.role.find((function(e){return e.role_id===t})):null===(e=this.role)||void 0===e||!e.length||void 0},setAccreditors:function(t){var e,a,i;if(t&&(i=this.users.filter((function(e){return e.transaction_id===t})),null!==(e=i)&&void 0!==e&&e.length&&(i=i.filter((function(t){return t.role.includes("internal accreditor")}))),null!==(a=i)&&void 0!==a&&a.length))return i},setProgramFiles:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.manageProgramFiles=!0,0!==t.taskHead){e.next=6;break}return e.next=4,t.$store.dispatch("showFileTFH",t.program.id).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:e.next=10;break;case 6:return a=t.user.id,i=t.program.id,e.next=10,t.$store.dispatch("showFileTF",{user_id:a,program_id:i}).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 10:case"end":return e.stop()}}),e)})))()},uploadProgramFile:function(){var t=this;if(0===this.taskHead){this.$isLoading(!0);var e=this.program.id,a=this.user.id,i=this.filename,n=this.type,s=null;this.$store.dispatch("uploadProgramFile",{program_id:e,user_id:a,filename:i,type:n,area_number:s}).then((function(e){!0===e.data.status?(t.upload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}else{this.$isLoading(!0);var r=this.program.id,o=this.user.id,c=this.filename,l=this.type,d=this.instrumentSelect.area_number;this.$store.dispatch("uploadProgramFile",{program_id:r,user_id:o,filename:c,type:l,area_number:d}).then((function(e){!0===e.data.status?(t.$store.dispatch("showFileTF",{user_id:o,program_id:r}).then((function(e){t.programFiles=e.data})),t.upload=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}},removeFile:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.user.id;this.$store.dispatch("deleteProgramFile",{document_id:e,user_id:a}).then((function(e){if(!0===e.data.status){var a=t.programFiles.findIndex((function(e){return e.id===t.documentSelect.id}));t.programFiles.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},updateProgramFile:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.user.id,i=this.documentSelect.id,n=this.filenameEdit;this.$store.dispatch("updateProgramFile",{id:i,file:n}).then((function(i){!0===i.data.status?(t.$store.dispatch("showFileTF",{user_id:a,program_id:e}).then((function(e){t.programFiles=e.data})),t.uploadEdit=!1,t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addFilename:function(){null!==this.filename[this.filename.length-1]&&this.filename.push(null)},removeFilename:function(t){this.filename[0].splice(t,1)},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},downloadTemplate:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("downloadTemplate",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.template_name+".docx"),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},userNameAndOffice:function(t){return"".concat(this.concatName(t)," - ").concat(t.office?t.office:"")},checkMSIList:function(){var t,e,a=this,i=this.msiOptionList;if(null!==(t=this.msiList)&&void 0!==t&&t.length)for(var n=function(t){i=i.filter((function(e){return a.msiList[t].area_name!==e.area_name}))},s=0;s<this.msiList.length;s++)n(s);return null!==(e=i)&&void 0!==e&&e.length?i:null},instrumentName:function(t){var e=t.area_name;return"".concat(e)},filterMessageByArea:function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return t.area_id===e})):[]}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$isLoading(!0),0!==t.taskHead){e.next=8;break}return e.next=4,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){var a;t.msiList=e.data.instruments,t.users=e.data.users,null!==(a=t.msiList)&&void 0!==a&&a.length&&(t.instrumentID=t.msiList[0].intended_program_id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.setUserList();case 6:e.next=13;break;case 8:if(1!==t.taskHead){e.next=13;break}return a=t.user.id,i=t.program.id,e.next=13,t.$store.dispatch("showTaskInstrument",{user_id:a,program_id:i}).then((function(e){var a;t.msiList=e.data.areas,t.taskList=e.data.task,null!==(a=t.msiList)&&void 0!==a&&a.length&&(t.instrumentID=t.msiList[0].intended_program_id)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 13:if(0!==t.taskHead||42!==t.instrumentID&&47!==t.instrumentID){e.next=16;break}return e.next=16,t.$store.dispatch("showOptionArea",t.program.id).then((function(e){t.msiOptionList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 16:if(0===t.taskHead){e.next=19;break}return e.next=19,t.$store.dispatch("showUnreadMessage",t.program.id).then((function(e){t.messages=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 19:return e.next=21,t.$isLoading(!1);case 21:case"end":return e.stop()}}),e)})))()}},or=rr,cr=Object(L["a"])(or,ar,ir,!1,null,null,null),lr=cr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h4",[t._v("Program Performance Profile Working Document")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.downloadPPP()}}},[t._v("Download PPP Draft")])]},proxy:!0}]),model:{value:t.PPP,callback:function(e){t.PPP=e},expression:"PPP"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.parameters,expression:"parameters"}]},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v(t._s(t.parameterSelected?t.parameterSelected.parameter:""))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[e.id===t.parameterSelected.id?a("div",[t.parameters[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.parameterSelected=t.parameters[i-1]}}},[t._v("Back")]):t._e(),t.parameters[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.parameterSelected=t.parameters[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)]),a("parameterPPP",{key:t.parameterSelected,attrs:{parameterSelected:t.parameterSelected}}),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[e.id===t.parameterSelected.id?a("div",[t.parameters[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.parameterSelected=t.parameters[i-1]}}},[t._v("Back")]):t._e(),t.parameters[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.parameterSelected=t.parameters[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.PPP=!1}}},[t._v("Close")])],1)])],1),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[t.instrument.program_name?a("h4",[t._v(t._s(t.instrument.program_name))]):a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.campus.campus_name))]),a("h5",[t._v(t._s(t.instrument.area_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}})]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.parameters,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[t.filterMessageByParameter(t.messages,e.item.id).length>0?a("md-badge",{staticClass:"md-square",attrs:{"md-content":"New","md-dense":""}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},mr=[],ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Best Practices")])]},proxy:!0}]),model:{value:t.bestPracticeDialog,callback:function(e){t.bestPracticeDialog=e},expression:"bestPracticeDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_bestpractice,callback:function(e){t.perPage_bestpractice=e},expression:"perPage_bestpractice"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search best practice / tags / office",type:"text"},on:{input:function(e){return t.searchBestPracticeTable()}},model:{value:t.search_bestpractice,callback:function(e){t.search_bestpractice=e},expression:"search_bestpractice"}})],1)])])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px","margin-right":"0"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterBestPracticeArea,callback:function(e){t.filterBestPracticeArea=e},expression:"filterBestPracticeArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterFiles(t.bestPracticeList,t.filterBestPracticeArea),fields:t.fields_bestpractice,"current-page":t.currentPage_bestpractice,"per-page":t.perPage_bestpractice,"sort-by":t.sortBy_bestpractice,"sort-desc":t.sortDesc_bestpractice,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_bestpractice=e},"update:sort-by":function(e){t.sortBy_bestpractice=e},"update:sortDesc":function(e){t.sortDesc_bestpractice=e},"update:sort-desc":function(e){t.sortDesc_bestpractice=e}},scopedSlots:t._u([{key:"cell(tags)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.addBestPractice(e.item)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterFiles(t.bestPracticeList,t.filterBestPracticeArea).length?t.filterFiles(t.bestPracticeList,t.filterBestPracticeArea).length:0,"per-page":t.perPage_bestpractice,align:"fill",size:"sm"},model:{value:t.currentPage_bestpractice,callback:function(e){t.currentPage_bestpractice=e},expression:"currentPage_bestpractice"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.bestPracticeDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statementSelect?t.statementSelect.statement:"")+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px","margin-right":"5px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterDocumentArea,callback:function(e){t.filterDocumentArea=e},expression:"filterDocumentArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.statementSelect.files),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length?t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statementSelect?t.statementSelect.statement:"")+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){return t.searchDocumentTable(t.statementSelect.files)}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.statementSelect.ppp_statement_id,e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Attachment")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteDocument=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeAttachment(),t.deleteDocument=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteDocument,callback:function(e){t.deleteDocument=e},expression:"deleteDocument"}},[t._v("\n    Are you sure you want to remove this attachment?\n    ")]),a("md-divider",{staticStyle:{margin:"10px 0"}}),a("h6",[t._v("System Input and Process")]),t._l(t.system_input,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n        "+t._s(i+1)+".\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.statement,callback:function(a){t.$set(e,"statement",a)},expression:"items.statement"}}),e.ppp_statement_id?a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Files:")]),t._l(e.files,(function(e){return a("div",{key:e.ppp_statement_document_id},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))],2)]):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){return t.removeStatement(i,e.type)}}},[a("md-icon",[t._v("delete")])],1)],1),e.ppp_statement_id?a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach Files"},on:{click:function(a){t.statementSelect=e,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.setContainer(),t.containerDialog=!0}}},[a("md-icon",[t._v("attach_file")])],1)],1):t._e()])])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Statement"},on:{click:function(e){return t.addStatement("System Input and Process")}}},[a("md-icon",[t._v("add_circle")])],1)],1)]),a("md-divider",{staticStyle:{margin:"10px 0"}}),a("h6",[t._v("Implementation")]),t._l(t.implementation,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n        "+t._s(i+1)+".\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.statement,callback:function(a){t.$set(e,"statement",a)},expression:"items.statement"}}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Files:")]),t._l(e.files,(function(e){return a("div",{key:e.ppp_statement_document_id},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))],2)])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){return t.removeStatement(i,e.type)}}},[a("md-icon",[t._v("delete")])],1)],1),e.ppp_statement_id?a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach Files"},on:{click:function(a){t.statementSelect=e,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.setContainer(),t.containerDialog=!0}}},[a("md-icon",[t._v("attach_file")])],1)],1):t._e()])])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Statement"},on:{click:function(e){return t.addStatement("Implementation")}}},[a("md-icon",[t._v("add_circle")])],1)],1)]),a("md-divider",{staticStyle:{margin:"10px 0"}}),a("h6",[t._v("Outcome")]),t._l(t.outcome,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n        "+t._s(i+1)+".\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.statement,callback:function(a){t.$set(e,"statement",a)},expression:"items.statement"}}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Files:")]),t._l(e.files,(function(e){return a("div",{key:e.ppp_statement_document_id},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))],2)])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){return t.removeStatement(i,e.type)}}},[a("md-icon",[t._v("delete")])],1)],1),e.ppp_statement_id?a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach Files"},on:{click:function(a){t.statementSelect=e,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.setContainer(),t.containerDialog=!0}}},[a("md-icon",[t._v("attach_file")])],1)],1):t._e()])])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Statement"},on:{click:function(e){return t.addStatement("Outcome")}}},[a("md-icon",[t._v("add_circle")])],1)],1)]),a("md-divider",{staticStyle:{margin:"10px 0"}}),a("h6",[t._v("Best Practice")]),t._l(t.best_practice,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n        "+t._s(i+1)+".\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.statement,callback:function(a){t.$set(e,"statement",a)},expression:"items.statement"}}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Files:")]),t._l(e.files,(function(e){return a("div",{key:e.ppp_statement_document_id},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deleteDocument=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])}))],2)])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){return t.removeStatement(i,e.type)}}},[a("md-icon",[t._v("delete")])],1)],1),e.ppp_statement_id?a("div",[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Attach Files"},on:{click:function(a){t.statementSelect=e,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.setContainer(),t.containerDialog=!0}}},[a("md-icon",[t._v("attach_file")])],1)],1):t._e()])])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Best Practice"},on:{click:function(e){t.setBestPractice(),t.filterDocumentArea=t.instrument.area_number,t.bestPracticeDialog=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)]),a("md-divider",{staticStyle:{margin:"10px 0"}}),t.compliance.length?a("h6",[t._v("\n    Extent of Compliance\n  ")]):t._e(),t._l(t.compliance,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n        "+t._s(i+1)+".\n      ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{background:"white !important"},attrs:{disabled:""},model:{value:e.statement,callback:function(a){t.$set(e,"statement",a)},expression:"items.statement"}}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Files:")]),t._l(e.files,(function(e){return a("div",{key:e.ppp_statement_document_id},[a("div",{staticClass:"md-layout"},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1)])}))],2)])],1)])])})),a("br"),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.addPPPStatement()}}},[t._v("Save")])],2)},pr=[],fr=function(t){return t.toString().toLowerCase()},hr=function(t,e){if(null!==e&&void 0!==e&&e.length)for(var a=function(a){t=t.filter((function(t){return e[a].statement!==t.best_practice}))},i=0;i<e.length;i++)a(i);return t},vr=function(t,e){if(null!==t&&void 0!==t&&t.length)for(var a=0;a<t.length;a++)if(fr(t[a].tag)===fr(e))return!0},gr=function(t,e,a){if(e){var i=t.filter((function(t){return fr(t.best_practice).includes(fr(e))||fr(t.office_name).includes(fr(e))||vr(t.tags,e)}));if(null!==a&&void 0!==a&&a.length)for(var n=function(t){i=i.filter((function(e){return a[t].statement!==e.best_practice}))},s=0;s<a.length;s++)n(s);return i}return t},br=function(t,e){return""!==e?t.filter((function(t){return vr(t.tags,e)})):t},_r=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return fr(t.container.container_name?t.container.container_name:"").includes(fr(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return fr(t.tag?t.tag:"").includes(fr(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},yr=function(t,e){return e?t.filter((function(t){return fr(t.document_name).includes(fr(e))})):t},kr={name:"Generate PPP.vue",props:{parameterSelected:Object},data:function(){return{search_bestpractice:"",sortBy_bestpractice:"best_practice_id",sortDesc_bestpractice:!1,currentPage_bestpractice:1,perPage_bestpractice:10,totalRows_bestpractice:0,fields_bestpractice:[{key:"best_practice_id",label:"ID",sortable:!0},{key:"best_practice",label:"Best Practice",sortable:!0},{key:"tags",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],statementList:[],system_input:[],implementation:[],outcome:[],best_practice:[],compliance:[],statementSelect:null,bestPracticeList:[],containerList:[],containerSelect:null,documentList:[],fileSelected:null,filterType:"Primary",filterDocumentArea:0,filterBestPracticeArea:0,deleteDocument:!1,bestPracticeDialog:!1,containerDialog:!1,attachmentDialog:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",program:"program",campus:"campus",instrument:"instrument"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchBestPracticeTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showAllBestPractice",this.campus.campus_id).then((function(e){var a;t.bestPracticeList=gr(e.data.best_practices,t.search_bestpractice,t.filterStatement(t.best_practice,"Best Practice")),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows_bestpractice=t.bestPracticeList.length)}))}),500),searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=_r(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=yr(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),addPPPStatement:function(){var t,e,a,i,n,s=this;this.$isLoading(!0);var r=this.parameterSelected.id,o=[];if(null!==(t=this.system_input)&&void 0!==t&&t.length)for(var c=0;c<this.system_input.length;c++)if(null!==this.system_input[c].statement){var l=this.system_input[c].ppp_statement_id,d=this.system_input[c].statement,m=this.system_input[c].type,u=null;o.push({ppp_statement_id:l,statement:d,type:m,best_practice_id:u})}if(null!==(e=this.implementation)&&void 0!==e&&e.length)for(var p=0;p<this.implementation.length;p++)if(null!==this.implementation[p].statement){var f=this.implementation[p].ppp_statement_id,h=this.implementation[p].statement,v=this.implementation[p].type,g=null;o.push({ppp_statement_id:f,statement:h,type:v,best_practice_id:g})}if(null!==(a=this.outcome)&&void 0!==a&&a.length)for(var b=0;b<this.outcome.length;b++)if(null!==this.outcome[b].statement){var _=this.outcome[b].ppp_statement_id,y=this.outcome[b].statement,k=this.outcome[b].type,x=null;o.push({ppp_statement_id:_,statement:y,type:k,best_practice_id:x})}if(null!==(i=this.best_practice)&&void 0!==i&&i.length)for(var S=0;S<this.best_practice.length;S++)if(null!==this.best_practice[S].statement){var C=this.best_practice[S].ppp_statement_id,w=this.best_practice[S].statement,T=this.best_practice[S].type,P=this.best_practice[S].best_practice_id;o.push({ppp_statement_id:C,statement:w,type:T,best_practice_id:P})}if(null!==(n=this.compliance)&&void 0!==n&&n.length)for(var L=0;L<this.compliance.length;L++)if(null!==this.compliance[L].statement){var A=this.compliance[L].ppp_statement_id,$=this.compliance[L].statement,D=this.compliance[L].type,R=null;o.push({ppp_statement_id:A,statement:$,type:D,best_practice_id:R})}this.$store.dispatch("addPPPStatement",{parameter_id:r,texts:o}).then((function(t){!0===t.data.status?(s.$store.dispatch("showPPPStatement",s.parameterSelected.id).then((function(t){s.system_input=s.filterStatement(t.data,"System Input and Process"),s.implementation=s.filterStatement(t.data,"Implementation"),s.outcome=s.filterStatement(t.data,"Outcome"),s.best_practice=s.filterStatement(t.data,"Best Practice"),s.compliance=s.filterStatement(t.data,"Extent of Compliance"),s.system_input.push({ppp_statement_id:null,statement:null,type:"System Input and Process",best_practice_id:null}),s.implementation.push({ppp_statement_id:null,statement:null,type:"Implementation",best_practice_id:null}),s.outcome.push({ppp_statement_id:null,statement:null,type:"Outcome",best_practice_id:null})})),s.$isLoading(!1),s.snackbarText=t.data.message,s.makeToast("Success!","primary")):(s.$isLoading(!1),s.snackbarText=t.data.message,s.makeToast("Error","danger"))})).catch((function(t){s.$isLoading(!1),s.snackbarText=t+". Please contact the administrator",s.makeToast("Error","danger")}))},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachPPPFile",{ppp_statement_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1),a.$store.dispatch("showPPPStatement",a.parameterSelected.id).then((function(t){a.system_input=a.filterStatement(t.data,"System Input and Process"),a.implementation=a.filterStatement(t.data,"Implementation"),a.outcome=a.filterStatement(t.data,"Outcome"),a.best_practice=a.filterStatement(t.data,"Best Practice"),a.compliance=a.filterStatement(t.data,"Extent of Compliance"),a.system_input.push({ppp_statement_id:null,statement:null,type:"System Input and Process",best_practice_id:null}),a.implementation.push({ppp_statement_id:null,statement:null,type:"Implementation",best_practice_id:null}),a.outcome.push({ppp_statement_id:null,statement:null,type:"Outcome",best_practice_id:null})})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removePPPFile",this.fileSelected.ppp_statement_document_id).then((function(e){!0===e.data.status?(t.$store.dispatch("showPPPStatement",t.parameterSelected.id).then((function(e){t.system_input=t.filterStatement(e.data,"System Input and Process"),t.implementation=t.filterStatement(e.data,"Implementation"),t.outcome=t.filterStatement(e.data,"Outcome"),t.best_practice=t.filterStatement(e.data,"Best Practice"),t.compliance=t.filterStatement(e.data,"Extent of Compliance"),t.system_input.push({ppp_statement_id:null,statement:null,type:"System Input and Process",best_practice_id:null}),t.implementation.push({ppp_statement_id:null,statement:null,type:"Implementation",best_practice_id:null}),t.outcome.push({ppp_statement_id:null,statement:null,type:"Outcome",best_practice_id:null})})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterStatement:function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return t.type===e})):[]},filterByType:function(t){return"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0},filterFiles:function(t,e){return 0===e?t:1===e?br(t,"Area I"):2===e?br(t,"Area II"):3===e?br(t,"Area III"):4===e?br(t,"Area IV"):5===e?br(t,"Area V"):6===e?br(t,"Area VI"):7===e?br(t,"Area VII"):8===e?br(t,"Area VIII"):9===e?br(t,"Area IX"):10===e?br(t,"Area X"):void 0},addStatement:function(t){var e=null,a=null,i=null;"System Input and Process"===t?this.system_input.push({ppp_statement_id:e,statement:a,type:t,best_practice_id:i}):"Implementation"===t?this.implementation.push({ppp_statement_id:e,statement:a,type:t,best_practice_id:i}):"Outcome"===t?this.outcome.push({ppp_statement_id:e,statement:a,type:t,best_practice_id:i}):"Best Practice"===t?this.best_practice.push({ppp_statement_id:e,statement:a,type:t,best_practice_id:i}):"Extent of Compliance"===t&&this.compliance.push({ppp_statement_id:e,statement:a,type:t,best_practice_id:i})},addBestPractice:function(t){var e=null,a=t.best_practice,i="Best Practice",n=t.best_practice_id;this.best_practice.push({ppp_statement_id:e,statement:a,type:i,best_practice_id:n});var s=this.bestPracticeList.findIndex((function(e){return e.best_practice_id===t.best_practice_id}));this.bestPracticeList.splice(s,1)},removeStatement:function(t,e){"System Input and Process"===e?this.system_input.splice(t,1):"Implementation"===e?this.implementation.splice(t,1):"Outcome"===e?this.outcome.splice(t,1):"Best Practice"===e?this.best_practice.splice(t,1):"Extent of Compliance"===e&&this.compliance.splice(t,1)},bestPracticeText:function(t){var e=t.best_practice,a=t.office_name;return"".concat(e," (").concat(a,")")},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},setBestPractice:function(){var t=this;this.$store.dispatch("showAllBestPractice",this.campus.campus_id).then((function(e){var a;t.bestPracticeList=hr(e.data.best_practices,t.best_practice),null!==(a=t.bestPracticeList)&&void 0!==a&&a.length&&(t.totalRows_bestpractice=t.bestPracticeList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setContainer:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showPPPStatement",t.parameterSelected.id).then((function(e){t.system_input=t.filterStatement(e.data,"System Input and Process"),t.implementation=t.filterStatement(e.data,"Implementation"),t.outcome=t.filterStatement(e.data,"Outcome"),t.best_practice=t.filterStatement(e.data,"Best Practice"),t.compliance=t.filterStatement(e.data,"Extent of Compliance"),t.system_input.push({ppp_statement_id:null,statement:null,type:"System Input and Process",best_practice_id:null}),t.implementation.push({ppp_statement_id:null,statement:null,type:"Implementation",best_practice_id:null}),t.outcome.push({ppp_statement_id:null,statement:null,type:"Outcome",best_practice_id:null})})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},xr=kr,Sr=Object(L["a"])(xr,ur,pr,!1,null,null,null),Cr=Sr.exports,wr=function(t){return t.toString().toLowerCase()},Tr=function(t,e){return e?t.filter((function(t){return wr(t.parameter).includes(wr(e))})):t},Pr={name:"TableSearch",data:function(){return{sortBy:"parameter",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"parameter",label:"Parameter",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],parameters:[],parameterSelected:{},pppInput:[],search:null,messages:[],PPP:!1,snackbarText:""}},components:{parameterPPP:Cr},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({campus:"campus",program:"program",instrument:"instrument",role:"role",taskHead:"taskHead"})),{},{newInstrument:function(){return this.$store.getters.newInstrument}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showParameter",this.instrument.id).then((function(e){t.parameters=Tr(e.data,t.search),t.totalRows=t.parameters.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),downloadPPP:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("downloadPPP",this.instrument.id).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name,".docx")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},formatDate:function(t){return E()(t).format("llll")},select:function(t){null!=t&&(this.$store.commit("saveParameter",t),this.$router.push("/AttachFileStatement"))},filterMessageByParameter:function(t,e){return null!==t&&void 0!==t&&t.length?t.filter((function(t){return t.parameter_id===e})):[]},back:function(){this.$router.push("/TaskForceArea")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instrument.id,i=t.program.id,t.$isLoading(!0),e.next=5,t.$store.dispatch("showTaskParameter",{instrument_id:a,program_id:i}).then((function(e){t.parameters=e.data.parameters.sort((function(t,e){return t.parameter.localeCompare(e.parameter)})),t.totalRows=t.parameters.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:if(0===t.taskHead){e.next=8;break}return e.next=8,t.$store.dispatch("showUnreadMessage",t.program.id).then((function(e){t.messages=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$isLoading(!1);case 10:case"end":return e.stop()}}),e)})))()}},Lr=Pr,Ar=Object(L["a"])(Lr,dr,mr,!1,null,null,null),$r=Ar.exports,Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"upload"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},[t._l(t.filterRemarks(t.statement.id),(function(e,i){return a("div",{key:i},[e.remark?a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.remark)+'"')])]):t._e()])})),t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])}))],2),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload File")])]},proxy:!0}]),model:{value:t.uploadFile,callback:function(e){t.uploadFile=e},expression:"uploadFile"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.fileUpload(e)}}},[t._l(t.documents,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[t.documents[i]?t._e():a("b-form-file",{attrs:{required:""},model:{value:t.documents[i],callback:function(e){t.$set(t.documents,i,e)},expression:"documents[index]"}}),t.documents[i]?a("b-form-input",{staticStyle:{background:"white"},attrs:{type:"text",disabled:""},model:{value:t.documents[i].name,callback:function(e){t.$set(t.documents[i],"name",e)},expression:"documents[index].name"}}):t._e()],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeDocument(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addDocument()}}},[t._v("Add Document")])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadFile=!1,t.attachmentDialog=!0}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload Link")])]},proxy:!0}]),model:{value:t.uploadLink,callback:function(e){t.uploadLink=e},expression:"uploadLink"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.linkUpload(e)}}},[t._l(t.files,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{id:"uploadLink-1",type:"text",placeholder:"Title",required:""},model:{value:t.files[i].filename,callback:function(e){t.$set(t.files[i],"filename",e)},expression:"files[index].filename"}}),a("b-form-input",{attrs:{id:"uploadLink-2",type:"text",placeholder:"Link",required:""},model:{value:t.files[i].link,callback:function(e){t.$set(t.files[i],"link",e)},expression:"files[index].link"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeFile(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addFile()}}},[t._v("Add Link")])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.uploadLink=!1,t.attachmentDialog=!0}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],2)]),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statement.statement)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag / office",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px","margin-right":"5px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterDocumentArea,callback:function(e){t.filterDocumentArea=e},expression:"filterDocumentArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.filterAttachments(t.statement.id)),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length?t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statement.statement)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){t.searchDocumentTable(t.filterAttachments(t.statement.id))}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.statement.id,e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Edit Statement")])]},proxy:!0}]),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter benchmark statement...",rows:"3","max-rows":"6"},model:{value:t.statement.statement,callback:function(e){t.$set(t.statement,"statement",e)},expression:"statement.statement"}}),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.edit=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.editStatement(),t.edit=!1}}},[t._v("Submit")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeAttachment(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t.instrument.program_name?a("h4",[t._v(t._s(t.instrument.program_name))]):a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v("Campus: "+t._s(t.campus.campus_name))]),a("h5",[t._v(t._s(t.instrument.area_name))]),a("b-dropdown",{attrs:{text:t.parameter.parameter,variant:"primary"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.changeParameter(e.id),t.$store.commit("saveParameter",e)}}},[t._v(t._s(e.parameter))])],1)})),0)],1)]),a("div",t._l(t.type,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[""===t.search?a("div",{staticClass:"md-layout-item",staticStyle:{"padding-top":"10px"}},[a("h5",[t._v(t._s(e.type))])]):t._e(),a("div",{staticClass:"md-layout-item"}),0===i?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e()]),""===t.search?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.sortStatements(e.type),fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t._v("\n                  "+t._s(e.value)+"\n                ")]),t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?t._e():a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",on:{click:function(a){t.statement=e.item,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.filterDocuments(t.filterAttachments(e.item.id)),t.containerDialog=!0}}},[t._v("Select Attachment")])],1)]),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                        "+t._s(i+1)+".\n                      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])})),0)],1)],1)]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"18px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[t.checkMessage(e.item.id,0)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,0),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,0),t.chatbox=!0}}},[t._v("Self Survey")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Self Survey")])],1),a("div",[t.checkMessage(e.item.id,1)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,1),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,1),t.chatbox=!0}}},[t._v("AACCUP")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("AACCUP")])],1)])]}}],null,!0)}):0===i?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t._v("\n                "+t._s(e.value)+"\n              ")]),t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?t._e():a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",on:{click:function(a){t.statement=e.item,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.filterDocuments(t.filterAttachments(e.item.id)),t.containerDialog=!0}}},[t._v("Select Attachment")])],1)]),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                      "+t._s(i+1)+".\n                    ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])})),0)],1)]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"18px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[t.checkMessage(e.item.id,0)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,0),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,0),t.chatbox=!0}}},[t._v("Self Survey")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Self Survey")])],1),a("div",[t.checkMessage(e.item.id,1)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,1),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,1),t.chatbox=!0}}},[t._v("AACCUP")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("AACCUP")])],1)])]}}],null,!0)}):t._e()],1)})),0),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[e.parameter===t.parameter.parameter?a("div",[t.parameters[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i-1].id),t.$store.commit("saveParameter",t.parameters[i-1])}}},[t._v("Back")]):t._e(),t.parameters[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i+1].id),t.$store.commit("saveParameter",t.parameters[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])])],1)},Rr=[],Ir=function(t){return t.toString().toLowerCase()},Er=function(t,e){return e?t.filter((function(t){return Ir(t.statement).includes(Ir(e))})):t},Ur=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length)for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ir(t.tag?t.tag:"")===Ir(e)})));if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Or=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Ir(t.container.container_name?t.container.container_name:"").includes(Ir(e))||Ir(t.office_name?t.office_name:"").includes(Ir(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ir(t.tag?t.tag:"").includes(Ir(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Fr=function(t,e){return e?t.filter((function(t){return Ir(t.document_name).includes(Ir(e))})):t},Br=function(t,e){return e?t.filter((function(t){return t.program_parameter_id===e})):t},Nr=function(t,e){return e?t.filter((function(t){return t.type===e})):t},Mr=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},jr=function(t,e){if(e)return t.filter((function(t){return t.statement_id===e}))},qr=function(t,e){return e?t.filter((function(t){return t.document_id===e})):t},zr={data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:this.type,sortable:!0},{key:"remark",label:"Accreditor Remarks",thStyle:{width:"150px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],setStatements:void 0,statementList:[],attachmentList:[],remarkList:[],statement:{},newStatement:null,search:"",containerDialog:!1,attachmentDialog:!1,edit:!1,add:!1,addSub:!1,documentTags:[],myDocumentTags:[],containerList:[],documentList:[],selectionMyDocument:[],fileSelected:[],snackbarText:"",type:[{type:"System Input"},{type:"Implementation"},{type:"Outcome"}],parameters:[{}],documents:[null],files:[{filename:null,link:null}],filterDocumentArea:0,filterMyDocumentArea:0,filterType:"Primary",containerSelect:{},document_name:null,document:null,link:null,tag:[null],uploadFile:!1,uploadLink:!1,deletePrompt:!1,messages:[],unreadMessages:[],message:null,messageType:null,chatbox:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",program:"program",instrument:"instrument",parameter:"parameter",campus:"campus"})),methods:{showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null,i=t.document_id;!0===this.attachmentDialog&&(i=t.id),this.$store.dispatch("documentType",i).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",i).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},getTags:function(t,e){var a=qr(e,t);if(null!==a&&void 0!==a&&a.length){var i=a[0].document_id,n=a[0].tag;if(a.length>0){for(var s=1;s<a.length;s++)n=n.concat(", ",a[s].tag);return{document_id:i,tag:n}}return{document_id:i,tag:n}}},changeParameter:function(){var t=this,e=this.program.id,a=this.instrument.id;this.$isLoading(!0),this.$nextTick((function(){document.getElementById("upload").scrollIntoView()})),this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){t.statementList=Br(e.data.statements,t.parameter.id),t.unreadMessages=e.data.unread_message_count,t.attachmentList=e.data.documents,t.remarkList=e.data.remarks,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=Mr(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachSupportDocument",{benchmark_statement_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1);var n=a.program.id,s=a.instrument.id;a.$store.dispatch("showStatementDocument",{program_id:n,transaction_id:s}).then((function(t){a.attachmentList=t.data.documents})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeSupportDocument",this.fileSelected.id).then((function(e){if(!0===e.data.status){var a=t.attachmentList.findIndex((function(e){return e.id===t.fileSelected.id}));t.attachmentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterAttachments:function(t){var e=jr(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},filterRemarks:function(t){var e;if(null!==(e=this.remarkList)&&void 0!==e&&e.length)return this.remarkList.filter((function(e){return e.id===t&&"General"===e.remark_type}))},editStatement:function(){var t=this;this.$store.dispatch("editStatement",this.statement).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){var a=Br(e.data.statements,t.parameter.id);t.statementList=Er(a,t.search),t.unreadMessages=e.data.unread_message_count})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterDocuments:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterByType:function(t){return"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0},filterFiles:function(t,e){return 0===e?t:1===e?Ur(t,"Area I"):2===e?Ur(t,"Area II"):3===e?Ur(t,"Area III"):4===e?Ur(t,"Area IV"):5===e?Ur(t,"Area V"):6===e?Ur(t,"Area VI"):7===e?Ur(t,"Area VII"):8===e?Ur(t,"Area VIII"):9===e?Ur(t,"Area IX"):10===e?Ur(t,"Area X"):void 0},fileUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.containerSelect.container.id,i="file",n=this.documents;this.$store.dispatch("uploadDocument",{user_id:e,container_id:a,type:i,documents:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.containerSelect.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows_document=t.documentList.length})),t.uploadFile=!1,t.attachmentDialog=!0,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},linkUpload:function(){var t=this;this.$isLoading(!0);var e=this.user.id,a=this.containerSelect.container.id,i="link",n=this.files;this.$store.dispatch("uploadLink",{user_id:e,container_id:a,type:i,file:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showDocument",t.containerSelect.container.id).then((function(e){t.documentList=e.data.documents,t.totalRows_document=t.documentList.length})),t.uploadLink=!1,t.attachmentDialog=!0,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},tagArea:function(t){return 1===t?"Area I":2===t?"Area II":3===t?"Area III":4===t?"Area IV":5===t?"Area V":6===t?"Area VI":7===t?"Area VII":8===t?"Area VIII":9===t?"Area IX":10===t?"Area X":void 0},addTag:function(){null!==this.tag[this.tag.length-1]&&""!==this.tag[this.tag.length-1]&&this.tag.push(null)},removeTag:function(t){this.tag.splice(t,1)},searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=Or(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=Fr(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkDepartment:function(){if(this.containerSelect&&"department"===this.containerSelect.type)return!0},addDocument:function(){null!==this.documents[this.documents.length-1]&&this.documents.push(null)},removeDocument:function(t){this.documents.splice(t,1)},addFile:function(){null!==this.files[this.files.length-1].link&&this.files.push({filename:null,link:null})},removeFile:function(t){this.files.splice(t,1)},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},sortStatements:function(t){return Nr(this.statementList,t)},getId:function(t){return t.toString()},showRemark:function(t){var e=this,a=this.program.id,i=t,n=this.messageType;this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";1===this.messageType&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t,e){return 0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal:1===e?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t,e){0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:1===e&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/TaskForceParameter")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.program.id,i=t.instrument.id,t.$isLoading(!0),e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){t.statementList=Br(e.data.statements,t.parameter.id),t.unreadMessages=e.data.unread_message_count,t.attachmentList=e.data.documents,t.remarkList=e.data.remarks})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return n=t.instrument.id,e.next=8,t.$store.dispatch("showTaskParameter",{instrument_id:n,program_id:a}).then((function(e){e.data.parameters.length>1?t.parameters=e.data.parameters.sort((function(t,e){return t.parameter.localeCompare(e.parameter)})):t.parameters=e.data.parameters})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$isLoading(!1);case 10:case"end":return e.stop()}}),e)})))()}},Vr=zr,Hr=Object(L["a"])(Vr,Dr,Rr,!1,null,null,null),Yr=Hr.exports,Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])})),0),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Areas suited for "+t._s(t.instrument.area_name)+" are:")]),a("ul",{staticStyle:{color:"red"}},t._l(t.instrumentTags,(function(e){return a("li",{key:e.id},[t._v("\n            "+t._s(e.tag)+"\n          ")])})),0)]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag / office",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px","margin-right":"5px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterDocumentArea,callback:function(e){t.filterDocumentArea=e},expression:"filterDocumentArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.checkAttachment()),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea))?t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){t.searchDocumentTable(t.checkAttachment())}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[0===t.attachmentType?a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.statement.id,e.item.id)}}},[t._v("Select")]):1===t.attachmentType?a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.areaAttachFile(e.item.id)}}},[t._v("Select")]):t._e()]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[0===t.attachmentType?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeAttachment(),t.deletePrompt=!1}}},[t._v("Delete")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.areaRemoveAttachment(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.campus_name))]),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.setField(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t._v("\n                "+t._s(e.value)+"\n              ")]),t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?t._e():a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",on:{click:function(a){t.statement=e.item,t.filterDocumentArea=t.filterAreaFiles(),t.filterType="Primary",t.search_container="",t.attachmentType=0,t.filterDocuments(t.filterAttachments(e.item.id)),t.containerDialog=!0}}},[t._v("Select Attachment")])],1)]),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                      "+t._s(i+1)+".\n                    ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e,t.attachmentType=0,t.deletePrompt=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])})),0)],1)],1)]}},{key:"head(year_1)",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"45px","padding-top":"10px"}},[t._v("\n              Year:\n            ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{model:{value:t.year_1,callback:function(e){t.year_1=e},expression:"year_1"}},[a("b-form-select-option",{attrs:{value:(new Date).getFullYear()}},[t._v(t._s((new Date).getFullYear()))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-1}},[t._v(t._s((new Date).getFullYear()-1))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-2}},[t._v(t._s((new Date).getFullYear()-2))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-3}},[t._v(t._s((new Date).getFullYear()-3))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-4}},[t._v(t._s((new Date).getFullYear()-4))])],1)],1)])]},proxy:!0},{key:"cell(year_1)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},model:{value:e.item.rating_1,callback:function(a){t.$set(e.item,"rating_1",a)},expression:"row.item.rating_1"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"head(year_2)",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"45px","padding-top":"10px"}},[t._v("\n              Year:\n            ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{model:{value:t.year_2,callback:function(e){t.year_2=e},expression:"year_2"}},[a("b-form-select-option",{attrs:{value:(new Date).getFullYear()}},[t._v(t._s((new Date).getFullYear()))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-1}},[t._v(t._s((new Date).getFullYear()-1))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-2}},[t._v(t._s((new Date).getFullYear()-2))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-3}},[t._v(t._s((new Date).getFullYear()-3))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-4}},[t._v(t._s((new Date).getFullYear()-4))])],1)],1)])]},proxy:!0},{key:"cell(year_2)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},model:{value:e.item.rating_2,callback:function(a){t.$set(e.item,"rating_2",a)},expression:"row.item.rating_2"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"head(year_3)",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"45px","padding-top":"10px"}},[t._v("\n              Year:\n            ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{model:{value:t.year_3,callback:function(e){t.year_3=e},expression:"year_3"}},[a("b-form-select-option",{attrs:{value:(new Date).getFullYear()}},[t._v(t._s((new Date).getFullYear()))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-1}},[t._v(t._s((new Date).getFullYear()-1))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-2}},[t._v(t._s((new Date).getFullYear()-2))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-3}},[t._v(t._s((new Date).getFullYear()-3))]),a("b-form-select-option",{attrs:{value:(new Date).getFullYear()-4}},[t._v(t._s((new Date).getFullYear()-4))])],1)],1)])]},proxy:!0},{key:"cell(year_3)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},model:{value:e.item.rating_3,callback:function(a){t.$set(e.item,"rating_3",a)},expression:"row.item.rating_3"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"18px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[t.checkMessage(e.item.id,0)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,0),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,0),t.chatbox=!0}}},[t._v("Self Survey")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Self Survey")])],1),a("div",[t.checkMessage(e.item.id,1)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,1),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,1),t.chatbox=!0}}},[t._v("AACCUP")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("AACCUP")])],1)])]}}])})],1),"LICENSURE EXAM"===t.instrument.area_name?a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{width:"300px",margin:"0"},on:{click:function(e){return t.setScore()}}},[t._v("Save")])],1)]):t._e(),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Supplementary Files")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{width:"300px",margin:"0"},on:{click:function(e){t.filterDocumentArea=t.filterAreaFiles(),t.filterType="Primary",t.search_container="",t.attachmentType=1,t.filterDocuments(),t.containerDialog=!0}}},[t._v("Select Attachment")])],1)]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.areaAttachmentList,fields:t.fields_attachment,"sort-by":t.sortBy_attachment,"sort-desc":t.sortDesc_attachment,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_attachment=e},"update:sort-by":function(e){t.sortBy_attachment=e},"update:sortDesc":function(e){t.sortDesc_attachment=e},"update:sort-desc":function(e){t.sortDesc_attachment=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.item.document_name))])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e.item,t.attachmentType=1,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)],1)},Wr=[],Gr=function(t){if(void 0!==t)return t.toString().toLowerCase()},Jr=function(t,e){return""!==e?t.filter((function(t){return Gr(t.statement).includes(Gr(e))})):t},Qr=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},Kr=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length)for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Gr(t.tag?t.tag:"")===Gr(e)})));if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Zr=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Gr(t.container.container_name?t.container.container_name:"").includes(Gr(e))||Gr(t.office_name?t.office_name:"").includes(Gr(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Gr(t.tag?t.tag:"").includes(Gr(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},to=function(t,e){if(e)return t.filter((function(t){return t.statement_id===e}))},eo=function(t,e){return e?t.filter((function(t){return Gr(t.document_name).includes(Gr(e))})):t},ao={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Criteria",sortable:!0},{key:"remark",label:"Accreditor Remarks",thStyle:{width:"150px"}}],fields_licensure:[{key:"statement",label:"Criteria",sortable:!0},{key:"year_1",thStyle:{width:"140px"}},{key:"year_2",thStyle:{width:"140px"}},{key:"year_3",thStyle:{width:"140px"}},{key:"remark",label:"Accreditor Remarks",thStyle:{width:"150px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_attachment:"instrument_program_document_id",sortDesc_attachment:!1,fields_attachment:[{key:"instrument_program_document_id",label:"ID",sortable:!0,thStyle:{width:"50px"}},{key:"document_name",label:"File",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],graduate_performances:[],year_1:null,year_2:null,year_3:null,statementList:[{}],statement:{},msiList:[],attachmentList:[],areaAttachmentList:[],attachmentType:null,documentList:[],containerList:[],filterDocumentArea:0,filterType:"Primary",parameters:[{}],fileSelected:null,instrumentTags:[],search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",typeSelect:"",type:[{type:"Performance Rating"},{type:"Evaluation"}],containerDialog:!1,attachmentDialog:!1,deletePrompt:!1,messages:[],unreadMessages:[],message:null,messageType:null,chatbox:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",program:"program",taskHead:"taskHead",assigned_user_id:"assigned_user_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setField:function(){return"LICENSURE EXAM"===this.instrument.area_name?this.fields_licensure:this.fields},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=Qr(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},filterDocuments:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},areaAttachFile:function(t){var e=this;this.$isLoading(!0);var a=this.instrument.id;this.$store.dispatch("attachAreaSupportDocument",{instrument_id:a,document_id:t}).then((function(a){if(!0===a.data.status){var i=e.documentList.findIndex((function(e){return e.id===t}));e.documentList.splice(i,1),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})),e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}else e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Error","danger")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},areaRemoveAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeAreaSupportDocument",this.fileSelected.instrument_program_document_id).then((function(e){if(!0===e.data.status){var a=t.checkAttachment().findIndex((function(e){return e.id===t.fileSelected.instrument_program_document_id}));t.checkAttachment().splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachSupportDocument",{benchmark_statement_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1);var n=a.program.id,s=a.instrument.id;a.$store.dispatch("showStatementDocument",{program_id:n,transaction_id:s}).then((function(t){a.attachmentList=t.data.documents})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeSupportDocument",this.fileSelected.id).then((function(e){if(!0===e.data.status){var a=t.attachmentList.findIndex((function(e){return e.id===t.fileSelected.id}));t.attachmentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterByType:function(t){return t?"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0:t},filterFiles:function(t,e){return 0===e?t:1===e?Kr(t,"Area I"):2===e?Kr(t,"Area II"):3===e?Kr(t,"Area III"):4===e?Kr(t,"Area IV"):5===e?Kr(t,"Area V"):6===e?Kr(t,"Area VI"):7===e?Kr(t,"Area VII"):8===e?Kr(t,"Area VIII"):9===e?Kr(t,"Area IX"):10===e?Kr(t,"Area X"):void 0},filterAreaFiles:function(){return"INSTRUCTION"===this.instrument.area_name?3:"EXTENSION"===this.instrument.area_name?4:"RESEARCH"===this.instrument.area_name?5:"FACULTY"===this.instrument.area_name?2:"CONSORTIA OR LINKAGE"===this.instrument.area_name||"LICENSURE EXAM"===this.instrument.area_name?3:"LIBRARY"===this.instrument.area_name?7:0},filterAttachments:function(t){var e=to(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){var a;t.statementList=Jr(e.data.statements,t.search),null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.attachmentList=e.data.documents),t.unreadMessages=e.data.unread_message_count})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=Zr(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=eo(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),setScore:function(){var t=this;this.graduate_performances=[];for(var e=0;e<this.statementList.length;e++)if(null!==this.statementList[e].rating_1||null!==this.statementList[e].rating_2||null!==this.statementList[e].rating_3||null!==this.year_1||null!==this.year_2||null!==this.year_3){var a=this.statementList[e].id,i=this.year_1,n=this.statementList[e].rating_1,s=this.year_2,r=this.statementList[e].rating_2,o=this.year_3,c=this.statementList[e].rating_3;this.graduate_performances.push({id:a,year_1:i,rating_1:n,year_2:s,rating_2:r,year_3:o,rating_3:c})}var l=this.assigned_user_id,d=this.instrument.id,m=null,u=[],p=this.graduate_performances;this.$isLoading(!0),this.$store.dispatch("saveMeanScore",{assigned_user_id:l,instrument_id:d,score:m,remarks:u,graduate_performances:p}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkDepartment:function(){if(this.containerSelect&&"department"===this.containerSelect.type)return!0},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null,i=t.document_id;!0===this.attachmentDialog&&(i=t.id),this.$store.dispatch("documentType",i).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",i).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkAttachment:function(){return 0===this.attachmentType?this.filterAttachments(this.statement.id):this.areaAttachmentList},getId:function(t){return t.toString()},showRemark:function(t){var e=this,a=this.program.id,i=t,n=this.messageType;this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";1===this.messageType&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t,e){return 0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal:1===e?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t,e){0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:1===e&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$isLoading(!0),a.next=3,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 3:return a.next=5,e.$store.commit("saveInstrument",t);case 5:return i=e.program.id,n=e.instrument.id,a.next=9,e.$store.dispatch("showStatementDocument",{program_id:i,transaction_id:n}).then((function(t){var a;e.statementList=t.data.statements,null!==(a=e.statementList)&&void 0!==a&&a.length&&(e.year_1=t.data.statements[0].year_1,e.year_2=t.data.statements[0].year_2,e.year_3=t.data.statements[0].year_3,e.attachmentList=t.data.documents),e.unreadMessages=t.data.unread_message_count,e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 9:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.instrument.id,e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){var a;t.statementList=e.data.statements,t.unreadMessages=e.data.unread_message_count,null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.attachmentList=e.data.documents)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showAreaSupportDocument",t.instrument.id).then((function(e){t.areaAttachmentList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$store.dispatch("showInstrumentTag",t.instrument.area_instrument_id).then((function(e){t.instrumentTags=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 9:if(n=t.user.id,0!==t.taskHead){e.next=15;break}return e.next=13,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.msiList=e.data.instruments})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 13:e.next=18;break;case 15:if(1!==t.taskHead){e.next=18;break}return e.next=18,t.$store.dispatch("showTaskInstrument",{user_id:n,program_id:a}).then((function(e){t.msiList=e.data.areas})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 18:return e.next=20,t.$isLoading(!1);case 20:case"end":return e.stop()}}),e)})))()}},io=ao,no=Object(L["a"])(io,Xr,Wr,!1,null,null,null),so=no.exports,ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])})),0),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statement.statement)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag / office",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px","margin-right":"5px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterDocumentArea,callback:function(e){t.filterDocumentArea=e},expression:"filterDocumentArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.filterAttachments(t.statement.id)),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length?t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){t.searchDocumentTable(t.filterAttachments(t.statement.id))}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[0===t.attachmentType?a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.statement.id,e.item.id)}}},[t._v("Select")]):a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.areaAttachFile(e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[0===t.attachmentType?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeAttachment(),t.deletePrompt=!1}}},[t._v("Delete")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.areaRemoveAttachment(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.campus_name))]),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.setField(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[t._v("\n                "+t._s(e.value)+"\n              ")]),t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?t._e():a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-dense md-raised",on:{click:function(a){t.statement=e.item,t.filterDocumentArea=t.instrument.area_number,t.filterType="Primary",t.search_container="",t.attachmentType=0,t.filterDocuments(),t.containerDialog=!0}}},[t._v("Select Attachment")])],1)]),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                      "+t._s(i+1)+".\n                    ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.attachmentType=0,t.fileSelected=e,t.deletePrompt=!0}}},[a("md-icon",[t._v("close")])],1)],1)])])})),0)],1)],1)]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"18px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[t.checkMessage(e.item.id,0)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,0),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,0),t.chatbox=!0}}},[t._v("Self Survey")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=0,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Self Survey")])],1),a("div",[t.checkMessage(e.item.id,1)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id,1),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id,1),t.chatbox=!0}}},[t._v("AACCUP")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.messageType=1,t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("AACCUP")])],1)])]}}])})],1),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])])],1)},oo=[],co=function(t){if(void 0!==t)return t.toString().toLowerCase()},lo=function(t,e){return""!==e?t.filter((function(t){return co(t.statement).includes(co(e))})):t},mo=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},uo=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length)for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return co(t.tag?t.tag:"")===co(e)})));if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},po=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return co(t.container.container_name?t.container.container_name:"").includes(co(e))||co(t.office_name?t.office_name:"").includes(co(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return co(t.tag?t.tag:"").includes(co(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},fo=function(t,e){if(e)return t.filter((function(t){return t.statement_id===e}))},ho=function(t,e){return e?t.filter((function(t){return co(t.document_name).includes(co(e))})):t},vo={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Criteria",sortable:!0},{key:"remark",label:"Accreditor Remarks",thStyle:{width:"150px"}}],fields_licensure:[{key:"statement",label:"Criteria",sortable:!0},{key:"year_1",thStyle:{width:"140px"}},{key:"year_2",thStyle:{width:"140px"}},{key:"year_3",thStyle:{width:"140px"}},{key:"remark",label:"Accreditor Remarks",thStyle:{width:"150px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_attachment:"instrument_program_document_id",sortDesc_attachment:!1,fields_attachment:[{key:"instrument_program_document_id",label:"ID",sortable:!0,thStyle:{width:"50px"}},{key:"document_name",label:"File",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],graduate_performances:[],year_1:null,year_2:null,year_3:null,statementList:[{}],statement:{},msiList:[],attachmentList:[],areaAttachmentList:[],attachmentType:null,documentList:[],containerList:[],filterDocumentArea:0,filterType:"Primary",parameters:[{}],fileSelected:null,search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",typeSelect:"",type:[{type:"Performance Rating"},{type:"Evaluation"}],containerDialog:!1,attachmentDialog:!1,deletePrompt:!1,messages:[],unreadMessages:[],message:null,messageType:null,chatbox:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",program:"program",taskHead:"taskHead",assigned_user_id:"assigned_user_id"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},setField:function(){return"LICENSURE EXAM"===this.instrument.area_name?this.fields_licensure:this.fields},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=mo(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},filterDocuments:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},areaAttachFile:function(t){var e=this;this.$isLoading(!0);var a=this.instrument.id;this.$store.dispatch("attachAreaSupportDocument",{instrument_id:a,document_id:t}).then((function(a){if(!0===a.data.status){var i=e.documentList.findIndex((function(e){return e.id===t}));e.documentList.splice(i,1),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})),e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}else e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Error","danger")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},areaRemoveAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeAreaSupportDocument",this.fileSelected.instrument_program_document_id).then((function(e){if(!0===e.data.status){var a=t.filterAttachments(t.statement.id).findIndex((function(e){return e.id===t.fileSelected.instrument_program_document_id}));t.filterAttachments(t.statement.id).splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachSupportDocument",{benchmark_statement_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1);var n=a.program.id,s=a.instrument.id;a.$store.dispatch("showStatementDocument",{program_id:n,transaction_id:s}).then((function(t){a.attachmentList=t.data.documents})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeSupportDocument",this.fileSelected.id).then((function(e){if(!0===e.data.status){var a=t.attachmentList.findIndex((function(e){return e.id===t.fileSelected.id}));t.attachmentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterByType:function(t){return"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0},filterFiles:function(t,e){return 0===e?t:1===e?uo(t,"Area I"):2===e?uo(t,"Area II"):3===e?uo(t,"Area III"):4===e?uo(t,"Area IV"):5===e?uo(t,"Area V"):6===e?uo(t,"Area VI"):7===e?uo(t,"Area VII"):8===e?uo(t,"Area VIII"):9===e?uo(t,"Area IX"):10===e?uo(t,"Area X"):void 0},filterAttachments:function(t){var e=fo(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){var a;t.statementList=lo(e.data.statements,t.search),t.unreadMessages=e.data.unread_message_count,null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.attachmentList=e.data.documents)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=po(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=ho(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),setScore:function(){var t=this;this.graduate_performances=[];for(var e=0;e<this.statementList.length;e++)if(null!==this.statementList[e].rating_1||null!==this.statementList[e].rating_2||null!==this.statementList[e].rating_3||null!==this.year_1||null!==this.year_2||null!==this.year_3){var a=this.statementList[e].id,i=this.year_1,n=this.statementList[e].rating_1,s=this.year_2,r=this.statementList[e].rating_2,o=this.year_3,c=this.statementList[e].rating_3;this.graduate_performances.push({id:a,year_1:i,rating_1:n,year_2:s,rating_2:r,year_3:o,rating_3:c})}var l=this.assigned_user_id,d=this.instrument.id,m=null,u=[],p=this.graduate_performances;this.$isLoading(!0),this.$store.dispatch("saveMeanScore",{assigned_user_id:l,instrument_id:d,score:m,remarks:u,graduate_performances:p}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkDepartment:function(){if(this.containerSelect&&"department"===this.containerSelect.type)return!0},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null,i=t.document_id;!0===this.attachmentDialog&&(i=t.id),this.$store.dispatch("documentType",i).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",i).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkAttachment:function(){return 0===this.attachmentType?this.attachmentList:this.areaAttachmentList},getId:function(t){return t.toString()},showRemark:function(t){var e=this,a=this.program.id,i=t,n=this.messageType;this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";1===this.messageType&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t,e){return 0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal:1===e?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t,e){0===e?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:1===e&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$isLoading(!0),a.next=3,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 3:return a.next=5,e.$store.commit("saveInstrument",t);case 5:return i=e.program.id,n=e.instrument.id,a.next=9,e.$store.dispatch("showStatementDocument",{program_id:i,transaction_id:n}).then((function(t){var a;e.statementList=t.data.statements,e.unreadMessages=t.data.unread_message_count,null!==(a=e.statementList)&&void 0!==a&&a.length&&(e.year_1=t.data.statements[0].year_1,e.year_2=t.data.statements[0].year_2,e.year_3=t.data.statements[0].year_3,e.attachmentList=t.data.documents),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 9:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.instrument.id,e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){var a;t.statementList=e.data.statements,t.unreadMessages=e.data.unread_message_count,null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.attachmentList=e.data.documents)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showAreaSupportDocument",t.instrument.id).then((function(e){t.areaAttachmentList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:if(n=t.user.id,0!==t.taskHead){e.next=13;break}return e.next=11,t.$store.dispatch("showInstrumentProgram",t.program.program_id).then((function(e){t.msiList=e.data.instruments})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 11:e.next=16;break;case 13:if(1!==t.taskHead){e.next=16;break}return e.next=16,t.$store.dispatch("showTaskInstrument",{user_id:n,program_id:a}).then((function(e){t.msiList=e.data.areas})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 16:return e.next=18,t.$isLoading(!1);case 18:case"end":return e.stop()}}),e)})))()}},go=vo,bo=Object(L["a"])(go,ro,oo,!1,null,null,null),_o=bo.exports,yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("SUC Self Survey")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},ko=[],xo=function(t){return t.toString().toLowerCase()},So=function(t,e){return e?t.filter((function(t){return xo(t.program_name).includes(xo(e))})):t},Co={name:"AccreditationTask",data:function(){return{sortBy:"intended_program",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",role:"role"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},select:function(t){null!=t&&(this.$store.commit("saveProgram",t),this.$store.commit("saveAccreditor",1),this.$router.push("/AccreditationArea"))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showTask",this.user.id).then((function(e){t.msiList=So(e.data.program_internal_accreditor,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showTask",t.user.id).then((function(e){t.msiList=e.data.program_internal_accreditor,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},wo=Co,To=Object(L["a"])(wo,yo,ko,!1,null,null,null),Po=To.exports,Lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Accept Request")])]},proxy:!0}]),model:{value:t.accept,callback:function(e){t.accept=e},expression:"accept"}},[t._v("\n    You are about to accept this accreditation request.\n    "),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.accept=!1}}},[t._v("Cancel")])],1),a("div",[0===t.requestType?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.acceptRequest(),t.accept=!1}}},[t._v("Accept")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.coordinatorApproveRequest(),t.accept=!1}}},[t._v("Accept")])],1)])],1),a("b-modal",{attrs:{id:"app","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Decline Request")])]},proxy:!0}]),model:{value:t.reject,callback:function(e){t.reject=e},expression:"reject"}},[t._v("\n    You are about to decline this accreditation request.\n    "),a("br"),0===t.requestType?a("form",{on:{submit:function(e){return e.preventDefault(),t.rejectRequest()}}},[a("b-form-group",{staticStyle:{"margin-top":"10px"},attrs:{id:"reject-group-1",label:"Enter Reason:","label-for":"reject-1"}},[a("b-form-textarea",{attrs:{id:"reject-1",rows:"3","max-rows":"6"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.reject=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Decline")])],1)])],1):t._e(),1===t.requestType?a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.reject=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.coordinatorRejectRequest(),t.reject=!1}}},[t._v("Decline")])],1)]):t._e()],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Program List")])]},proxy:!0}]),model:{value:t.programsModal,callback:function(e){t.programsModal=e},expression:"programsModal"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.programList,fields:t.fields_program,"sort-by":t.sortBy_program,"sort-desc":t.sortDesc_program,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_program=e},"update:sort-by":function(e){t.sortBy_program=e},"update:sortDesc":function(e){t.sortDesc_program=e},"update:sort-desc":function(e){t.sortDesc_program=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" -\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):a("div"):a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" -\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")])]}},{key:"cell(status)",fn:function(e){return["approved"===e.item.status?a("div",[a("span",{staticStyle:{color:"forestgreen"}},[t._v(t._s(e.item.status))])]):"rejected"===e.item.status?a("div",[a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.item.status))])]):a("div",[a("span",[t._v(t._s(e.item.status))])])]}}])}),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.programsModal=!1}}},[t._v("Close")])],1)],1),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("AACCUP Accreditation Request")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"accreditor-request-0","md-label":"Program Accreditor"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.accreditorRequests,fields:t.fields_accreditor,"current-page":t.currentPage_accreditor,"per-page":t.perPage,"sort-by":t.sortBy_accreditor,"sort-desc":t.sortDesc_accreditor,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_accreditor=e},"update:sort-by":function(e){t.sortBy_accreditor=e},"update:sortDesc":function(e){t.sortDesc_accreditor=e},"update:sort-desc":function(e){t.sortDesc_accreditor=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n              "+t._s(e.item.approved_start_date)+" to\n              "+t._s(e.item.approved_end_date)+" (Approved)\n            ")]):e.item.preferred_start_date?a("div",[t._v("\n              "+t._s(e.item.preferred_start_date)+" to\n              "+t._s(e.item.preferred_end_date)+" (Preferred)\n            ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Accept Request"},on:{click:function(a){t.requestType=0,t.msiSelect=e.item,t.accept=!0}}},[a("md-icon",[t._v("check_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Decline Request"},on:{click:function(a){t.requestType=0,t.msiSelect=e.item,t.remark="",t.reject=!0}}},[a("md-icon",[t._v("cancel")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows_accreditor,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage_accreditor,callback:function(e){t.currentPage_accreditor=e},expression:"currentPage_accreditor"}})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"accreditor-request-1","md-label":"Overall Coordinator"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.coordinatorRequests,fields:t.fields_coordinator,"current-page":t.currentPage_coordinator,"per-page":t.perPage,"sort-by":t.sortBy_coordinator,"sort-desc":t.sortDesc_coordinator,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_coordinator=e},"update:sort-by":function(e){t.sortBy_coordinator=e},"update:sortDesc":function(e){t.sortDesc_coordinator=e},"update:sort-desc":function(e){t.sortDesc_coordinator=e}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Program List"},on:{click:function(a){t.showPrograms(e.item.application_id),t.programsModal=!0}}},[a("md-icon",[t._v("dns")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Accept Request"},on:{click:function(a){t.requestType=1,t.msiSelect=e.item,t.accept=!0}}},[a("md-icon",[t._v("check_circle")])],1),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Decline Request"},on:{click:function(a){t.requestType=1,t.msiSelect=e.item,t.reject=!0}}},[a("md-icon",[t._v("cancel")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows_coordinator,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage_coordinator,callback:function(e){t.currentPage_coordinator=e},expression:"currentPage_coordinator"}})],1)],1)],1)],1)},Ao=[],$o=function(t){return t.toString().toLowerCase()},Do=function(t,e){return e?t.filter((function(t){return $o(t.program_name).includes($o(e))})):t},Ro=function(t,e){return e?t.filter((function(t){return $o(t.status)===$o(e)})):t},Io={name:"AccreditationRequests",data:function(){return{sortBy_accreditor:"intended_program",sortDesc_accreditor:!1,totalRows_accreditor:1,currentPage_accreditor:1,fields_accreditor:[{key:"id",label:"ID",sortable:!0},{key:"institution_name",label:"SUC",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_coordinator:"intended_program",sortDesc_coordinator:!1,totalRows_coordinator:1,currentPage_coordinator:1,fields_coordinator:[{key:"id",label:"ID",sortable:!0},{key:"institution_name",label:"SUC",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],perPage:10,sortBy_program:"program_name",sortDesc_program:!1,fields_program:[{key:"program_name",label:"Program",sortable:!0},{key:"level",label:"Applied Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0}],accreditorRequests:[],coordinatorRequests:[],programList:[],msiSelect:null,remark:"",requestType:0,accept:!1,reject:!1,programsModal:!1,search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",tabSelect:"tabSelect"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},showPrograms:function(t){var e=this;this.$store.dispatch("showAppliedProgram",t).then((function(t){e.programList=t.data.programs})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},acceptRequest:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("acceptRequest",this.msiSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("viewRequest",t.user.id).then((function(e){t.accreditorRequests=Ro(e.data.requests,"pending"),t.totalRows_accreditor=t.accreditorRequests.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},rejectRequest:function(){var t=this,e=this.msiSelect.id,a=this.remark;this.$isLoading(!0),this.$store.dispatch("rejectRequest",{request_id:e,remark:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("viewRequest",t.user.id).then((function(e){t.accreditorRequests=Ro(e.data.requests,"pending"),t.totalRows_accreditor=t.accreditorRequests.length})),t.remark="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.reject=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},coordinatorApproveRequest:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("coordinatorApproveRequest",this.msiSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("viewCoordinatorRequest").then((function(e){t.coordinatorRequests=Ro(e.data,"pending"),t.totalRows_accreditor=t.coordinatorRequests.length})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},coordinatorRejectRequest:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("coordinatorRejectRequest",this.msiSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("viewCoordinatorRequest").then((function(e){t.coordinatorRequests=Ro(e.data,"pending"),t.totalRows_accreditor=t.coordinatorRequests.length})),t.remark="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.reject=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("viewRequest",this.user.id).then((function(e){var a=Ro(e.data.requests,"pending");t.accreditorRequests=Do(a,t.search),t.totalRows_accreditor=t.accreditorRequests.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),"accreditor-request-0"!==t.tabSelect&&"accreditor-request-1"!==t.tabSelect&&t.$store.commit("saveTabSelect","accreditor-request-0"),e.next=4,t.$store.dispatch("viewRequest",t.user.id).then((function(e){t.accreditorRequests=Ro(e.data.requests,"pending"),t.totalRows_accreditor=t.accreditorRequests.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 4:return e.next=6,t.$store.dispatch("viewCoordinatorRequest").then((function(e){t.coordinatorRequests=Ro(e.data,"pending"),t.totalRows_accreditor=t.coordinatorRequests.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:return e.next=8,t.$isLoading(!1);case 8:case"end":return e.stop()}}),e)})))()}},Eo=Io,Uo=Object(L["a"])(Eo,Lo,Ao,!1,null,null,null),Oo=Uo.exports,Fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0","margin-top":"20px"},attrs:{id:"accreditor-accreditation-0","md-label":"Program Accreditor"}},[a("accreditorTable")],1),a("md-tab",{staticStyle:{padding:"0","margin-top":"20px"},attrs:{id:"accreditor-accreditation-1","md-label":"Overall Coordinator"}},[a("coordinatorTable")],1)],1)],1)],1)},Bo=[],No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Accreditation not Available")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.notAvailable=!1}}},[t._v("Close")])],1)]},proxy:!0}]),model:{value:t.notAvailable,callback:function(e){t.notAvailable=e},expression:"notAvailable"}},[t.msiSelect.approved_start_date?a("a",[t._v("\n      This accreditation will be available on\n      "+t._s(t.getDate(t.msiSelect.approved_start_date))+".\n    ")]):a("a",[t._v("This accreditation is currently unavailable.")])]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[t._m(0),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n        "+t._s(e.item.approved_start_date)+" to\n        "+t._s(e.item.approved_end_date)+" (Approved)\n      ")]):e.item.preferred_start_date?a("div",[t._v("\n        "+t._s(e.item.preferred_start_date)+" to\n        "+t._s(e.item.preferred_end_date)+" (Preferred)\n      ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){t.msiSelect=e.item,t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},Mo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("My Accreditation")])])}],jo=function(t){return t.toString().toLowerCase()},qo=function(t,e){return e?t.filter((function(t){return jo(t.program_name).includes(jo(e))})):t},zo={name:"AccreditationTask",data:function(){return{sortBy:"intended_program",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],msiSelect:{},search:null,notAvailable:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",role:"role"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},getDate:function(t){return E()(t).format("MMM Do YYYY")},select:function(t){null!=t&&(this.$store.commit("saveProgram",t),this.$store.commit("saveCoordinator",0),this.$store.commit("saveAccreditor",0),this.$router.push("/AccreditationArea"))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showTask",this.user.id).then((function(e){t.msiList=qo(e.data.program_external_accreditor,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showTask",t.user.id).then((function(e){t.msiList=e.data.program_external_accreditor,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Vo=zo,Ho=Object(L["a"])(Vo,No,Mo,!1,null,null,null),Yo=Ho.exports,Xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[t._m(0),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Title",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){t.msiSelect=e.item,t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},Wo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-layout-item"},[a("h4",[t._v("Overall Coordinator")])])}],Go=function(t){return t.toString().toLowerCase()},Jo=function(t,e){return e?t.filter((function(t){return Go(t.title).includes(Go(e))})):t},Qo={name:"AccreditationTask",data:function(){return{sortBy:"intended_program",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"institution_name",label:"SUC",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],msiSelect:{},search:null,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",role:"role"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},getDate:function(t){return E()(t).format("MMM Do YYYY")},select:function(t){null!=t&&(this.$store.commit("saveApplication",t),this.$store.commit("saveCoordinator",1),this.$router.push("/AccreditationProgramOC"))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showMyAccreditationApplication",this.user.id).then((function(e){t.msiList=Jo(e.data,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showMyAccreditationApplication",t.user.id).then((function(e){t.msiList=e.data,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},Ko=Qo,Zo=Object(L["a"])(Ko,Xo,Wo,!1,null,null,null),tc=Zo.exports,ec={name:"AccreditationTask",components:{accreditorTable:Yo,coordinatorTable:tc}},ac=ec,ic=Object(L["a"])(ac,Fo,Bo,!1,null,null,null),nc=ic.exports,sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Accreditation not Available")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.notAvailable=!1}}},[t._v("Close")])],1)]},proxy:!0}]),model:{value:t.notAvailable,callback:function(e){t.notAvailable=e},expression:"notAvailable"}},[t.msiSelect.approved_start_date?a("a",[t._v("\n      This accreditation will be available on\n      "+t._s(t.getDate(t.msiSelect.approved_start_date))+".\n    ")]):a("a",[t._v("This accreditation is currently unavailable.")])]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(this.application.title))]),a("h5",[t._v(t._s(this.application.institution_name))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(schedule)",fn:function(e){return[e.item.approved_start_date?a("div",[t._v("\n          "+t._s(e.item.approved_start_date)+" to\n          "+t._s(e.item.approved_end_date)+" (Approved)\n        ")]):e.item.preferred_start_date?a("div",[t._v("\n          "+t._s(e.item.preferred_start_date)+" to\n          "+t._s(e.item.preferred_end_date)+" (Preferred)\n        ")]):a("div")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){t.msiSelect=e.item,t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},rc=[],oc=function(t){return t.toString().toLowerCase()},cc=function(t,e){return e?t.filter((function(t){return oc(t.program_name).includes(oc(e))})):t},lc={name:"AccreditationTask",data:function(){return{sortBy:"intended_program",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"program_name",label:"Program",sortable:!0},{key:"campus_name",label:"Campus",sortable:!0},{key:"level",label:"Level",sortable:!0},{key:"schedule",label:"Schedule",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],msiSelect:{},search:null,notAvailable:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",application:"application"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},getDate:function(t){return E()(t).format("MMM Do YYYY")},select:function(t){null!=t&&(this.$store.commit("saveProgram",t),this.$store.commit("saveCoordinator",1),this.$store.commit("saveAccreditor",0),this.$router.push("/AccreditationAreaOC"))},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showAppliedProgram",this.application.application_id).then((function(e){t.msiList=cc(e.data.programs,t.search),t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showAppliedProgram",t.application.application_id).then((function(e){t.msiList=e.data.programs,t.totalRows=t.msiList.length})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$isLoading(!1);case 5:case"end":return e.stop()}}),e)})))()}},dc=lc,mc=Object(L["a"])(dc,sc,rc,!1,null,null,null),uc=mc.exports,pc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Accreditor")])]},proxy:!0}]),model:{value:t.assignAccreditor,callback:function(e){t.assignAccreditor=e},expression:"assignAccreditor"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignTask(e)}}},[a("b-form-group",{attrs:{id:"assignAccreditor-group-1",label:"Self Survey Accreditor:","label-for":"assignAccreditor-1"}},[a("multiselect",{attrs:{options:t.filterUsers(t.setUsers(t.instrumentSelect)),"custom-label":t.userName,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignAccreditor=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload "+t._s(t.type))])]},proxy:!0}]),model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadProgramFile()}}},[a("b-form-file",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",required:""},model:{value:t.filename[0],callback:function(e){t.$set(t.filename,0,e)},expression:"filename[0]"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.upload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeFile(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Locked")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.lockPrompt=!1}}},[t._v("Done")])]},proxy:!0}]),model:{value:t.lockPrompt,callback:function(e){t.lockPrompt=e},expression:"lockPrompt"}},[t._v("\n    This program is currently locked.\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v("Campus: "+t._s(t.program.campus_name))]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkRole()?a("b-dropdown",{attrs:{variant:"primary",text:"Upload Reports"}},[a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="SAR",t.upload=!0}}},[t._v("SAR")]),a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="SFR",t.upload=!0}}},[t._v("SFR")])],1):t.role.includes("internal")?a("b-dropdown",{attrs:{variant:"primary",text:"Upload Reports"}},[a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Internal SAR",t.upload=!0}}},[t._v("SAR")]),a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Internal SFR",t.upload=!0}}},[t._v("SFR")])],1):t._e()],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Accreditation Documents:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("PPP")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Compliance Report")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Narrative Report")]),a("b-form-select-option",{attrs:{value:4}},[t._v("SAR")]),a("b-form-select-option",{attrs:{value:5}},[t._v("SFR")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Rated Instrument")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search document",type:"text"},on:{input:function(e){return t.searchFileTable()}},model:{value:t.search_files,callback:function(e){t.search_files=e},expression:"search_files"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_files,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getType(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType()?t.filterByType().length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.areaList,fields:t.fields_lead,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(user)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(t.setUsers(e.item),(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.userSelect=e,t.deleteUserPrompt=!0}}},[t._v(t._s(t.concatName(e)))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.instrumentSelect=e.item,t.userSelect=null,t.assignAccreditor=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Download Rated Instrument"},on:{click:function(a){return t.downloadOBE(e.item)}}},[a("md-icon",[t._v("download")])],1)]}}])})],1)],1)},fc=[],hc=function(t){return t.toString().toLowerCase()},vc=function(t,e){return e?t.filter((function(t){return hc(t.file_title).includes(hc(e))})):t},gc={name:"AccreditationArea",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:5,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],fields_lead:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"user",label:"Accreditors",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"120px"}}],sortBy_report:"area_number",fields_report:[{key:"area",label:"Area Name"},{key:"weight",label:"Weight",thStyle:{width:"150px"}},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}},{key:"weighted_mean",label:"Weighted Mean",thStyle:{width:"150px"}}],fields_advancedReport:[{key:"area",label:"Area Name"},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0,thStyle:{width:"70px"}},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],area_mean:[],area_mean_internal:[],result:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],result_internal:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],taskList:[{}],meanList:[],programFiles:[],search_files:null,filterType:0,collection:[],instrument_programs:[],search:null,role:null,type:null,filename:[null],documentSelect:null,areaSelected:null,areaList:[],users:[],userList:[],userSelect:null,instrumentSelect:null,deletePrompt:!1,lockPrompt:!1,upload:!1,SAR:!1,internalSAR:!1,SFR:!1,reassign:!1,assignAccreditor:!1,deleteUserPrompt:!1,snackbarText:""}},components:{},computed:Object(w["a"])({},Object(h["b"])({program:"program",user:"user",campus:"campus",tabSelect:"tabSelect",coordinator:"coordinator"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},messageToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,noAutoHide:!0})},sortArea:function(t,e){return t.area_number-e.area_number},searchFileTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.program.id;this.role.includes("external")?this.$store.dispatch("showFileEA",{user_id:e,program_id:a}).then((function(e){t.programFiles=vc(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})):this.role.includes("internal")&&this.$store.dispatch("showFileIA",{user_id:e,program_id:a}).then((function(e){t.programFiles=vc(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterByType:function(){return 0===this.filterType?this.programFiles:1===this.filterType?this.programFiles.filter((function(t){return t.type.includes("PPP")})):2===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Compliance")})):3===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Narrative")})):4===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SAR")})):5===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SFR")})):6===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Rated Instrument")})):void 0},generateProgramSAR:function(){var t=this,e=this.user.id,a=this.program.id;this.$isLoading(!0),this.$store.dispatch("generateProgramSAR",{user_id:e,program_id:a}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},generateSFRReport:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("generateAccreditorReport",this.program.id).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},generateSFRAreaReport:function(){var t=this,e=this.program.id,a=this.areaSelected.id;this.$isLoading(!0),this.$store.dispatch("generateAccreditorAreaReport",{program_id:e,instrument_id:a}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showSFR:function(){var t=this,e=1;this.role.includes("internal")&&(e=0);var a=this.program.id;this.$isLoading(!0),this.$store.dispatch("showSFR",{program_id:a,role:e}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=new Blob([e.data],{type:"application/pdf"}),i=URL.createObjectURL(a);window.open(i),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadOBE:function(t){var e=this;this.$isLoading(!0);var a=this.program.id,i=t.id;this.$store.dispatch("downloadOBE",{program_id:a,instrument_id:i}).then((function(a){if(e.$isLoading(!1),!1===a.data.status)e.snackbarText=a.data.message,e.makeToast("Error","danger");else{var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download","".concat(t.area_name," Rated Instrument.pdf")),document.body.appendChild(n),n.click(),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},assignTask:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.id,i=this.userSelect.id;this.$store.dispatch("reassignAccreditor",{instrument_id:e,program_id:a,user_id:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignAccreditor=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAssignedUser",this.userSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},userName:function(t){return"".concat(this.concatName(t))},uploadProgramFile:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.user.id,i=this.filename,n=this.type,s=null;this.$store.dispatch("uploadProgramFile",{program_id:e,user_id:a,filename:i,type:n,area_number:s}).then((function(i){!0===i.data.status?(t.role.includes("external")?t.$store.dispatch("showFileEA",{user_id:a,program_id:e}).then((function(e){t.programFiles=e.data})):t.role.includes("internal")&&t.$store.dispatch("showFileIA",{user_id:a,program_id:e}).then((function(e){t.programFiles=e.data})),t.upload=!1,t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeFile:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.user.id;this.$store.dispatch("deleteProgramFile",{document_id:e,user_id:a}).then((function(e){if(!0===e.data.status){var a=t.programFiles.findIndex((function(e){return e.id===t.documentSelect.id}));t.programFiles.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setSFR:function(t){var e=this;this.$isLoading(!0);var a=this.program.id;this.checkRole()?this.$store.dispatch("showSFRData",{program_id:a,role:t}).then((function(t){e.collection=t.data.collection,e.instrument_programs=t.data.instrument_programs.sort(e.sortArea),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})):this.$store.dispatch("showPersonalSFRData",{program_id:a,role:t}).then((function(t){e.collection=t.data.collection,e.instrument_programs=t.data.instrument_programs.sort(e.sortArea),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},setUsers:function(t){return t?this.users.filter((function(e){return e.instrument_id===t.id})):null},filterUsers:function(t){var e=this;if(null!==t&&void 0!==t&&t.length){for(var a=[],i=function(i){t.find((function(t){return t.user_id===e.userList[i].user_id}))||a.push(e.userList[i])},n=0;n<this.userList.length;n++)i(n);return a}return this.userList},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},getDescription:function(t){if(t)return t<1.5?"Poor":t>=1.5&&t<2.5?"Fair":t>=2.5&&t<3.5?"Satisfactory":t>=3.5&&t<4.5?"Very Satisfactory":t>=4.5?"Excellent":null},getType:function(t){var e=t.type.replace("Internal","Self Survey");return t.area?e.concat(" - ",t.area):e},formatDate:function(t){return E()(t).format("llll")},fieldsReport:function(){return this.checkLevel()?this.fields_advancedReport:this.fields_report},checkLevel:function(){return!(42!==this.areaSelected.intended_program_id&&47!==this.areaSelected.intended_program_id&&!this.program.level.includes("Candidate"))},checkRole:function(){return!(1!==this.coordinator&&!this.role.includes("leader"))},back:function(){this.$router.push("/AccreditationTask")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),t.$store.commit("saveTabSelect","accreditation-0"),a=t.user.id,i=t.program.id,e.next=6,t.$store.dispatch("showFileEA",{user_id:a,program_id:i}).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:return e.next=8,t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$store.dispatch("showAccreditorRequested",t.program.id).then((function(e){t.userList=e.data.users})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 10:return e.next=12,t.$isLoading(!1);case 12:case"end":return e.stop()}}),e)})))()}},bc=gc,_c=Object(L["a"])(bc,pc,fc,!1,null,null,null),yc=_c.exports,kc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Ratings")]),t.checkRole()?a("div",["Candidate"===t.program.level?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateSFRReport()}}},[t._v("Download All")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateProgramSAR()}}},[t._v("Download All")])],1):t._e()]},proxy:!0}]),model:{value:t.SAR,callback:function(e){t.SAR=e},expression:"SAR"}},[a("div",[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.area_mean,fields:t.fieldsReport(),"sort-by":t.sortBy_report,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_report=e},"update:sort-by":function(e){t.sortBy_report=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(area_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}},{key:"cell(weighted_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}}])}),t.checkLevel()?a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean.length?t.roundNum(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean.length?t.getDescription(t.result[0].total_area_mean/t.area_mean.length):"NaN")+"\n          ")])]),a("br"),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.instrument_programs,expression:"instrument_programs"}]},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v(t._s(t.areaSelected?t.areaSelected.area_name:""))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)]),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b",[t._v("Instructions:")]),t._v("\n              Select and edit which statements that is best applied.\n            ")]),"Candidate"===t.program.level?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkRole()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateSFRAreaReport()}}},[t._v("Download Area PDF")]):t._e()],1):t._e()]),a("br"),"Candidate"===t.program.level?a("areaPSVR",{key:t.areaSelected,attrs:{areaSelected:t.areaSelected,collection:t.collection,role:t.role}}):a("areaAR",{key:t.areaSelected,attrs:{areaSelected:t.areaSelected,collection:t.collection,role:t.role}}),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)]):a("div",[t.checkLevel()?t._e():a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Total:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.result[0].total_weight)+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.roundNum(t.result[0].total_area_mean))+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.roundNum(t.result[0].total_weighted_mean))+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.roundNum(t.result[0].grand_mean))+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.getDescription(t.result[0].grand_mean))+"\n          ")])])])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.SAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{ref:"testHtml",attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Ratings")]),t.checkRole()?a("div",["Candidate"===t.program.level?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateSFRReport()}}},[t._v("Download All")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateProgramSAR()}}},[t._v("Download All")])],1):t._e()]},proxy:!0}]),model:{value:t.internalSAR,callback:function(e){t.internalSAR=e},expression:"internalSAR"}},[a("div",[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.area_mean_internal,fields:t.fieldsReport(),"sort-by":t.sortBy_report,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_report=e},"update:sort-by":function(e){t.sortBy_report=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(area_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}},{key:"cell(weighted_mean)",fn:function(e){return[t._v("\n          "+t._s(t.roundNum(e.value))+"\n        ")]}}])}),t.checkLevel()?a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean_internal.length?t.roundNum(t.result_internal[0].total_area_mean/t.area_mean_internal.length):"NaN")+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.area_mean_internal.length?t.getDescription(t.result_internal[0].total_area_mean/t.area_mean_internal.length):"NaN")+"\n          ")])]),a("br"),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.instrument_programs,expression:"instrument_programs"}]},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v(t._s(t.areaSelected?t.areaSelected.area_name:""))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)]),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b",[t._v("Instructions:")]),t._v("\n              Select and edit which statements that is best applied.\n            ")]),"Candidate"===t.program.level?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkRole()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateSFRAreaReport()}}},[t._v("Download Area PDF")]):t._e()],1):t._e()]),a("br"),"Candidate"===t.program.level?a("areaPSVR",{key:t.areaSelected,attrs:{areaSelected:t.areaSelected,collection:t.collection,role:t.role}}):a("areaAR",{key:t.areaSelected,attrs:{areaSelected:t.areaSelected,collection:t.collection,role:t.role}}),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)]):a("div",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Total:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.result_internal[0].total_weight)+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n            "+t._s(t.roundNum(t.result_internal[0].total_area_mean))+"\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.roundNum(t.result_internal[0].total_weighted_mean))+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Grand Mean:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.roundNum(t.result_internal[0].grand_mean))+"\n          ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n            Descriptive Rating:\n          ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"300px"}}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"138px"}},[t._v("\n            "+t._s(t.getDescription(t.result_internal[0].grand_mean))+"\n          ")])])])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.internalSAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Findings and Recommendations")]),t.checkRole()?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.showSFR()}}},[t._v("Download SFR")]):t._e()]},proxy:!0}]),model:{value:t.SFR,callback:function(e){t.SFR=e},expression:"SFR"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.instrument_programs,expression:"instrument_programs"}]},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v(t._s(t.areaSelected?t.areaSelected.area_name:""))])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)]),a("br"),a("areaSFR",{key:t.areaSelected,attrs:{areaSelected:t.areaSelected,collection:t.collection,role:t.role}}),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.instrument_programs,(function(e,i){return a("div",{key:i},[e.id===t.areaSelected.id?a("div",[t.instrument_programs[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i-1]}}},[t._v("Back")]):t._e(),t.instrument_programs[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0"},on:{click:function(e){t.areaSelected=t.instrument_programs[i+1]}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1),a("br"),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.SFR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Assign Accreditor")])]},proxy:!0}]),model:{value:t.assignAccreditor,callback:function(e){t.assignAccreditor=e},expression:"assignAccreditor"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignTask(e)}}},[a("b-form-group",{attrs:{id:"assignAccreditor-group-1",label:"Accreditor:","label-for":"assignAccreditor-1"}},[a("multiselect",{attrs:{options:t.filterUsers(t.setUsers(t.instrumentSelect)),"custom-label":t.userName,placeholder:null,required:""},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.assignAccreditor=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Add")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload "+t._s(t.type))])]},proxy:!0}]),model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadProgramFile()}}},[a("b-form-file",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",required:""},model:{value:t.filename[0],callback:function(e){t.$set(t.filename,0,e)},expression:"filename[0]"}}),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.upload=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeFile(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Locked")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.lockPrompt=!1}}},[t._v("Done")])]},proxy:!0}]),model:{value:t.lockPrompt,callback:function(e){t.lockPrompt=e},expression:"lockPrompt"}},[t._v("\n    This program is currently locked.\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove User")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteUserPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeUser(),t.deleteUserPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteUserPrompt,callback:function(e){t.deleteUserPrompt=e},expression:"deleteUserPrompt"}},[t._v("\n    Are you sure you want to remove this user?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v("Campus: "+t._s(t.program.campus_name))]),a("h5",[t._v("Accreditation Role: "+t._s(t.showRole))]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkRole()?a("b-dropdown",{attrs:{variant:"primary",text:"Upload Reports"}},[a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="SAR",t.upload=!0}}},[t._v("SAR")]),a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="SFR",t.upload=!0}}},[t._v("SFR")])],1):t.role.includes("internal")?a("b-dropdown",{attrs:{variant:"primary",text:"Upload Reports"}},[a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Internal SAR",t.upload=!0}}},[t._v("SAR")]),a("b-dropdown-item",{on:{click:function(e){t.filename=[null],t.type="Internal SFR",t.upload=!0}}},[t._v("SFR")])],1):t._e()],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h5",{staticStyle:{"margin-top":"15px"}},[t._v("Accreditation Documents:")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("PPP")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Compliance Report")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Narrative Report")]),a("b-form-select-option",{attrs:{value:4}},[t._v("SAR")]),a("b-form-select-option",{attrs:{value:5}},[t._v("SFR")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Rated Instrument")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search document",type:"text"},on:{input:function(e){return t.searchFileTable()}},model:{value:t.search_files,callback:function(e){t.search_files=e},expression:"search_files"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(),fields:t.fields_files,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy_files,"sort-desc":t.sortDesc,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_files=e},"update:sort-by":function(e){t.sortBy_files=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(file_title)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadReport(e.item)}}},[t._v(t._s(e.item.file_title))])]}},{key:"cell(type)",fn:function(e){return[t._v("\n        "+t._s(t.getType(e.item))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.documentSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType()?t.filterByType().length:0,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("br"),t.role.includes("internal")||!t.checkRole()?a("div",[a("h5",[t._v("Areas:")]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n          "+t._s(t.formatDate(e.value))+"\n        ")]}},{key:"cell(actions)",fn:function(e){return[t.checkLevel()?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Download Rated Instrument"},on:{click:function(a){return t.downloadOBE(e.item)}}},[a("md-icon",[t._v("download")])],1),t.role.includes("internal")?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Internal Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1),t.filterMessageByArea(t.messages,e.item.id).length>0?a("md-badge",{staticClass:"md-square",attrs:{"md-content":"New","md-dense":""}},[t.role.includes("internal")&&1===t.program.self_survey_status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(e){t.lockPrompt=!0}}},[a("md-icon",[t._v("forward")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)],1):a("span",[t.role.includes("internal")&&1===t.program.self_survey_status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(e){t.lockPrompt=!0}}},[a("md-icon",[t._v("forward")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)],1)]}}],null,!1,1733769841)})],1):a("md-tabs",{staticClass:"md-primary",attrs:{"md-active-tab":t.tabSelect,"md-elevation":"1"}},[a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"accreditation-0","md-label":"My Areas"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.msiList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatDate(e.value))+"\n          ")]}},{key:"cell(actions)",fn:function(e){return[t.checkLevel()?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Download Rated Instrument"},on:{click:function(a){return t.downloadOBE(e.item)}}},[a("md-icon",[t._v("download")])],1),t.role.includes("internal")?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Internal Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1),t.role.includes("internal")&&1===t.program.self_survey_status?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(e){t.lockPrompt=!0}}},[a("md-icon",[t._v("forward")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1),a("md-tab",{staticStyle:{padding:"0"},attrs:{id:"accreditation-1","md-label":"All Areas"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.areaList,fields:t.fields_lead,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(user)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{"add-on-change":"","no-outer-focus":""}},[[a("div",t._l(t.setUsers(e.item),(function(e,i){return a("span",{key:i},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.userSelect=e,t.deleteUserPrompt=!0}}},[t._v(t._s(t.concatName(e)))])],1)})),0)]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.instrumentSelect=e.item,t.userSelect=null,t.assignAccreditor=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(actions)",fn:function(e){return[t.checkLevel()?t._e():a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Download Rated Instrument"},on:{click:function(a){return t.downloadOBE(e.item)}}},[a("md-icon",[t._v("download")])],1),t.role.includes("internal")?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Internal Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Upload Rated Instrument"},on:{click:function(e){t.filename=[null],t.type="Rated Instrument",t.upload=!0}}},[a("md-icon",[t._v("upload")])],1)]}}])})],1)],1)],1)],1)},xc=[],Sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("md-tabs",{staticClass:"md-primary",attrs:{"md-elevation":"1"}},[a("md-tab",{attrs:{"md-label":"Select Remarks"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-checkbox",{attrs:{indeterminate:t.indeterminate,value:!0,"unchecked-value":!1},on:{change:function(e){t.setRemarks(t.filterCollection(t.areaSelected.id))}},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("\n            Select All\n          ")])],1)]),a("b-form-checkbox-group",{model:{value:t.remarkSelected,callback:function(e){t.remarkSelected=e},expression:"remarkSelected"}},t._l(t.filterCollection(t.areaSelected.id),(function(e,i){return a("div",{key:i},[a("h6",{staticStyle:{"font-size":"18px !important"}},[t._v(t._s(e.user_name)+":")]),a("b-table",{attrs:{items:e.best_practices,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Best Practices\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"Strength")}})],1)]}}],null,!0)}),a("b-table",{attrs:{items:e.strength_remarks,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Strength Remarks\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"Strength")}})],1)]}}],null,!0)}),a("b-table",{attrs:{items:e.weakness_remarks,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Areas Needing Improvement\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"Weakness")}})],1)]}}],null,!0)}),a("b-table",{attrs:{items:e.recommendations,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Recommendations\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"Recommendation")}})],1)]}}],null,!0)}),a("br")],1)})),0)],1),a("md-tab",{attrs:{"md-label":"Edit Remarks"}},[a("h6",[t._v("Strengths")]),t._l(t.selectedStrength,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark("Strength",i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("Strength")}}},[t._v("Add Strength")])],1)]),a("h6",[t._v("Areas Needing Improvement")]),t._l(t.selectedWeakness,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark("Weakness",i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("Weakness")}}},[t._v("Add Areas Needing Improvement")])],1)]),a("h6",[t._v("Recommendations")]),t._l(t.selectedRecommendation,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark("Recommendation",i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("Recommendation")}}},[t._v("Add Recommendation")])],1)])],2)],1),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.saveRemarks()}}},[t._v("Save Area Remarks")])],1)},Cc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"15px"}},[a("b",[t._v("Instructions:")]),t._v("\n    Select and edit which statements that is best applied.\n  ")])}],wc={name:"Generate SFR.vue",props:{areaSelected:Object,collection:Array,role:String},data:function(){return{remarkSelected:[],selectedStrength:[],selectedWeakness:[],selectedRecommendation:[],sortBy:"id",sortDesc:!1,selectAll:!1,indeterminate:!1,remarkCount:0,fields_SFR:[{key:"index",label:"",thStyle:{width:"40px"}},{key:"remark"},{key:"actions",label:"",thStyle:{width:"50px"}}]}},computed:Object(w["a"])({},Object(h["b"])({program:"program"})),watch:{remarkSelected:function(){0===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!1):this.remarkCount===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!0):(this.indeterminate=!0,this.selectAll=!1),this.selectedStrength=this.remarkSelected.filter((function(t){return"Strength"===t.type})),this.selectedWeakness=this.remarkSelected.filter((function(t){return"Weakness"===t.type})),this.selectedRecommendation=this.remarkSelected.filter((function(t){return"Recommendation"===t.type}))}},methods:{saveRemarks:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.areaSelected.id,i=[].concat(Object(rt["a"])(this.selectedStrength),Object(rt["a"])(this.selectedWeakness),Object(rt["a"])(this.selectedRecommendation)),n="External";this.role.includes("internal")&&(n="Internal"),this.$store.dispatch("saveSFR",{program_id:e,area_id:a,sfr:i,role:n}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setRemarks:function(t){var e=0,a=null,i=null;if(null!==t&&void 0!==t&&t.length)for(var n=0;n<t.length;n++){var s,r,o,c;if(null!==(s=t[n].best_practices)&&void 0!==s&&s.length)for(e=0;e<t[n].best_practices.length;e++)a=t[n].best_practices[e],i="Strength",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(r=t[n].strength_remarks)&&void 0!==r&&r.length)for(e=0;e<t[n].strength_remarks.length;e++)a=t[n].strength_remarks[e],i="Strength",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(o=t[n].weakness_remarks)&&void 0!==o&&o.length)for(e=0;e<t[n].weakness_remarks.length;e++)a=t[n].weakness_remarks[e],i="Weakness",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(c=t[n].recommendations)&&void 0!==c&&c.length)for(e=0;e<t[n].recommendations.length;e++)a=t[n].recommendations[e],i="Recommendation",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}))}},checkSelected:function(){var t=this,e=this.filterCollection(this.areaSelected.id),a=0,i=0;if(this.remarkCount=0,null!==e&&void 0!==e&&e.length)for(var n=function(n){var s,r,o,c;if(null!==(s=e[n].best_practices)&&void 0!==s&&s.length)for(a=0;a<e[n].best_practices.length;a++){var l;null!==(l=t.remarkSelected.filter((function(t){return t.remark===e[n].best_practices[a]})))&&void 0!==l&&l.length&&i++,t.remarkCount++}if(null!==(r=e[n].strength_remarks)&&void 0!==r&&r.length)for(a=0;a<e[n].strength_remarks.length;a++){var d;null!==(d=t.remarkSelected.filter((function(t){return t.remark===e[n].strength_remarks[a]})))&&void 0!==d&&d.length&&i++,t.remarkCount++}if(null!==(o=e[n].weakness_remarks)&&void 0!==o&&o.length)for(a=0;a<e[n].weakness_remarks.length;a++){var m;null!==(m=t.remarkSelected.filter((function(t){return t.remark===e[n].weakness_remarks[a]})))&&void 0!==m&&m.length&&i++,t.remarkCount++}if(null!==(c=e[n].recommendations)&&void 0!==c&&c.length)for(a=0;a<e[n].recommendations.length;a++){var u;null!==(u=t.remarkSelected.filter((function(t){return t.remark===e[n].recommendations[a]})))&&void 0!==u&&u.length&&i++,t.remarkCount++}},s=0;s<e.length;s++)n(s);return i},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},filterCollection:function(t){var e;if(null!==(e=this.collection)&&void 0!==e&&e.length)return this.collection.filter((function(e){return e.instrument_program_id===t}))},inputChange:function(t,e){return{remark:t,type:e}},addRemark:function(t){var e=null;"Strength"===t?this.selectedStrength.push({remark:e,type:t}):"Weakness"===t?this.selectedWeakness.push({remark:e,type:t}):"Recommendation"===t&&this.selectedRecommendation.push({remark:e,type:t})},removeRemark:function(t,e){"Strength"===t?this.selectedStrength.splice(e,1):"Weakness"===t?this.selectedWeakness.splice(e,1):"Recommendation"===t&&this.selectedRecommendation.splice(e,1)},arraymove:function(t,e,a){var i=t[e];t.splice(e,1),t.splice(a,0,i)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.areaSelected.id,n=1,t.role.includes("internal")&&(n=0),e.next=7,t.$store.dispatch("viewSFR",{program_id:a,area_id:i,role:n}).then((function(e){t.remarkSelected=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Tc=wc,Pc=Object(L["a"])(Tc,Sc,Cc,!1,null,null,null),Lc=Pc.exports,Ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-tabs",{staticClass:"md-primary",attrs:{"md-elevation":"1"}},[a("md-tab",{attrs:{"md-label":"Select Remarks"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-checkbox",{attrs:{indeterminate:t.indeterminate,value:!0,"unchecked-value":!1},on:{change:function(e){t.setRemarks(t.filterCollection(t.areaSelected.id))}},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("\n            Select All\n          ")])],1)]),a("b-form-checkbox-group",{model:{value:t.remarkSelected,callback:function(e){t.remarkSelected=e},expression:"remarkSelected"}},t._l(t.filterCollection(t.areaSelected.id),(function(e,i){return a("div",{key:i},[a("h6",{staticStyle:{"font-size":"18px !important"}},[t._v(t._s(e.user_name)+":")]),a("b-table",{attrs:{items:e.before_compliance,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Compliance Before the Award\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"before_compliance")}})],1)]}}],null,!0)}),a("b-table",{attrs:{items:e.after_compliance,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Compliance After the Award\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"after_compliance")}})],1)]}}],null,!0)}),a("br")],1)})),0)],1),a("md-tab",{attrs:{"md-label":"Edit Remarks"}},[a("h6",[t._v("Compliance Before the Award")]),t._l(t.filterRemarks("before_compliance"),(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("before_compliance")}}},[t._v("Add Statement")])],1)]),a("h6",[t._v("Compliance After the Award")]),t._l(t.filterRemarks("after_compliance"),(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("after_compliance")}}},[t._v("Add Statement")])],1)])],2)],1),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.saveRemarks()}}},[t._v("Save Area Remarks")])],1)},$c=[],Dc={name:"Generate SFR.vue",props:{areaSelected:Object,collection:Array,role:String},data:function(){return{remarkSelected:[],sortBy:"id",sortDesc:!1,selectAll:!1,indeterminate:!1,remarkCount:0,fields_SFR:[{key:"index",label:"",thStyle:{width:"40px"}},{key:"remark"},{key:"actions",label:"",thStyle:{width:"50px"}}]}},computed:Object(w["a"])({},Object(h["b"])({program:"program"})),watch:{remarkSelected:function(){0===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!1):this.remarkCount===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!0):(this.indeterminate=!0,this.selectAll=!1)}},methods:{saveRemarks:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.areaSelected.id,i=this.remarkSelected,n="External";this.role.includes("internal")&&(n="Internal"),this.$store.dispatch("saveSFR",{program_id:e,area_id:a,sfr:i,role:n}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setRemarks:function(t){var e=0,a=null,i=null;if(null!==t&&void 0!==t&&t.length)for(var n=0;n<t.length;n++){var s,r;if(null!==(s=t[n].before_compliance)&&void 0!==s&&s.length)for(e=0;e<t[n].before_compliance.length;e++)a=t[n].before_compliance[e],i="before_compliance",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(r=t[n].after_compliance)&&void 0!==r&&r.length)for(e=0;e<t[n].after_compliance.length;e++)a=t[n].after_compliance[e],i="after_compliance",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}))}},checkSelected:function(){var t=this,e=this.filterCollection(this.areaSelected.id),a=0,i=0;if(this.remarkCount=0,null!==e&&void 0!==e&&e.length)for(var n=function(n){var s,r;if(null!==(s=e[n].before_compliance)&&void 0!==s&&s.length)for(a=0;a<e[n].before_compliance.length;a++){var o;null!==(o=t.remarkSelected.filter((function(t){return t.remark===e[n].before_compliance[a]})))&&void 0!==o&&o.length&&i++,t.remarkCount++}if(null!==(r=e[n].after_compliance)&&void 0!==r&&r.length)for(a=0;a<e[n].after_compliance.length;a++){var c;null!==(c=t.remarkSelected.filter((function(t){return t.remark===e[n].after_compliance[a]})))&&void 0!==c&&c.length&&i++,t.remarkCount++}},s=0;s<e.length;s++)n(s);return i},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},filterRemarks:function(t){var e;if(null!==(e=this.remarkSelected)&&void 0!==e&&e.length)return this.remarkSelected.filter((function(e){return e.type===t}))},filterCollection:function(t){var e;if(null!==(e=this.collection)&&void 0!==e&&e.length)return this.collection.filter((function(e){return e.instrument_program_id===t}))},inputChange:function(t,e){return{remark:t,type:e}},addRemark:function(t){var e=null;this.remarkSelected.push({remark:e,type:t})},removeRemark:function(t){this.remarkSelected.splice(t,1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.areaSelected.id,n=1,t.role.includes("internal")&&(n=0),e.next=7,t.$store.dispatch("viewSFR",{program_id:a,area_id:i,role:n}).then((function(e){t.remarkSelected=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Rc=Dc,Ic=Object(L["a"])(Rc,Ac,$c,!1,null,null,null),Ec=Ic.exports,Uc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-tabs",{staticClass:"md-primary",attrs:{"md-elevation":"1"}},[a("md-tab",{attrs:{"md-label":"Select Remarks"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-checkbox",{attrs:{indeterminate:t.indeterminate,value:!0,"unchecked-value":!1},on:{change:function(e){t.setRemarks(t.filterCollection(t.areaSelected.id))}},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("\n            Select All\n          ")])],1)]),a("b-form-checkbox-group",{model:{value:t.remarkSelected,callback:function(e){t.remarkSelected=e},expression:"remarkSelected"}},t._l(t.filterCollection(t.areaSelected.id),(function(e,i){return a("div",{key:i},[a("h6",{staticStyle:{"font-size":"18px !important"}},[t._v(t._s(e.user_name)+":")]),a("b-table",{attrs:{items:e.recommendations,fields:t.fields_SFR,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[t._v("\n                "+t._s(e.index+1)+".\n              ")])]}},{key:"cell(remark)",fn:function(e){return[t._v("\n              "+t._s(e.item)+"\n            ")]}},{key:"head(remark)",fn:function(){return[t._v("\n              Recommendations\n            ")]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticStyle:{"padding-left":"50%",display:"flex","align-items":"center","justify-content":"center","text-align":"center"}},[a("b-form-checkbox",{attrs:{value:t.inputChange(e.item,"Recommendation")}})],1)]}}],null,!0)}),a("br")],1)})),0)],1),a("md-tab",{attrs:{"md-label":"Edit Remarks"}},[a("h6",[t._v("Recommendations")]),t._l(t.filterRemarks("Recommendation"),(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30px"}},[t._v("\n            "+t._s(i+1)+".\n          ")]),a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{attrs:{rows:"2","max-rows":"6"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"items.remark"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRemark(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0",width:"300px"},on:{click:function(e){return t.addRemark("Recommendation")}}},[t._v("Add Recommendation")])],1)])],2)],1),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.saveRemarks()}}},[t._v("Save Area Remarks")])],1)},Oc=[],Fc={name:"Generate SFR.vue",props:{areaSelected:Object,collection:Array,role:String},data:function(){return{remarkSelected:[],sortBy:"id",sortDesc:!1,selectAll:!1,indeterminate:!1,remarkCount:0,fields_SFR:[{key:"index",label:"",thStyle:{width:"40px"}},{key:"remark"},{key:"actions",label:"",thStyle:{width:"50px"}}]}},computed:Object(w["a"])({},Object(h["b"])({program:"program"})),watch:{remarkSelected:function(){0===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!1):this.remarkCount===this.checkSelected()?(this.indeterminate=!1,this.selectAll=!0):(this.indeterminate=!0,this.selectAll=!1)}},methods:{saveRemarks:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.areaSelected.id,i=this.remarkSelected,n="External";this.role.includes("internal")&&(n="Internal"),this.$store.dispatch("saveSFR",{program_id:e,area_id:a,sfr:i,role:n}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setRemarks:function(t){var e=0,a=null,i=null;if(null!==t&&void 0!==t&&t.length)for(var n=0;n<t.length;n++){var s,r,o,c;if(null!==(s=t[n].best_practices)&&void 0!==s&&s.length)for(e=0;e<t[n].best_practices.length;e++)a=t[n].best_practices[e],i="Strength",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(r=t[n].strength_remarks)&&void 0!==r&&r.length)for(e=0;e<t[n].strength_remarks.length;e++)a=t[n].strength_remarks[e],i="Strength",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(o=t[n].weakness_remarks)&&void 0!==o&&o.length)for(e=0;e<t[n].weakness_remarks.length;e++)a=t[n].weakness_remarks[e],i="Weakness",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}));if(null!==(c=t[n].recommendations)&&void 0!==c&&c.length)for(e=0;e<t[n].recommendations.length;e++)a=t[n].recommendations[e],i="Recommendation",!0===this.selectAll?this.remarkSelected.find((function(t){return t.remark===a}))||this.remarkSelected.push({remark:a,type:i}):this.remarkSelected=this.remarkSelected.filter((function(t){return t.remark!==a}))}},checkSelected:function(){var t=this,e=this.filterCollection(this.areaSelected.id),a=0,i=0;if(this.remarkCount=0,null!==e&&void 0!==e&&e.length)for(var n=function(n){var s,r,o,c;if(null!==(s=e[n].best_practices)&&void 0!==s&&s.length)for(a=0;a<e[n].best_practices.length;a++){var l;null!==(l=t.remarkSelected.filter((function(t){return t.remark===e[n].best_practices[a]})))&&void 0!==l&&l.length&&i++,t.remarkCount++}if(null!==(r=e[n].strength_remarks)&&void 0!==r&&r.length)for(a=0;a<e[n].strength_remarks.length;a++){var d;null!==(d=t.remarkSelected.filter((function(t){return t.remark===e[n].strength_remarks[a]})))&&void 0!==d&&d.length&&i++,t.remarkCount++}if(null!==(o=e[n].weakness_remarks)&&void 0!==o&&o.length)for(a=0;a<e[n].weakness_remarks.length;a++){var m;null!==(m=t.remarkSelected.filter((function(t){return t.remark===e[n].weakness_remarks[a]})))&&void 0!==m&&m.length&&i++,t.remarkCount++}if(null!==(c=e[n].recommendations)&&void 0!==c&&c.length)for(a=0;a<e[n].recommendations.length;a++){var u;null!==(u=t.remarkSelected.filter((function(t){return t.remark===e[n].recommendations[a]})))&&void 0!==u&&u.length&&i++,t.remarkCount++}},s=0;s<e.length;s++)n(s);return i},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},filterRemarks:function(t){var e;if(null!==(e=this.remarkSelected)&&void 0!==e&&e.length)return this.remarkSelected.filter((function(e){return e.type===t}))},filterCollection:function(t){var e;if(null!==(e=this.collection)&&void 0!==e&&e.length)return this.collection.filter((function(e){return e.instrument_program_id===t}))},inputChange:function(t,e){return{remark:t,type:e}},addRemark:function(t){var e=null;this.remarkSelected.push({remark:e,type:t})},removeRemark:function(t){this.remarkSelected.splice(t,1)}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.areaSelected.id,n=1,t.role.includes("internal")&&(n=0),e.next=7,t.$store.dispatch("viewSFR",{program_id:a,area_id:i,role:n}).then((function(e){t.remarkSelected=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$isLoading(!1);case 9:case"end":return e.stop()}}),e)})))()}},Bc=Fc,Nc=Object(L["a"])(Bc,Uc,Oc,!1,null,null,null),Mc=Nc.exports,jc=function(t){return t.toString().toLowerCase()},qc=function(t,e){return e?t.filter((function(t){return jc(t.file_title).includes(jc(e))})):t},zc={name:"AccreditationArea",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:5,fields:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"180px"}}],fields_lead:[{key:"id",label:"ID",sortable:!0},{key:"area_name",label:"Area",sortable:!0},{key:"user",label:"Accreditors",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"120px"}}],sortBy_report:"area_number",fields_report:[{key:"area",label:"Area Name"},{key:"weight",label:"Weight",thStyle:{width:"150px"}},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}},{key:"weighted_mean",label:"Weighted Mean",thStyle:{width:"150px"}}],fields_advancedReport:[{key:"area",label:"Area Name"},{key:"area_mean",label:"Area Mean",thStyle:{width:"150px"}}],sortBy_files:"type",fields_files:[{key:"id",label:"ID",sortable:!0,thStyle:{width:"70px"}},{key:"file_title",label:"Document",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],msiList:[],area_mean:[],area_mean_internal:[],result:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],result_internal:[{total_weight:null,total_area_mean:null,total_weighted_mean:null,grand_mean:null}],taskList:[{}],meanList:[],programFiles:[],search_files:null,filterType:0,collection:[],instrument_programs:[],search:null,role:null,type:null,filename:[null],documentSelect:null,areaSelected:null,areaList:[],users:[],userList:[],userSelect:null,instrumentSelect:null,messages:[],deletePrompt:!1,lockPrompt:!1,upload:!1,SAR:!1,internalSAR:!1,SFR:!1,reassign:!1,assignAccreditor:!1,deleteUserPrompt:!1,snackbarText:""}},components:{areaSFR:Lc,areaAR:Ec,areaPSVR:Mc},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({program:"program",user:"user",campus:"campus",tabSelect:"tabSelect",coordinator:"coordinator"})),{},{showRole:{get:function(){return this.role.includes("leader")?"Lead Accreditor":1===this.coordinator?"Overall Coordinator":"Accreditor"}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},messageToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,noAutoHide:!0})},sortArea:function(t,e){return t.area_number-e.area_number},searchFileTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.program.id;this.role.includes("external")?this.$store.dispatch("showFileEA",{user_id:e,program_id:a}).then((function(e){t.programFiles=qc(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})):this.role.includes("internal")&&this.$store.dispatch("showFileIA",{user_id:e,program_id:a}).then((function(e){t.programFiles=qc(e.data,t.search_files)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),filterByType:function(){return 0===this.filterType?this.programFiles:1===this.filterType?this.programFiles.filter((function(t){return t.type.includes("PPP")})):2===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Compliance")})):3===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Narrative")})):4===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SAR")})):5===this.filterType?this.programFiles.filter((function(t){return t.type.includes("SFR")})):6===this.filterType?this.programFiles.filter((function(t){return t.type.includes("Rated Instrument")})):void 0},generateProgramSAR:function(){var t=this,e=this.user.id,a=this.program.id;this.$isLoading(!0),this.$store.dispatch("generateProgramSAR",{user_id:e,program_id:a}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},generateSFRReport:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("generateAccreditorReport",this.program.id).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},generateSFRAreaReport:function(){var t=this,e=this.program.id,a=this.areaSelected.id;this.$isLoading(!0),this.$store.dispatch("generateAccreditorAreaReport",{program_id:e,instrument_id:a}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},showSFR:function(){var t=this,e=1;this.role.includes("internal")&&(e=0);var a=this.program.id;this.$isLoading(!0),this.$store.dispatch("showSFR",{program_id:a,role:e}).then((function(e){if(t.$isLoading(!1),!1===e.data.status)t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=new Blob([e.data],{type:"application/pdf"}),i=URL.createObjectURL(a);window.open(i),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadOBE:function(t){var e=this;this.$isLoading(!0);var a=this.program.id,i=t.id;this.$store.dispatch("downloadOBE",{program_id:a,instrument_id:i}).then((function(a){if(e.$isLoading(!1),!1===a.data.status)e.snackbarText=a.data.message,e.makeToast("Error","danger");else{var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download","".concat(t.area_name," Rated Instrument.pdf")),document.body.appendChild(n),n.click(),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},assignTask:function(){var t=this;this.$isLoading(!0);var e=this.instrumentSelect.id,a=this.program.id,i=this.userSelect.id;this.$store.dispatch("reassignAccreditor",{instrument_id:e,program_id:a,user_id:i}).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.assignAccreditor=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeUser:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteAssignedUser",this.userSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},userName:function(t){return"".concat(this.concatName(t))},uploadProgramFile:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.user.id,i=this.filename,n=this.type,s=null;this.$store.dispatch("uploadProgramFile",{program_id:e,user_id:a,filename:i,type:n,area_number:s}).then((function(i){!0===i.data.status?(t.role.includes("external")?t.$store.dispatch("showFileEA",{user_id:a,program_id:e}).then((function(e){t.programFiles=e.data})):t.role.includes("internal")&&t.$store.dispatch("showFileIA",{user_id:a,program_id:e}).then((function(e){t.programFiles=e.data})),t.upload=!1,t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=i.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadReport:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("viewProgramFile",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.file_title),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeFile:function(){var t=this;this.$isLoading(!0);var e=this.documentSelect.id,a=this.user.id;this.$store.dispatch("deleteProgramFile",{document_id:e,user_id:a}).then((function(e){if(!0===e.data.status){var a=t.programFiles.findIndex((function(e){return e.id===t.documentSelect.id}));t.programFiles.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setSFR:function(t){var e=this;this.$isLoading(!0);var a=this.program.id;this.checkRole()?this.$store.dispatch("showSFRData",{program_id:a,role:t}).then((function(t){e.collection=t.data.collection,e.instrument_programs=t.data.instrument_programs.sort(e.sortArea),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})):this.$store.dispatch("showPersonalSFRData",{program_id:a,role:t}).then((function(t){e.collection=t.data.collection,e.instrument_programs=t.data.instrument_programs.sort(e.sortArea),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},setUsers:function(t){return t?this.users.filter((function(e){return e.instrument_id===t.id})):null},filterUsers:function(t){var e=this;if(null!==t&&void 0!==t&&t.length){for(var a=[],i=function(i){t.find((function(t){return t.user_id===e.userList[i].user_id}))||a.push(e.userList[i])},n=0;n<this.userList.length;n++)i(n);return a}return this.userList},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},getDescription:function(t){if(t)return t<1.5?"Poor":t>=1.5&&t<2.5?"Fair":t>=2.5&&t<3.5?"Satisfactory":t>=3.5&&t<4.5?"Very Satisfactory":t>=4.5?"Excellent":null},getType:function(t){var e=t.type.replace("Internal","Self Survey");return t.area?e.concat(" - ",t.area):e},formatDate:function(t){return E()(t).format("llll")},select:function(t){if(null!=t){var e=this.taskList.find((function(e){return e.transaction_id===t.id}));this.$store.commit("saveAssignedUser",e.id),this.$store.commit("saveInstrument",t),this.$store.commit("saveRole",this.role),!this.areaSelected||42!==this.areaSelected.intended_program_id&&47!==this.areaSelected.intended_program_id?"Candidate"===this.program.level?1===this.coordinator?this.$router.push("/RateStatementPSVOC"):this.$router.push("/RateStatementPSV"):1===this.coordinator?this.$router.push("/AccreditationParameterOC"):this.$router.push("/AccreditationParameter"):1===this.coordinator?this.$router.push("/RateStatementFormOC"):this.$router.push("/RateStatementForm")}},fieldsReport:function(){return this.checkLevel()?this.fields_advancedReport:this.fields_report},checkLevel:function(){return!((!this.areaSelected||42!==this.areaSelected.intended_program_id&&47!==this.areaSelected.intended_program_id)&&!this.program.level.includes("Candidate"))},checkRole:function(){return!(1!==this.coordinator&&!this.role.includes("leader"))},filterMessageByArea:function(t,e){return null!==t&&void 0!==t&&t.length?this.role.includes("internal")?t.filter((function(t){return t.area_id===e&&"Internal"===t.type})):t.filter((function(t){return t.area_id===e&&"External"===t.type})):[]},back:function(){this.$router.push("/AccreditationTask")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),t.$store.commit("saveTabSelect","accreditation-0"),a=t.user.id,i=t.program.id,e.next=6,t.$store.dispatch("showTaskInstrument",{user_id:a,program_id:i}).then((function(e){for(var a,i=[],n=function(t){i.find((function(a){return a.area_number===e.data.areas[t].area_number}))||i.push(e.data.areas[t])},s=0;s<e.data.areas.length;s++)n(s);t.msiList=i.sort(t.sortArea),null!==(a=t.msiList)&&void 0!==a&&a.length&&(t.areaSelected=t.msiList[0]),t.area_mean=e.data.area_mean_external.sort(t.sortArea),t.area_mean_internal=e.data.area_mean_internal.sort(t.sortArea),t.result=e.data.result_external,t.result_internal=e.data.program_mean_internal,t.role=e.data.role,t.taskList=e.data.task})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:if(!t.role.includes("external")){e.next=15;break}return e.next=9,t.$store.dispatch("showFileEA",{user_id:a,program_id:i}).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 9:return e.next=11,t.$store.dispatch("showAccreditorInstrument",t.program.id).then((function(e){t.areaList=e.data.instruments.sort(t.sortArea),t.users=e.data.users,t.$isLoading(!1)})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 11:return e.next=13,t.$store.dispatch("showAccreditorRequested",t.program.id).then((function(e){t.userList=e.data.users})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 13:e.next=18;break;case 15:if(!t.role.includes("internal")){e.next=18;break}return e.next=18,t.$store.dispatch("showFileIA",{user_id:a,program_id:i}).then((function(e){t.programFiles=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 18:return e.next=20,t.$store.dispatch("showUnreadMessage",t.program.id).then((function(e){t.messages=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 20:return e.next=22,t.$isLoading(!1);case 22:case"end":return e.stop()}}),e)})))()}},Vc=zc,Hc=Object(L["a"])(Vc,kc,xc,!1,null,null,null),Yc=Hc.exports,Xc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Accreditor Summary of Ratings")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateAreaSAR()}}},[t._v("Download PDF")])]},proxy:!0}]),model:{value:t.SAR,callback:function(e){t.SAR=e},expression:"SAR"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.parameters,fields:t.fields_report,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(individual_rating)",fn:function(e){return t._l(t.getMean(e.item.id),(function(e,i){return a("div",{key:i},[t._v("\n          "+t._s(e.last_name)+": "+t._s(t.roundNum(e.parameter_mean))+"\n        ")])}))}},{key:"cell(calculated_rating)",fn:function(e){return[t._v("\n        "+t._s(t.roundNum(t.getParameterMean(e.item.id).average_mean))+"\n        "),"unaccepted"===t.getParameterMean(e.item.id).status?a("span",[t._v("("+t._s(t.getParameterMean(e.item.id).status)+")")]):t._e()]}},{key:"cell(descriptive_rating)",fn:function(e){return[t._v("\n        "+t._s(t.getDescription(t.getParameterMean(e.item.id)))+"\n      ")]}}])}),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n        Total:\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"310px"}},[t._v("\n        "+t._s(t.roundNum(t.area_mean[0].total))+"\n      ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n        Mean:\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"160px"}},[t._v("\n        "+t._s(t.roundNum(t.area_mean[0].area_mean))+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n        "+t._s(t.getDescription(t.area_mean[0].area_mean))+"\n      ")])]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.SAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Accreditor Summary of Ratings")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"150px",margin:"0"},on:{click:function(e){return t.generateAreaSARInternal()}}},[t._v("Download PDF")])]},proxy:!0}]),model:{value:t.internalSAR,callback:function(e){t.internalSAR=e},expression:"internalSAR"}},[a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"10px"},attrs:{items:t.parameters,fields:t.fields_report,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(individual_rating)",fn:function(e){return t._l(t.getInternalMean(e.item.id),(function(e,i){return a("div",{key:i},[t._v("\n          "+t._s(e.last_name)+":\n          "+t._s(t.roundNum(e.parameter_mean))+"\n        ")])}))}},{key:"cell(calculated_rating)",fn:function(e){return[t._v("\n        "+t._s(t.roundNum(t.getInternalParameterMean(e.item.id).average_mean))+"\n      ")]}},{key:"cell(descriptive_rating)",fn:function(e){return[t._v("\n        "+t._s(t.getDescription(t.getInternalParameterMean(e.item.id).average_mean))+"\n      ")]}}])}),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n        Total:\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"310px"}},[t._v("\n        "+t._s(t.roundNum(t.internal_area_mean[0].total))+"\n      ")])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"fit-content","margin-right":"21px","font-weight":"bold"}},[t._v("\n        Mean:\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"160px"}},[t._v("\n        "+t._s(t.roundNum(t.internal_area_mean[0].area_mean))+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"150px"}},[t._v("\n        "+t._s(t.getDescription(t.internal_area_mean[0].area_mean))+"\n      ")])]),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.internalSAR=!1}}},[t._v("Close")])],1)])],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Findings and Recommendations")])]},proxy:!0}]),model:{value:t.SFR,callback:function(e){t.SFR=e},expression:"SFR"}},[a("h6",{staticStyle:{"font-weight":"bold"}},[t._v("Strengths:")]),t._l(t.filterStrength(),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.remark)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("Best Practices:")]),t._l(t.filterBestPractice(t.best_practice),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.best_practice)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("\n      Areas Needing Improvement:\n    ")]),t._l(t.filterWeakness(),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.remark)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("Recommendations:")]),t._l(t.recommendationList,(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.recommendation)+"\n    ")])})),t._l(t.recommendation,(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",placeholder:"Enter recommendation"},model:{value:t.recommendation[i],callback:function(e){t.$set(t.recommendation,i,e)},expression:"recommendation[counter]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRecommendation(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRecommendation()}}},[t._v("Add Recommendation")])],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.SFR=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.saveRecommendation(),t.SFR=!1}}},[t._v("Submit")])],1)],2),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Summary of Findings and Recommendations")])]},proxy:!0}]),model:{value:t.internalSFR,callback:function(e){t.internalSFR=e},expression:"internalSFR"}},[a("h6",{staticStyle:{"font-weight":"bold"}},[t._v("Strengths:")]),t._l(t.filterStrength(),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.remark)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("Best Practices:")]),t._l(t.filterBestPractice(t.best_practice_internal),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.best_practice)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("\n      Areas Needing Improvement:\n    ")]),t._l(t.filterWeakness(),(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.remark)+"\n    ")])})),a("h6",{staticStyle:{"font-weight":"bold","margin-top":"10px"}},[t._v("Recommendations:")]),t._l(t.recommendationList,(function(e,i){return a("div",{key:i},[t._v("\n      "+t._s(e.recommendation)+"\n    ")])})),t._l(t.recommendation,(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",placeholder:"Enter recommendation"},model:{value:t.recommendation[i],callback:function(e){t.$set(t.recommendation,i,e)},expression:"recommendation[counter]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRecommendation(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRecommendation()}}},[t._v("Add Recommendation")])],1),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.internalSFR=!1}}},[t._v("Cancel")]),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.saveRecommendation(),t.internalSFR=!1}}},[t._v("Submit")])],1)])],2),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("h4",[t._v("Program: "+t._s(t.program.program_name))]),a("h5",[t._v("Campus: "+t._s(t.program.campus_name))]),a("h5",[t._v(t._s(t.instrument.area_name))]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.parameters,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[t.filterMessageByParameter(t.messages,e.item.id).length>0?a("md-badge",{staticClass:"md-square",attrs:{"md-content":"New","md-dense":""}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Select"},on:{click:function(a){return t.select(e.item)}}},[a("md-icon",[t._v("forward")])],1)]}}])})],1)],1)},Wc=[],Gc=function(t,e){return e?t.find((function(t){return t.program_parameter_id===e})):t},Jc=function(t,e){return e?t.filter((function(t){return t.program_parameter_id===e})):t},Qc={name:"AccreditationParameter",data:function(){return{sortBy:"parameter",sortDesc:!1,fields:[{key:"id",label:"ID",sortable:!0},{key:"parameter",label:"Parameter",sortable:!0},{key:"updated_at",label:"Last Update",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],fields_report:[{key:"parameter",label:"Parameter"},{key:"individual_rating",label:"Accreditor Rating"},{key:"calculated_rating",label:"Rating",thStyle:{width:"160px"}},{key:"descriptive_rating",label:"Descriptive Rating",thStyle:{width:"160px"}}],parameters:[],accreditor_mean:[],parameter_mean:[],area_mean:[],internal_mean:[],internal_parameter_mean:[],internal_area_mean:[],remarkList:[],best_practice:[],best_practice_internal:[],recommendationList:[],recommendation:[null],search:null,role:null,messages:[],SAR:!1,internalSAR:!1,SFR:!1,internalSFR:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({user:"user",program:"program",instrument:"instrument",assigned_user_id:"assigned_user_id",coordinator:"coordinator"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},generateAreaSAR:function(){var t=this,e=this.instrument.id,a=this.program.id;this.$isLoading(!0),this.$store.dispatch("generateAreaSAR",{instrument_id:e,program_id:a}).then((function(e){if(!1===e.data.status)t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," ").concat(t.instrument.area_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},generateAreaSARInternal:function(){var t=this,e=this.instrument.id,a=this.program.id;this.$isLoading(!0),this.$store.dispatch("generateAreaSARInternal",{instrument_id:e,program_id:a}).then((function(e){if(!1===e.data.status)t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger");else{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t.program.program_name," ").concat(t.instrument.area_name," SAR.pdf")),document.body.appendChild(i),i.click(),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},saveRecommendation:function(){var t=this;if(this.$isLoading(!0),null===this.recommendation[0])this.SFR=!1,this.internalSFR=!1;else{var e=this.assigned_user_id,a=this.recommendation;this.$store.dispatch("saveRecommendation",{user_id:e,recommendations:a}).then((function(e){!0===e.data.status?(t.recommendation=[null],t.$store.dispatch("showRecommendation",t.assigned_user_id).then((function(e){t.recommendationList=e.data})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}},select:function(t){null!=t&&(this.$store.commit("saveParameter",t),1===this.coordinator?this.$router.push("/RateStatementOC"):this.$router.push("/RateStatement"))},getDescription:function(t){if(t)return t<1.5?"Poor":t>=1.5&&t<2.5?"Fair":t>=2.5&&t<3.5?"Satisfactory":t>=3.5&&t<4.5?"Very Satisfactory":t>=4.5?"Excellent":null},filterStrength:function(){var t;if(null!==(t=this.remarkList)&&void 0!==t&&t.length)return this.remarkList.filter((function(t){return"Strength"===t.remark_type}))},filterWeakness:function(){var t;if(null!==(t=this.remarkList)&&void 0!==t&&t.length)return this.remarkList.filter((function(t){return"Weakness"===t.remark_type}))},filterBestPractice:function(t){var e=this;if(null!==t&&void 0!==t&&t.length)return t.filter((function(t){return t.assigned_user_id===e.assigned_user_id}))},addRecommendation:function(){this.recommendation.push(null)},removeRecommendation:function(t){this.recommendation.splice(t,1)},getMean:function(t){return Jc(this.accreditor_mean,t)},getParameterMean:function(t){return Gc(this.parameter_mean,t)},getInternalMean:function(t){return Jc(this.internal_mean,t)},getInternalParameterMean:function(t){return Gc(this.internal_parameter_mean,t)},formatDate:function(t){return E()(t).format("llll")},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},filterMessageByParameter:function(t,e){return null!==t&&void 0!==t&&t.length?this.role.includes("internal")?t.filter((function(t){return t.parameter_id===e&&"Internal"===t.type})):t.filter((function(t){return t.parameter_id===e&&"External"===t.type})):[]},back:function(){this.$router.push("/AccreditationArea")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.user.id,i=t.instrument.id,n=t.program.id,t.$isLoading(!0),e.next=6,t.$store.dispatch("showTaskParameter",{instrument_id:i,program_id:n}).then((function(e){t.parameters=e.data.parameters,t.accreditor_mean=e.data.means,t.parameter_mean=e.data.result,t.area_mean=e.data.area_mean,t.internal_mean=e.data.means_internal,t.internal_parameter_mean=e.data.result_internal,t.internal_area_mean=e.data.area_mean_internal,t.best_practice=e.data.best_practice,t.best_practice_internal=e.data.best_practice_internal})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 6:return e.next=8,t.$store.dispatch("showTaskInstrument",{user_id:a,program_id:n}).then((function(e){t.role=e.data.role})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return e.next=10,t.$store.dispatch("showRecommendation",t.assigned_user_id).then((function(e){t.recommendationList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 10:return s=t.instrument.id,t.$store.dispatch("showStatementDocument",{user_id:a,transaction_id:s}).then((function(e){t.remarkList=e.data.remarks})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")})),e.next=14,t.$store.dispatch("showUnreadMessage",t.program.id).then((function(e){t.messages=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 14:return e.next=16,t.$isLoading(!1);case 16:case"end":return e.stop()}}),e)})))()}},Kc=Qc,Zc=Object(L["a"])(Kc,Xc,Wc,!1,null,null,null),tl=Zc.exports,el=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"rate"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},["General"===t.statement.remark_type&&t.statement.remark?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n      "+t._s(t.concatName(t.user))+"\n      "),a("h6",[t._v('"'+t._s(t.statement.remark)+'"')])]):t._e(),t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])})),a("div",{attrs:{id:"latestMessage"}})],2),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v(t._s(t.program.program_name))]),a("h5",[t._v("Campus: "+t._s(t.program.campus_name))]),a("h5",[t._v(t._s(t.instrument.area_name))]),a("b-dropdown",{attrs:{text:t.parameter.parameter,variant:"primary"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){t.changeParameter(e.id),t.$store.commit("saveParameter",e)}}},[t._v(t._s(e.parameter))])],1)})),0)],1)]),a("div",t._l(t.type,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[""===t.search?a("div",{staticClass:"md-layout-item",staticStyle:{"padding-top":"10px"}},[a("h5",[t._v(t._s(e.type))])]):t._e(),a("div",{staticClass:"md-layout-item"}),0===i?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e()]),""===t.search?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.sortStatements(e.type),fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n              "+t._s(e.value)+"\n\n              "),a("br"),a("br"),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                        "+t._s(i+1)+".\n                      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1)])])})),0)],1)],1)]}},{key:"cell(rating)",fn:function(e){return[t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?a("div",[a("b-form-input",{attrs:{disabled:""},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[t._v(t._s(e.item.item_score=t.getMean(e.item.benchmark_statement_id)))])],1):a("div",[a("b-form-select",{on:{change:function(e){return t.autoSaveScore()}},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("n/a")]),a("b-form-select-option",{attrs:{value:0}},[t._v("0.00")]),a("b-form-select-option",{attrs:{value:1}},[t._v("1.00")]),a("b-form-select-option",{attrs:{value:2}},[t._v("2.00")]),a("b-form-select-option",{attrs:{value:3}},[t._v("3.00")]),a("b-form-select-option",{attrs:{value:4}},[t._v("4.00")]),a("b-form-select-option",{attrs:{value:5}},[t._v("5.00")])],1)],1)]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-radio",{attrs:{value:null},on:{input:function(a){e.item.remark=null,t.autoSaveScore()}},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("None")]),a("b-form-radio",{attrs:{value:"Strength"},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("Strength")]),a("b-form-radio",{attrs:{value:"Weakness"},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("Weakness")])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkMessage(e.item.id)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1)]),"General"!==e.item.remark_type&&e.item.remark_type?a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter remark...",rows:"3","max-rows":"6"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.remark,callback:function(a){t.$set(e.item,"remark",a)},expression:"row.item.remark"}}):a("b-form-textarea",{attrs:{id:"statement","v-model":e.item.remark,rows:"3","max-rows":"6",disabled:""},on:{input:function(e){return t.autoSaveScore()}}})]}}],null,!0)}):0===i?a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",[t._v("\n              "+t._s(e.value)+"\n\n              "),a("br"),a("br"),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                        "+t._s(i+1)+".\n                      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1)])])})),0)],1)],1)]}},{key:"cell(rating)",fn:function(e){return[t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?a("div",[a("b-form-input",{attrs:{disabled:""},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[t._v(t._s(e.item.item_score=t.getMean(e.item.benchmark_statement_id)))])],1):a("div",[a("b-form-select",{on:{change:function(e){return t.autoSaveScore()}},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("n/a")]),a("b-form-select-option",{attrs:{value:0}},[t._v("0.00")]),a("b-form-select-option",{attrs:{value:1}},[t._v("1.00")]),a("b-form-select-option",{attrs:{value:2}},[t._v("2.00")]),a("b-form-select-option",{attrs:{value:3}},[t._v("3.00")]),a("b-form-select-option",{attrs:{value:4}},[t._v("4.00")]),a("b-form-select-option",{attrs:{value:5}},[t._v("5.00")])],1)],1)]}},{key:"cell(remark)",fn:function(e){return[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("b-form-radio",{attrs:{value:null},on:{input:function(a){e.item.remark=null,t.autoSaveScore()}},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("None")]),a("b-form-radio",{attrs:{value:"Strength"},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("Strength")]),a("b-form-radio",{attrs:{value:"Weakness"},model:{value:e.item.remark_type,callback:function(a){t.$set(e.item,"remark_type",a)},expression:"row.item.remark_type"}},[t._v("Weakness")])],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[t.checkMessage(e.item.id)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1)]),"General"!==e.item.remark_type&&e.item.remark_type?a("b-form-textarea",{attrs:{id:"statement",placeholder:"Enter remark...",rows:"3","max-rows":"6"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.remark,callback:function(a){t.$set(e.item,"remark",a)},expression:"row.item.remark"}}):a("b-form-textarea",{attrs:{id:"statement",rows:"3","max-rows":"6",disabled:""},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.remark,callback:function(a){t.$set(e.item,"remark",a)},expression:"row.item.remark"}})]}}],null,!0)}):t._e()],1)})),0),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Strength Remarks:")]),t._l(t.filterStrength(),(function(e,i){return a("div",{key:i},[t._v("\n                "+t._s(e.remark)+"\n              ")])}))],2)]),a("h6",[t._v("Best Practices:")]),t._l(t.best_practices,(function(e,i){return a("div",{key:i},[t._v("\n            "+t._s(e.best_practice)+"\n          ")])})),a("br"),t._l(t.recommendation,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm"},on:{input:function(e){return t.autoSaveScore()}},model:{value:t.recommendation[i],callback:function(e){t.$set(t.recommendation,i,e)},expression:"recommendation[counter]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRecommendation(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRecommendation()}}},[t._v("Add Best Practice")])],1)],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"30%"}},[a("md-card",{staticStyle:{padding:"15px 20px"}},[a("h6",[t._v("System Input Mean: "+t._s(t.roundNum(t.systemInputMean)))]),a("h6",[t._v("Implementation Mean: "+t._s(t.roundNum(t.implementationMean)))]),a("h6",[t._v("Outcome Mean: "+t._s(t.roundNum(t.outcomeMean)))]),a("h5",[t._v("Parameter Mean: "+t._s(t.roundNum(t.parameterMean)))])])],1)]),a("br"),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.setScore()}}},[t._v("Save Rating")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.parameters,(function(e,i){return a("div",{key:i},[e.parameter===t.parameter.parameter?a("div",[t.parameters[i-1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i-1].id),t.$store.commit("saveParameter",t.parameters[i-1]),t.window.scrollTo(0,0)}}},[t._v("Back")]):t._e(),t.parameters[i+1]?a("md-button",{staticClass:"md-primary md-raised md-dense",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){t.changeParameter(t.parameters[i+1].id),t.$store.commit("saveParameter",t.parameters[i+1]),t.window.scrollTo(0,0)}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)],1)},al=[],il=function(t){return t.toString().toLowerCase()},nl=function(t,e){return t&&e?t.filter((function(t){return il(t.statement).includes(il(e))})):t},sl=function(t,e){return t&&e?t.filter((function(t){return t.program_parameter_id===e})):t},rl=function(t,e){return t&&e?t.filter((function(t){return t.type===e})):t},ol=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},cl=function(t,e){if(t||e)return t.filter((function(t){return t.statement_id===e}))},ll={name:"RateStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Statement",sortable:!0},{key:"rating",label:"Rating",thStyle:{width:"100px"}},{key:"remark",label:"Remarks",thStyle:{width:"350px"}}],statementList:[{}],statement:{},index:null,item_score:null,remark:null,search:"",remarkDialog:!1,commentDialog:!1,remarkToggle:!1,fileSelection:["file 1","file 2"],items:[],type:[{type:"System Input"},{type:"Implementation"},{type:"Outcome"}],parameters:[{}],best_practices:[],recommendation:[null],snackbarText:"",messages:[],unreadMessages:[],message:null,chatbox:!1}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({user:"user",instrument:"instrument",parameter:"parameter",program:"program",assigned_user_id:"assigned_user_id",accreditor_role:"accreditor_role"})),{},{systemInputMean:{get:function(){var t=this.sortStatements("System Input");if(null!==t&&void 0!==t&&t.length){for(var e=0,a=0,i=0;i<t.length;i++)null===t[i].parent_statement_id&&null!==t[i].item_score&&(e+=parseFloat(t[i].item_score),a+=1);return parseFloat((e/a).toFixed(2))}return null}},implementationMean:{get:function(){var t=this.sortStatements("Implementation");if(null!==t&&void 0!==t&&t.length){for(var e=0,a=0,i=0;i<t.length;i++)null===t[i].parent_statement_id&&null!==t[i].item_score&&(e+=parseFloat(t[i].item_score),a+=1);return parseFloat((e/a).toFixed(2))}return null}},outcomeMean:{get:function(){var t=this.sortStatements("Outcome");if(null!==t&&void 0!==t&&t.length){for(var e=0,a=0,i=0;i<t.length;i++)null===t[i].parent_statement_id&&null!==t[i].item_score&&(e+=parseFloat(t[i].item_score),a+=1);return parseFloat((e/a).toFixed(2))}return null}},parameterMean:{get:function(){var t;if(null!==(t=this.statementList)&&void 0!==t&&t.length){var e=0,a=0;return parseFloat(this.systemInputMean)>=0&&(e+=parseFloat(this.systemInputMean),a+=1),parseFloat(this.implementationMean)>=0&&(e+=parseFloat(this.implementationMean),a+=1),parseFloat(this.outcomeMean)>=0&&(e+=parseFloat(this.outcomeMean),a+=1),parseFloat((e/a).toFixed(2))}return null}}}),methods:{showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},messageToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,noAutoHide:!0})},setScore:function(){for(var t=this,e=0;e<this.statementList.length;e++)if(null!==this.statementList[e].item_score||null!==this.statementList[e].remark){var a=this.statementList[e].item_id,i=this.statementList[e].assigned_user_id,n=this.statementList[e].item_score,s=this.statementList[e].remark,r=this.statementList[e].remark_type;this.items.push({id:a,user_id:i,score:n,remark:s,remark_type:r})}var o=this.parameter.id,c=this.assigned_user_id,l=this.items,d=this.parameterMean,m=[];null!==this.recommendation[0]&&(m=this.recommendation),this.$isLoading(!0),this.$store.dispatch("setScore",{parameter_id:o,assigned_user_id:c,items:l,parameter_mean:d,best_practices:m}).then((function(e){if(!0===e.data.status){var a=t.parameter.id,i=t.assigned_user_id;t.recommendation=[null],t.$store.dispatch("showBestPractice",{parameter_id:a,assigned_user_id:i}).then((function(e){t.$isLoading(!1),t.best_practices=e.data})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},autoSaveScore:G.a.debounce((function(){for(var t=0;t<this.statementList.length;t++){var e=this.statementList[t].item_id,a=this.statementList[t].assigned_user_id,i=this.statementList[t].item_score,n=this.statementList[t].remark,s=this.statementList[t].remark_type;this.items.push({id:e,user_id:a,score:i,remark:n,remark_type:s})}var r=this.parameter.id,o=this.assigned_user_id,c=this.items,l=this.parameterMean,d=[];this.$store.dispatch("setScore",{parameter_id:r,assigned_user_id:o,items:c,parameter_mean:l,best_practices:d})}),1e3),sortStatements:function(t){return rl(this.statementList,t)},comments:function(){this.statementList[this.index].remark=this.statement.remark,this.statementList[this.index].remark_type="General"},remarkStrength:function(){this.statementList[this.index].remark=this.statement.remark,this.statementList[this.index].remark_type="Strength"},remarkWeakness:function(){this.statementList[this.index].remark=this.statement.remark,this.statementList[this.index].remark_type="Weakness"},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=ol(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},getMean:function(t){var e;if(null!==(e=this.statementList)&&void 0!==e&&e.length){for(var a=0,i=0,n=0;n<this.statementList.length;n++)this.statementList[n].parent_statement_id===t&&null!==this.statementList[n].item_score&&(a+=parseFloat(this.statementList[n].item_score),i+=1);var s=parseFloat((a/i).toFixed(2));return isNaN(s)?null:this.roundNum(s)}},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},filterAttachments:function(t){var e=cl(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){var a=sl(e.data.statements,t.parameter.id);t.statementList=nl(a,t.search),t.unreadMessages=e.data.unread_message_count})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),setComment:function(){this.statement.remark&&"General"!==this.statement.remark_type&&(this.statement.remark="")},setRemark:function(){this.statement.remark&&("General"===this.statement.remark_type&&(this.statement.remark=""),this.remarkToggle="Strength"!==this.statement.remark_type)},filterStrength:function(){var t;if(null!==(t=this.statementList)&&void 0!==t&&t.length)return this.statementList.filter((function(t){return"Strength"===t.remark_type}))},filterWeakness:function(){var t;if(null!==(t=this.statementList)&&void 0!==t&&t.length)return this.statementList.filter((function(t){return"Weakness"===t.remark_type}))},addRecommendation:function(){this.recommendation.push(null)},removeRecommendation:function(t){this.recommendation.splice(t,1)},changeParameter:function(t){var e=this,a=this.program.id,i=this.instrument.id;this.$isLoading(!0),this.$nextTick((function(){document.getElementById("rate").scrollIntoView()})),this.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(a){e.statementList=sl(a.data.statements,t),e.unreadMessages=a.data.unread_message_count,e.attachmentList=a.data.documents;var i=e.assigned_user_id;e.$store.dispatch("showBestPractice",{parameter_id:t,assigned_user_id:i}).then((function(t){e.best_practices=t.data})),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},getId:function(t){return t.toString()},concatName:function(t){if(t){if(t.first_name&&t.last_name)return t.first_name.concat(" ",t.last_name);if(t.last_name)return t.last_name;if(t.first_name)return t.first_name}},showRemark:function(t){var e=this,a=this.program.id,i=t,n=0;this.accreditor_role.includes("external")&&(n=1),this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";this.accreditor_role.includes("external")&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t){return this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal:this.accreditor_role.includes("external")?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t){this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:this.accreditor_role.includes("external")&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/AccreditationParameter")}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.program.id,i=t.instrument.id,t.$isLoading(!0),e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){t.statementList=sl(e.data.statements,t.parameter.id),t.unreadMessages=e.data.unread_message_count,t.attachmentList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return n=t.instrument.id,e.next=8,t.$store.dispatch("showTaskParameter",{instrument_id:n,program_id:a}).then((function(e){e.data.parameters.length>1?t.parameters=e.data.parameters.sort((function(t,e){return t.parameter.localeCompare(e.parameter)})):t.parameters=e.data.parameters})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 8:return s=t.parameter.id,r=t.assigned_user_id,e.next=12,t.$store.dispatch("showBestPractice",{parameter_id:s,assigned_user_id:r}).then((function(e){t.best_practices=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 12:return e.next=14,t.$isLoading(!1);case 14:case"end":return e.stop()}}),e)})))()}},dl=ll,ml=Object(L["a"])(dl,el,al,!1,null,null,null),ul=ml.exports,pl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])})),0),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.campus_name))]),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"200px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"padding-top":"10px"}},[a("h6",[t._v("Area Rating:")])]),a("div",{staticClass:"md-layout-item"},[a("b-form-select",{on:{change:function(e){return t.autoSaveScore()}},model:{value:t.area_rating,callback:function(e){t.area_rating=e},expression:"area_rating"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("n/a")]),a("b-form-select-option",{attrs:{value:0}},[t._v("0.00")]),a("b-form-select-option",{attrs:{value:1}},[t._v("1.00")]),a("b-form-select-option",{attrs:{value:2}},[t._v("2.00")]),a("b-form-select-option",{attrs:{value:3}},[t._v("3.00")]),a("b-form-select-option",{attrs:{value:4}},[t._v("4.00")]),a("b-form-select-option",{attrs:{value:5}},[t._v("5.00")])],1)],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.setField(),"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n            "+t._s(e.value)+"\n\n            "),a("br"),a("br"),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                      "+t._s(i+1)+".\n                    ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1)])])})),0)],1)],1)]}},{key:"head(year_1)",fn:function(){return[t._v(" Year: "+t._s(t.year_1)+" ")]},proxy:!0},{key:"cell(year_1)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.rating_1,callback:function(a){t.$set(e.item,"rating_1",a)},expression:"row.item.rating_1"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"head(year_2)",fn:function(){return[t._v(" Year: "+t._s(t.year_2)+" ")]},proxy:!0},{key:"cell(year_2)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.rating_2,callback:function(a){t.$set(e.item,"rating_2",a)},expression:"row.item.rating_2"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"head(year_3)",fn:function(){return[t._v(" Year: "+t._s(t.year_3)+" ")]},proxy:!0},{key:"cell(year_3)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-input",{attrs:{min:0,max:100,type:"number"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.rating_3,callback:function(a){t.$set(e.item,"rating_3",a)},expression:"row.item.rating_3"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"margin-left":"5px","max-width":"max-content","padding-top":"10px"}},[a("h6",[t._v("%")])])])]}},{key:"cell(before_award)",fn:function(e){return[a("b-form-textarea",{attrs:{rows:"3","max-rows":"6"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.remark,callback:function(a){t.$set(e.item,"remark",a)},expression:"row.item.remark"}})]}},{key:"cell(after_award)",fn:function(e){return[a("b-form-textarea",{attrs:{rows:"3","max-rows":"6"},on:{input:function(e){return t.autoSaveScore()}},model:{value:e.item.remark_2,callback:function(a){t.$set(e.item,"remark_2",a)},expression:"row.item.remark_2"}})]}},{key:"cell(remark)",fn:function(e){return[t.checkMessage(e.item.id)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Comment")])]}}])})],1),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[a("h5",[t._v("Supplementary Files")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},on:{change:function(e){return t.autoSaveScore()}},model:{value:t.compliance_report,callback:function(e){t.compliance_report=e},expression:"compliance_report"}},[t._v("Compliance Report")])],1)]),a("b-table",{staticClass:"md-elevation-2",attrs:{items:t.areaAttachmentList,fields:t.fields_attachment,"sort-by":t.sortBy_attachment,"sort-desc":t.sortDesc_attachment,outlined:"",small:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_attachment=e},"update:sort-by":function(e){t.sortBy_attachment=e},"update:sortDesc":function(e){t.sortDesc_attachment=e},"update:sort-desc":function(e){t.sortDesc_attachment=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.item.document_name))])]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.fileSelected=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("br"),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.setScore()}}},[t._v("Save Rating")]),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)],1)},fl=[],hl=function(t){if(void 0!==t)return t.toString().toLowerCase()},vl=function(t,e){return""!==e?t.filter((function(t){return hl(t.statement).includes(hl(e))})):t},gl=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},bl=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length)for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return hl(t.tag?t.tag:"")===hl(e)})));if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},_l=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return hl(t.container.container_name?t.container.container_name:"").includes(hl(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return hl(t.tag?t.tag:"").includes(hl(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},yl=function(t,e){return e?t.filter((function(t){return hl(t.document_name).includes(hl(e))})):t},kl=function(t,e){if(t||e)return t.filter((function(t){return t.statement_id===e}))},xl={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Criteria",sortable:!0},{key:"before_award",label:"Compliance Before the Award",thStyle:{width:"230px"}},{key:"after_award",label:"Compliance After the Award",thStyle:{width:"230px"}},{key:"remark",label:"Remarks",thStyle:{width:"70px"}}],fields_licensure:[{key:"statement",label:"Criteria",sortable:!0},{key:"year_1",thStyle:{width:"140px"}},{key:"year_2",thStyle:{width:"140px"}},{key:"year_3",thStyle:{width:"140px"}},{key:"before_award",label:"Compliance Before the Award",thStyle:{width:"230px"}},{key:"after_award",label:"Compliance After the Award",thStyle:{width:"230px"}},{key:"remark",label:"Remarks",thStyle:{width:"70px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_attachment:"instrument_program_document_id",sortDesc_attachment:!1,fields_attachment:[{key:"instrument_program_document_id",label:"ID",sortable:!0,thStyle:{width:"50px"}},{key:"document_name",label:"File",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],area_rating:null,remarks:[],graduate_performances:[],compliance_report:null,year_1:null,year_2:null,year_3:null,statementList:[{}],statement:{},msiList:[],taskList:[],attachmentList:[],areaAttachmentList:[],documentList:[],containerList:[],filterDocumentArea:0,filterType:"Primary",parameters:[{}],fileSelected:null,search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",containerDialog:!1,attachmentDialog:!1,deletePrompt:!1,messages:[],unreadMessages:[],message:null,chatbox:!1}},computed:Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",program:"program",assigned_user_id:"assigned_user_id",accreditor_role:"accreditor_role"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},sortArea:function(t,e){return t.area_number-e.area_number},setField:function(){return"LICENSURE EXAM"===this.instrument.area_name?this.fields_licensure:this.fields},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=gl(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},filterDocuments:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachFile:function(t){var e=this;this.$isLoading(!0);var a=this.instrument.id;this.$store.dispatch("attachAreaSupportDocument",{instrument_id:a,document_id:t}).then((function(a){if(!0===a.data.status){var i=e.documentList.findIndex((function(e){return e.id===t}));e.documentList.splice(i,1),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})),e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}else e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Error","danger")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeAreaSupportDocument",this.fileSelected.instrument_program_document_id).then((function(e){if(!0===e.data.status){var a=t.areaAttachmentList.findIndex((function(e){return e.id===t.fileSelected.instrument_program_document_id}));t.areaAttachmentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterByType:function(t){return"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0},filterFiles:function(t,e){return 0===e?t:1===e?bl(t,"INSTRUCTION"):2===e?bl(t,"EXTENSION"):3===e?bl(t,"RESEARCH"):4===e?bl(t,"FACULTY"):5===e?bl(t,"LICENSURE EXAM"):6===e?bl(t,"CONSORTIA OR LINKAGE"):7===e?bl(t,"LIBRARY"):void 0},filterAttachments:function(t){var e=kl(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){var a;t.statementList=vl(e.data.statements,t.search),null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.attachmentList=e.data.documents),t.unreadMessages=e.data.unread_message_count})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=_l(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=yl(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),setScore:function(){var t=this;this.remarks=[],this.graduate_performances=[];for(var e=0;e<this.statementList.length;e++){if(null!==this.statementList[e].remark||null!==this.statementList[e].remark_2){var a=this.statementList[e].item_id,i=this.statementList[e].remark,n="before_compliance",s=this.statementList[e].remark_2,r="after_compliance";this.remarks.push({id:a,remark:i,remark_type:n,remark_2:s,remark_2_type:r})}if(null!==this.statementList[e].rating_1||null!==this.statementList[e].rating_2||null!==this.statementList[e].rating_3||null!==this.year_1||null!==this.year_2||null!==this.year_3){var o=this.statementList[e].item_id,c=this.year_1,l=this.statementList[e].rating_1,d=this.year_2,m=this.statementList[e].rating_2,u=this.year_3,p=this.statementList[e].rating_3;this.graduate_performances.push({id:o,year_1:c,rating_1:l,year_2:d,rating_2:m,year_3:u,rating_3:p})}}var f=this.assigned_user_id,h=this.instrument.id,v=this.area_rating,g=this.remarks,b=this.graduate_performances;this.$isLoading(!0),this.$store.dispatch("saveMeanScore",{assigned_user_id:f,instrument_id:h,score:v,remarks:g,graduate_performances:b}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},autoSaveScore:G.a.debounce((function(){this.remarks=[],this.graduate_performances=[];for(var t=0;t<this.statementList.length;t++){if(null!==this.statementList[t].remark||null!==this.statementList[t].remark_2){var e=this.statementList[t].item_id,a=this.statementList[t].remark,i="before_compliance",n=this.statementList[t].remark_2,s="after_compliance";this.remarks.push({id:e,remark:a,remark_type:i,remark_2:n,remark_2_type:s})}if(null!==this.statementList[t].rating_1||null!==this.statementList[t].rating_2||null!==this.statementList[t].rating_3||null!==this.year_1||null!==this.year_2||null!==this.year_3){var r=this.statementList[t].item_id,o=this.year_1,c=this.statementList[t].rating_1,l=this.year_2,d=this.statementList[t].rating_2,m=this.year_3,u=this.statementList[t].rating_3;this.graduate_performances.push({id:r,year_1:o,rating_1:c,year_2:l,rating_2:d,year_3:m,rating_3:u})}}var p=this.assigned_user_id,f=this.instrument.id,h=this.area_rating,v=this.remarks,g=this.graduate_performances;this.$store.dispatch("saveMeanScore",{assigned_user_id:p,instrument_id:f,score:h,remarks:v,graduate_performances:g})}),1e3),setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkDepartment:function(){if(this.containerSelect&&"department"===this.containerSelect.type)return!0},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},getId:function(t){return t.toString()},showRemark:function(t){var e=this,a=this.program.id,i=t,n=0;this.accreditor_role.includes("external")&&(n=1),this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";this.accreditor_role.includes("external")&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t){return this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal:this.accreditor_role.includes("external")?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t){this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:this.accreditor_role.includes("external")&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$isLoading(!0),a.next=3,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 3:return i=e.taskList.find((function(e){return e.transaction_id===t.id})),a.next=6,e.$store.commit("saveAssignedUser",i.id);case 6:return a.next=8,e.$store.commit("saveInstrument",t);case 8:n=e.program.id,s=e.instrument.id,e.$store.dispatch("showStatementDocument",{program_id:n,transaction_id:s}).then((function(t){var a;e.statementList=t.data.statements,e.unreadMessages=t.data.unread_message_count,null!==(a=e.statementList)&&void 0!==a&&a.length&&(e.year_1=t.data.statements[0].year_1,e.year_2=t.data.statements[0].year_2,e.year_3=t.data.statements[0].year_3,e.area_rating=t.data.area_mean,e.attachmentList=t.data.documents),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 11:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.instrument.id,e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){var a;t.statementList=e.data.statements,t.unreadMessages=e.data.unread_message_count,null!==(a=t.statementList)&&void 0!==a&&a.length&&(t.year_1=e.data.statements[0].year_1,t.year_2=e.data.statements[0].year_2,t.year_3=e.data.statements[0].year_3,t.area_rating=e.data.area_mean,t.attachmentList=e.data.documents)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showAreaSupportDocument",t.instrument.id).then((function(e){t.areaAttachmentList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return n=t.user.id,e.next=10,t.$store.dispatch("showTaskInstrument",{user_id:n,program_id:a}).then((function(e){for(var a=[],i=function(t){a.find((function(a){return a.area_number===e.data.areas[t].area_number}))||a.push(e.data.areas[t])},n=0;n<e.data.areas.length;n++)i(n);t.msiList=a.sort(t.sortArea),t.taskList=e.data.task})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 10:return e.next=12,t.$isLoading(!1);case 12:case"end":return e.stop()}}),e)})))()}},Sl=xl,Cl=Object(L["a"])(Sl,pl,fl,!1,null,null,null),wl=Cl.exports,Tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("b-modal",{attrs:{id:"app",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h6",[t._v(t._s(t.statement.statement))]),a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-accent",attrs:{title:"Comment"},on:{click:function(e){t.chatbox=!1}}},[a("md-icon",[t._v("close")])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"...",rows:"2"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[""!==t.message?a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"},on:{click:function(e){return t.sendRemark()}}},[a("md-icon",[t._v("send")])],1):a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-primary",attrs:{title:"Send"}},[a("md-icon",[t._v("send")])],1)],1)])]},proxy:!0}]),model:{value:t.chatbox,callback:function(e){t.chatbox=e},expression:"chatbox"}},t._l(t.messages,(function(e,i){return a("div",{key:i},[e.user_id.toString()===t.user.id.toString()?a("div",{staticStyle:{direction:"rtl","text-align":"justify","margin-left":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])]):a("div",{staticStyle:{"text-align":"justify","margin-right":"100px"}},[t._v("\n        "+t._s(t.concatName(e))+"\n        "),a("h6",[t._v('"'+t._s(e.message)+'"')])])])})),0),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Folders")])]},proxy:!0}]),model:{value:t.containerDialog,callback:function(e){t.containerDialog=e},expression:"containerDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h6",[t._v("Statement:")]),t._v("\n        "+t._s(t.statement.statement)+"\n      ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_container,callback:function(e){t.perPage_container=e},expression:"perPage_container"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"305px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search folder / tag",type:"text"},on:{input:function(e){return t.searchContainerTable()}},model:{value:t.search_container,callback:function(e){t.search_container=e},expression:"search_container"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px","margin-right":"5px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterDocumentArea,callback:function(e){t.filterDocumentArea=e},expression:"filterDocumentArea"}},[a("b-form-select-option",{attrs:{value:0}},[t._v("Show All")]),a("b-form-select-option",{attrs:{value:1}},[t._v("Area I")]),a("b-form-select-option",{attrs:{value:2}},[t._v("Area II")]),a("b-form-select-option",{attrs:{value:3}},[t._v("Area III")]),a("b-form-select-option",{attrs:{value:4}},[t._v("Area IV")]),a("b-form-select-option",{attrs:{value:5}},[t._v("Area V")]),a("b-form-select-option",{attrs:{value:6}},[t._v("Area VI")]),a("b-form-select-option",{attrs:{value:7}},[t._v("Area VII")]),a("b-form-select-option",{attrs:{value:8}},[t._v("Area VIII")]),a("b-form-select-option",{attrs:{value:9}},[t._v("Area IX")]),a("b-form-select-option",{attrs:{value:10}},[t._v("Area X")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"150px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("b-form-select-option",{attrs:{value:"Primary"}},[t._v("Required")]),a("b-form-select-option",{attrs:{value:"Supplementary"}},[t._v("Supplemental")])],1)],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)),fields:t.fields_container,"current-page":t.currentPage_container,"per-page":t.perPage_container,"sort-by":t.sortBy_container,"sort-desc":t.sortDesc_container,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_container=e},"update:sort-by":function(e){t.sortBy_container=e},"update:sortDesc":function(e){t.sortDesc_container=e},"update:sort-desc":function(e){t.sortDesc_container=e}},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.id)+"\n      ")]}},{key:"cell(container)",fn:function(e){return[t._v("\n        "+t._s(e.item.container.container_name)+"\n      ")]}},{key:"cell(tag)",fn:function(e){return t._l(e.item.tags,(function(i,n){return a("span",{key:n},[t._v("\n          "+t._s(i.tag)+"\n          "),e.item.tags[n+1]?a("a",[t._v(",")]):t._e()])}))}},{key:"cell(number)",fn:function(e){return[t._v("\n        "+t._s(e.item.number)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){t.containerSelect=e.item,t.setDocuments(t.checkAttachment()),t.containerDialog=!1,t.attachmentDialog=!0}}},[t._v("Show Files")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length?t.filterByType(t.filterFiles(t.containerList,t.filterDocumentArea)).length:0,"per-page":t.perPage_container,align:"fill",size:"sm"},model:{value:t.currentPage_container,callback:function(e){t.currentPage_container=e},expression:"currentPage_container"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.containerDialog=!1}}},[t._v("Close")])],1)],1),a("b-modal",{attrs:{id:"app",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v(t._s(t.containerSelect.container.container_name))])]},proxy:!0}]),model:{value:t.attachmentDialog,callback:function(e){t.attachmentDialog=e},expression:"attachmentDialog"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage_document,callback:function(e){t.perPage_document=e},expression:"perPage_document"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"300px","margin-left":"5px"}},[a("b-form-input",{attrs:{placeholder:"Search file",type:"text"},on:{input:function(e){t.searchDocumentTable(t.checkAttachment())}},model:{value:t.search_document,callback:function(e){t.search_document=e},expression:"search_document"}})],1)])])]),a("br"),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.documentList,fields:t.fields_document,"current-page":t.currentPage_document,"per-page":t.perPage_document,"sort-by":t.sortBy_document,"sort-desc":t.sortDesc_document,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy_document=e},"update:sort-by":function(e){t.sortBy_document=e},"update:sortDesc":function(e){t.sortDesc_document=e},"update:sort-desc":function(e){t.sortDesc_document=e}},scopedSlots:t._u([{key:"cell(document_name)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.showFile(e.item)}}},[t._v(t._s(e.value))])]}},{key:"cell(uploaded_by)",fn:function(e){return[t._v("\n        "+t._s(t.concatName(e.item))+"\n      ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[0===t.attachmentType?a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.attachFile(t.statement.id,e.item.id)}}},[t._v("Select")]):a("md-button",{staticClass:"md-dense md-primary md-raised",on:{click:function(a){return t.areaAttachFile(e.item.id)}}},[t._v("Select")])]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows_document,"per-page":t.perPage_document,align:"fill",size:"sm"},model:{value:t.currentPage_document,callback:function(e){t.currentPage_document=e},expression:"currentPage_document"}}),a("br"),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.attachmentDialog=!1,t.containerDialog=!0}}},[t._v("Back")])],1)],1),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Document")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[0===t.attachmentType?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeAttachment(),t.deletePrompt=!1}}},[t._v("Delete")]):a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.areaRemoveAttachment(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to remove this document?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.program.program_name))]),a("h5",[t._v(t._s(t.program.campus_name))]),a("b-dropdown",{attrs:{text:t.instrument.area_name,variant:"primary"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[a("b-dropdown-item",{on:{click:function(a){return t.changeParameter(e)}}},[t._v(t._s(e.area_name))])],1)})),0)],1)]),a("div",[a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px","padding-bottom":"10px"}},[a("b-form-input",{attrs:{placeholder:"Search Statement",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.statementList,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,bordered:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(statement)",fn:function(e){return[a("div",{style:{"padding-left":t.setIndent(e.item)+"px"}},[t._v("\n            "+t._s(e.value)+"\n\n            "),a("br"),a("br"),t.filterAttachments(e.item.id).length>0?a("md-badge",{attrs:{"md-content":t.filterAttachments(e.item.id).length,"md-dense":""}},[a("md-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.getId(e.item.id),expression:"getId(row.item.id)"}],staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0 0 0 0"}},[t._v("Attachments")])],1):t._e(),a("b-collapse",{attrs:{id:t.getId(e.item.id)}},[a("md-card",{staticStyle:{margin:"10px 0 0 0",padding:"10px"}},t._l(t.filterAttachments(e.item.id),(function(e,i){return a("div",{key:i,staticStyle:{"padding-left":"20px","margin-top":"5px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"25px"}},[t._v("\n                      "+t._s(i+1)+".\n                    ")]),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("b-link",{on:{click:function(a){return t.showFile(e)}}},[t._v(t._s(e.document_name))])],1)])])})),0)],1)],1)]}},{key:"cell(rating)",fn:function(e){return[t.statementList.find((function(t){return t.parent_statement_id===e.item.benchmark_statement_id}))?a("div",[a("b-form-input",{attrs:{disabled:""},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[t._v(t._s(e.item.item_score=t.getMean(e.item.benchmark_statement_id)))])],1):a("div",[a("b-form-select",{on:{change:function(e){return t.autoSaveScore()}},model:{value:e.item.item_score,callback:function(a){t.$set(e.item,"item_score",a)},expression:"row.item.item_score"}},[a("b-form-select-option",{attrs:{value:null}},[t._v("n/a")]),a("b-form-select-option",{attrs:{value:0}},[t._v("0.00")]),a("b-form-select-option",{attrs:{value:1}},[t._v("1.00")]),a("b-form-select-option",{attrs:{value:2}},[t._v("2.00")]),a("b-form-select-option",{attrs:{value:3}},[t._v("3.00")]),a("b-form-select-option",{attrs:{value:4}},[t._v("4.00")]),a("b-form-select-option",{attrs:{value:5}},[t._v("5.00")])],1)],1)]}},{key:"cell(remark)",fn:function(e){return[t.checkMessage(e.item.id)>0?a("md-badge",{attrs:{"md-content":t.checkMessage(e.item.id),"md-dense":""}},[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.readMessage(e.item.id),t.chatbox=!0}}},[t._v("Comment")])],1):a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"0"},on:{click:function(a){t.messages=[],t.message="",t.statement=e.item,t.showRemark(e.item.id),t.chatbox=!0}}},[t._v("Comment")])]}}])})],1),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("h5",[t._v("Area Mean: "+t._s(t.roundNum(t.areaMean)))])])]),a("br"),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.setScore()}}},[t._v("Save Rating")]),a("br"),a("br"),a("br"),a("md-card",{staticStyle:{margin:"0",padding:"15px 20px"}},[a("h6",[t._v("Recommendation:")]),t._l(t.recommendationList,(function(e,i){return a("div",{key:i},[t._v("\n        "+t._s(i+1)+". "+t._s(e.recommendation)+"\n      ")])})),t._l(t.recommendation,(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-textarea",{staticStyle:{"margin-bottom":"5px"},attrs:{placeholder:"Enter recommendation...",rows:"3","max-rows":"6"},model:{value:t.recommendation[i],callback:function(e){t.$set(t.recommendation,i,e)},expression:"recommendation[counter]"}})],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeRecommendation(i)}}},[a("md-icon",[t._v("delete")])],1)],1)])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addRecommendation()}}},[t._v("Add Recommendation")])],1),a("br"),a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"100%",margin:"0"},on:{click:function(e){return t.saveRecommendation()}}},[t._v("Save Recommendation")])],2),a("div",{staticClass:"md-layout",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},t._l(t.msiList,(function(e,i){return a("div",{key:i},[e.area_name===t.instrument.area_name?a("div",[t.msiList[i-1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i-1])}}},[t._v("Back")]):t._e(),t.msiList[i+1]?a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 5px"},on:{click:function(e){return t.changeParameter(t.msiList[i+1])}}},[t._v("Next")]):t._e()],1):t._e()])})),0)])],1)],1)},Pl=[],Ll=function(t){if(void 0!==t)return t.toString().toLowerCase()},Al=function(t,e){return""!==e?t.filter((function(t){return Ll(t.statement).includes(Ll(e))})):t},$l=function(t,e){if(t&&e)return t.find((function(t){return t.benchmark_statement_id===e}))},Dl=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length)for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ll(t.tag?t.tag:"")===Ll(e)})));if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Rl=function(t,e){if(""===e)return t;var a=function(){var a,i=[],n=[];if(null!==t&&void 0!==t&&t.length){i=t.filter((function(t){return Ll(t.container.container_name?t.container.container_name:"").includes(Ll(e))}));for(var s=0;s<t.length;s++)n=n.concat(t[s].tags.filter((function(t){return Ll(t.tag?t.tag:"").includes(Ll(e))})))}if(null!==(a=n)&&void 0!==a&&a.length){for(var r=function(e){var a=t.find((function(t){return t.container.id===n[e].container_id}));a&&0===i.filter((function(t){return t.container.id===a.container.id})).length&&i.push(a)},o=0;o<n.length;o++)r(o);return{v:i}}return{v:i}}();return"object"===Object(p["a"])(a)?a.v:void 0},Il=function(t,e){if(e)return t.filter((function(t){return t.statement_id===e}))},El=function(t,e){return e?t.filter((function(t){return Ll(t.document_name).includes(Ll(e))})):t},Ul={name:"ShowStatement",data:function(){return{sortBy:"statement",sortDesc:!1,fields:[{key:"statement",label:"Criteria",sortable:!0},{key:"rating",label:"Rating",thStyle:{width:"100px"}},{key:"remark",label:"Remarks",thStyle:{width:"70px"}}],search_container:"",sortBy_container:"container.id",sortDesc_container:!1,currentPage_container:1,perPage_container:10,fields_container:[{key:"id",label:"ID",sortable:!0},{key:"container",label:"Folder Name",sortable:!0},{key:"tag",label:"Tags",sortable:!0},{key:"office_name",label:"Office",sortable:!0},{key:"number",label:"No. of Files",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],search_document:"",sortBy_document:"container.id",sortDesc_document:!1,currentPage_document:1,perPage_document:10,totalRows_document:0,fields_document:[{key:"id",label:"ID",sortable:!0},{key:"document_name",label:"File",sortable:!0},{key:"uploaded_by",label:"Uploaded By",sortable:!0},{key:"updated_at",label:"Date Uploaded",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"130px"}}],sortBy_attachment:"instrument_program_document_id",sortDesc_attachment:!1,fields_attachment:[{key:"instrument_program_document_id",label:"ID",sortable:!0,thStyle:{width:"50px"}},{key:"document_name",label:"File",sortable:!0},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],items:[],graduate_performances:[],statementList:[{}],statement:{},msiList:[],attachmentList:[],areaAttachmentList:[],attachmentType:null,documentList:[],containerList:[],filterDocumentArea:0,filterType:"Primary",fileSelected:null,recommendationList:[],recommendation:[null],search:"",edit:!1,add:!1,addSub:!1,snackbarText:"",typeSelect:"",type:[{type:"Performance Rating"},{type:"Evaluation"}],containerDialog:!1,attachmentDialog:!1,deletePrompt:!1,messages:[],unreadMessages:[],message:null,chatbox:!1}},computed:Object(w["a"])(Object(w["a"])({},Object(h["b"])({user:"user",campus:"campus",instrument:"instrument",program:"program",coordinator:"coordinator",assigned_user_id:"assigned_user_id",accreditor_role:"accreditor_role"})),{},{areaMean:{get:function(){var t=this.statementList;if(null!==t&&void 0!==t&&t.length){for(var e=0,a=0,i=0;i<t.length;i++)null===t[i].parent_statement_id&&null!==t[i].item_score&&(e+=parseFloat(t[i].item_score),a+=1);return parseFloat((e/a).toFixed(2))}return null}}}),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},sortArea:function(t,e){return t.area_number-e.area_number},setScore:function(){for(var t=this,e=0;e<this.statementList.length;e++)if(null!==this.statementList[e].item_score||null!==this.statementList[e].remark){var a=this.statementList[e].item_id,i=this.statementList[e].assigned_user_id,n=this.statementList[e].item_score,s=this.statementList[e].remark,r=this.statementList[e].remark_type;this.items.push({id:a,user_id:i,score:n,remark:s,remark_type:r})}var o=this.statementList[0].parameter_id,c=this.assigned_user_id,l=this.items,d=this.areaMean,m=[];this.$isLoading(!0),this.$store.dispatch("setScore",{parameter_id:o,assigned_user_id:c,items:l,parameter_mean:d,best_practices:m}).then((function(e){!0===e.data.status?(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},autoSaveScore:G.a.debounce((function(){for(var t=0;t<this.statementList.length;t++){var e=this.statementList[t].item_id,a=this.statementList[t].assigned_user_id,i=this.statementList[t].item_score,n=this.statementList[t].remark,s=this.statementList[t].remark_type;this.items.push({id:e,user_id:a,score:i,remark:n,remark_type:s})}var r=this.statementList[0].parameter_id,o=this.assigned_user_id,c=this.items,l=this.areaMean,d=[];this.$store.dispatch("setScore",{parameter_id:r,assigned_user_id:o,items:c,parameter_mean:l,best_practices:d})}),1e3),saveRecommendation:function(){var t=this;this.$isLoading(!0);var e=this.assigned_user_id,a=this.recommendation;this.$store.dispatch("saveRecommendation",{user_id:e,recommendations:a}).then((function(e){!0===e.data.status?(t.recommendation=[null],t.$store.dispatch("showRecommendation",t.assigned_user_id).then((function(e){t.recommendationList=e.data})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},setIndent:function(t){var e=t,a=0;while(null!==e.parent_statement_id){if(e=$l(this.statementList,e.parent_statement_id),!e)return a;a+=40}return a},filterDocuments:function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},areaAttachFile:function(t){var e=this;this.$isLoading(!0);var a=this.instrument.id;this.$store.dispatch("attachAreaSupportDocument",{instrument_id:a,document_id:t}).then((function(a){if(!0===a.data.status){var i=e.documentList.findIndex((function(e){return e.id===t}));e.documentList.splice(i,1),e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})),e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Success!","primary")}else e.$isLoading(!1),e.snackbarText=a.data.message,e.makeToast("Error","danger")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},areaRemoveAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeAreaSupportDocument",this.fileSelected.instrument_program_document_id).then((function(e){if(!0===e.data.status){var a=t.checkAttachment().findIndex((function(e){return e.id===t.fileSelected.instrument_program_document_id}));t.checkAttachment().splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},attachFile:function(t,e){var a=this;this.$isLoading(!0),this.$store.dispatch("attachSupportDocument",{benchmark_statement_id:t,document_id:e}).then((function(t){if(!0===t.data.status){var i=a.documentList.findIndex((function(t){return t.id===e}));a.documentList.splice(i,1);var n=a.program.id,s=a.instrument.id;a.$store.dispatch("showStatementDocument",{program_id:n,transaction_id:s}).then((function(t){a.attachmentList=t.data.documents})),a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Success!","primary")}else a.$isLoading(!1),a.snackbarText=t.data.message,a.makeToast("Error","danger")})).catch((function(t){a.$isLoading(!1),a.snackbarText=t+". Please contact the administrator",a.makeToast("Error","danger")}))},removeAttachment:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeSupportDocument",this.fileSelected.id).then((function(e){if(!0===e.data.status){var a=t.attachmentList.findIndex((function(e){return e.id===t.fileSelected.id}));t.attachmentList.splice(a,1),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},getMean:function(t){var e;if(null!==(e=this.statementList)&&void 0!==e&&e.length){for(var a=0,i=0,n=0;n<this.statementList.length;n++)this.statementList[n].parent_statement_id===t&&null!==this.statementList[n].item_score&&(a+=parseFloat(this.statementList[n].item_score),i+=1);var s=parseFloat((a/i).toFixed(2));return isNaN(s)?null:this.roundNum(s)}},roundNum:function(t){if(null!==t)return(Math.round(100*t)/100).toFixed(2)},filterByType:function(t){return"Primary"===this.filterType?t.filter((function(t){return"Primary"===t.container.type||null===t.container.type})):"Supplementary"===this.filterType?t.filter((function(t){return"Supplementary"===t.container.type})):void 0},filterFiles:function(t,e){return 0===e?t:1===e?Dl(t,"Area I"):2===e?Dl(t,"Area II"):3===e?Dl(t,"Area III"):4===e?Dl(t,"Area IV"):5===e?Dl(t,"Area V"):6===e?Dl(t,"Area VI"):7===e?Dl(t,"Area VII"):8===e?Dl(t,"Area VIII"):9===e?Dl(t,"Area IX"):10===e?Dl(t,"Area X"):void 0},filterAttachments:function(t){var e=Il(this.attachmentList,t);return null!==e&&void 0!==e&&e.length&&e.length>1?e.sort((function(t,e){return t.id-e.id})):e},searchOnTable:G.a.debounce((function(){var t=this,e=this.program.id,a=this.instrument.id;this.$store.dispatch("showStatementDocument",{program_id:e,transaction_id:a}).then((function(e){t.statementList=Al(e.data.statements,t.search),t.unreadMessages=e.data.unread_message_count,t.attachmentList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500),searchContainerTable:G.a.debounce((function(){var t=this,e=this.user.id,a=this.campus.campus_id;this.$store.dispatch("showAllContainer",{user_id:e,campus_id:a}).then((function(e){t.containerList=Rl(e.data.documents,t.search_container)}))}),500),searchDocumentTable:G.a.debounce((function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=El(a.data.documents,e.search_document),null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)}))}),500),setDocuments:function(t){var e=this;this.$store.dispatch("showDocument",this.containerSelect.container.id).then((function(a){var i;if(e.documentList=a.data.documents,null!==t&&void 0!==t&&t.length)for(var n=function(a){e.documentList=e.documentList.filter((function(e){return e.id!==t[a].document_id}))},s=0;s<t.length;s++)n(s);null!==(i=e.documentList)&&void 0!==i&&i.length&&(e.totalRows_document=e.documentList.length)})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},checkDepartment:function(){if(this.containerSelect&&"department"===this.containerSelect.type)return!0},formatDate:function(t){return E()(t).format("ll")},concatName:function(t){return t.first_name&&t.last_name?t.first_name.concat(" ",t.last_name):t.last_name?t.last_name:t.first_name?t.first_name:void 0},showFile:function(t){"link"===t.type&&window.open(t.link),"file"===t.type&&this.downloadLetter(t)},downloadLetter:function(t){var e=this;this.$isLoading(!0);var a=null;this.$store.dispatch("documentType",t.document_id).then((function(t){a=t.data.type})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),this.$store.dispatch("documentViewFile",t.document_id).then((function(t){e.$isLoading(!1);var i=URL.createObjectURL(new Blob([t.data],{type:a}));e.$store.commit("saveURL",i);var n=e.$router.resolve({path:"/Documents"});window.open(n.href,"_blank")})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},addRecommendation:function(){this.recommendation.push(null)},removeRecommendation:function(t){this.recommendation.splice(t,1)},checkAttachment:function(){return 0===this.attachmentType?this.attachmentList:this.areaAttachmentList},getId:function(t){return t.toString()},showRemark:function(t){var e=this,a=this.program.id,i=t,n=0;this.accreditor_role.includes("external")&&(n=1),this.$store.dispatch("showRemark",{program_id:a,statement_id:i,type:n}).then((function(t){e.messages=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},sendRemark:function(){var t=this;this.$isLoading(!0);var e=this.program.id,a=this.statement.id,i=this.message,n="Internal";this.accreditor_role.includes("external")&&(n="External"),this.$store.dispatch("sendRemark",{program_id:e,statement_id:a,message:i,type:n}).then((function(e){!0===e.data.status?(t.showRemark(t.statement.id),t.message="",t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},checkMessage:function(t){return this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal:this.accreditor_role.includes("external")?this.unreadMessages.find((function(e){return e.id===t})).count_external:void 0},readMessage:function(t){this.accreditor_role.includes("internal")?this.unreadMessages.find((function(e){return e.id===t})).count_internal=0:this.accreditor_role.includes("external")&&(this.unreadMessages.find((function(e){return e.id===t})).count_external=0)},back:function(){this.$router.push("/ManageParameters")},changeParameter:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$isLoading(!0),a.next=3,e.$nextTick((function(){document.getElementById("create").scrollIntoView()}));case 3:return a.next=5,e.$store.commit("saveInstrument",t);case 5:return i=e.program.id,n=e.instrument.id,a.next=9,e.$store.dispatch("showStatementDocument",{program_id:i,transaction_id:n}).then((function(t){e.statementList=t.data.statements,e.unreadMessages=t.data.unread_message_count,e.attachmentList=t.data.documents,e.$store.dispatch("showAreaSupportDocument",e.instrument.id).then((function(t){e.areaAttachmentList=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")})),e.$isLoading(!1)})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 9:return a.next=11,e.$store.dispatch("showRecommendation",e.assigned_user_id).then((function(t){e.recommendationList=t.data})).catch((function(t){e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}));case 11:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),a=t.program.id,i=t.instrument.id,e.next=5,t.$store.dispatch("showStatementDocument",{program_id:a,transaction_id:i}).then((function(e){t.statementList=e.data.statements,t.unreadMessages=e.data.unread_message_count,t.attachmentList=e.data.documents})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$store.dispatch("showAreaSupportDocument",t.instrument.id).then((function(e){t.areaAttachmentList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 7:return e.next=9,t.$store.dispatch("showRecommendation",t.assigned_user_id).then((function(e){t.recommendationList=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 9:if(n=t.user.id,1!==t.coordinator){e.next=15;break}return e.next=13,t.$store.dispatch("showAccreditorInstrument",t.program.program_id).then((function(e){t.msiList=e.data.instruments})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 13:e.next=17;break;case 15:return e.next=17,t.$store.dispatch("showTaskInstrument",{user_id:n,program_id:a}).then((function(e){for(var a=[],i=function(t){a.find((function(a){return a.area_number===e.data.areas[t].area_number}))||a.push(e.data.areas[t])},n=0;n<e.data.areas.length;n++)i(n);t.msiList=a.sort(t.sortArea)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 17:return e.next=19,t.$isLoading(!1);case 19:case"end":return e.stop()}}),e)})))()}},Ol=Ul,Fl=Object(L["a"])(Ol,Tl,Pl,!1,null,null,null),Bl=Fl.exports,Nl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Upload Template")])]},proxy:!0}]),model:{value:t.createTemplate,callback:function(e){t.createTemplate=e},expression:"createTemplate"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("b-form-group",{attrs:{id:"createTemplate-group-1",label:"*Template Name:","label-for":"createTemplate-1"}},[a("b-form-input",{attrs:{id:"createTemplate-1",type:"text",required:""},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1),a("b-form-group",{attrs:{id:"createTemplate-group-2",label:"*Template:","label-for":"createTemplate-2"}},[a("b-form-file",{attrs:{id:"createTemplate-2",accept:".doc, .docx",required:""},model:{value:t.document,callback:function(e){t.document=e},expression:"document"}})],1),a("b-form-group",{attrs:{id:"createTemplate-group-3",label:"Designation:","label-for":"createTemplate-3"}},[t._l(t.tags,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[t.tags[i]?a("b-form-input",{staticStyle:{background:"white"},attrs:{id:"createTemplate-3",type:"text",disabled:""},model:{value:t.tags[i],callback:function(e){t.$set(t.tags,i,e)},expression:"tags[index]"}}):a("b-form-select",{attrs:{id:"createTemplate-3",options:t.filterArea(),required:""},model:{value:t.tags[i],callback:function(e){t.$set(t.tags,i,e)},expression:"tags[index]"}})],1),t.tags[i]?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArray(i)}}},[a("md-icon",[t._v("delete")])],1)],1):t._e()])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArray()}}},[t._v("Add Designation")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.createTemplate=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Add Tags")])]},proxy:!0}]),model:{value:t.addTags,callback:function(e){t.addTags=e},expression:"addTags"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addTag()}}},[a("b-form-group",{attrs:{id:"addTags-group-1",label:"Designation:","label-for":"addTags-1"}},[t._l(t.tags,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"md-layout-item"},[t.tags[i]?a("b-form-input",{staticStyle:{background:"white"},attrs:{id:"addTags-1",type:"text",disabled:""},model:{value:t.tags[i],callback:function(e){t.$set(t.tags,i,e)},expression:"tags[index]"}}):a("b-form-select",{attrs:{id:"addTags-1",options:t.filterAreaTags(),required:""},model:{value:t.tags[i],callback:function(e){t.$set(t.tags,i,e)},expression:"tags[index]"}})],1),t.tags[i]?a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(e){return t.removeTagArray(i)}}},[a("md-icon",[t._v("delete")])],1)],1):t._e()])])})),a("div",[a("md-button",{staticClass:"md-primary md-dense md-raised",staticStyle:{margin:"5px 0 0"},on:{click:function(e){return t.addTagArray()}}},[t._v("Add Designation")])],1)],2),a("md-card-actions",[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.addTags=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},attrs:{type:"submit"}},[t._v("Submit")])],1)])],1)]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Delete Template")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deletePrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.remove(),t.deletePrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deletePrompt,callback:function(e){t.deletePrompt=e},expression:"deletePrompt"}},[t._v("\n    Are you sure you want to delete this template?\n    ")]),a("b-modal",{attrs:{id:"app"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",[t._v("Remove Tag")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0 5px 0 0"},on:{click:function(e){t.deleteTagPrompt=!1}}},[t._v("Cancel")])],1),a("div",[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{margin:"0"},on:{click:function(e){t.removeTag(),t.deleteTagPrompt=!1}}},[t._v("Delete")])],1)]},proxy:!0}]),model:{value:t.deleteTagPrompt,callback:function(e){t.deleteTagPrompt=e},expression:"deleteTagPrompt"}},[t._v("\n    Are you sure you want to remove this tag?\n    ")]),a("md-card",{staticStyle:{padding:"15px 20px"}},[a("div",{staticClass:"md-layout",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"md-layout-item"},[a("h4",[t._v(t._s(t.campus.institution_name))]),a("h5",[t._v("List of Document Templates")])]),a("div",{staticClass:"md-layout-item",staticStyle:{"min-width":"max-content"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"65px"}},[a("b-form-select",{staticClass:"mb-3",model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("b-form-select-option",{attrs:{value:5}},[t._v("5")]),a("b-form-select-option",{attrs:{value:10}},[t._v("10")]),a("b-form-select-option",{attrs:{value:20}},[t._v("20")])],1)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"330px"}},[a("b-form-input",{attrs:{placeholder:"Search Intended Program",type:"text"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"}),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content"}},[a("md-button",{staticClass:"md-primary md-raised",staticStyle:{width:"200px",margin:"0"},on:{click:function(e){t.templateName=null,t.document=null,t.tags=[null],t.createTemplate=!0}}},[t._v("Upload Template")])],1)])])]),a("b-table",{staticClass:"md-elevation-2",staticStyle:{"margin-bottom":"0"},attrs:{items:t.templateList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,outlined:"","sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(template)",fn:function(e){return[a("b-link",{on:{click:function(a){return t.downloadTemplate(e.item)}}},[t._v(t._s(e.item.template_name))])]}},{key:"cell(tags)",fn:function(e){return[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("b-form-tags",{staticStyle:{border:"none"},attrs:{size:"sm","add-on-change":"","no-outer-focus":""}},[[e.item.tags.length>0?a("div",t._l(e.item.tags,(function(e){return a("span",{key:e.tag},[a("b-form-tag",{attrs:{variant:"primary"},on:{remove:function(a){t.tagSelect=e,t.deleteTagPrompt=!0}}},[t._v(t._s(e.tag))])],1)})),0):t._e()]],2)],1),a("div",{staticClass:"md-layout-item",staticStyle:{"max-width":"max-content","margin-right":"5px"}},[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-primary",attrs:{title:"Add Designated Area"},on:{click:function(a){t.templateSelect=e.item,t.tags=[null],t.addTags=!0}}},[a("md-icon",[t._v("add_circle")])],1)],1)])]}},{key:"cell(updated_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.value))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("md-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"md-icon-button md-dense md-accent",attrs:{title:"Delete"},on:{click:function(a){t.templateSelect=e.item,t.deletePrompt=!0}}},[a("md-icon",[t._v("delete")])],1)]}}])}),a("b-pagination",{staticClass:"my-auto md-elevation-2",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},Ml=[],jl=function(t){return t.toString().toLowerCase()},ql=function(t,e){return e?t.filter((function(t){return jl(t.template_name).includes(jl(e))})):t},zl={name:"ManageDocumentTemplate",data:function(){return{sortBy:"id",sortDesc:!1,totalRows:1,currentPage:1,perPage:10,fields:[{key:"id",label:"ID",sortable:!0},{key:"template",label:"Template",sortable:!0},{key:"tags",label:"Tags"},{key:"actions",label:"Actions",thStyle:{width:"70px"}}],templateList:[],templateSelect:null,templateName:null,document:null,tags:[null],tagSelect:null,templateOptions:[],search:null,createTemplate:!1,deletePrompt:!1,addTags:!1,deleteTagPrompt:!1,snackbarText:""}},computed:Object(w["a"])({},Object(h["b"])({campus:"campus"})),methods:{makeToast:function(t,e){this.$bvToast.toast(this.snackbarText,{title:t,variant:e,toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})},submit:function(){var t=this,e=this.campus.campus_id,a=this.document,i=this.templateName,n=this.tags;this.$isLoading(!0),this.$store.dispatch("addTemplate",{id:e,file:a,template_name:i,tags:n}).then((function(e){!0===e.data.status?(t.$store.dispatch("showTemplate",t.campus.campus_id).then((function(e){var a;t.templateList=e.data,null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length)})),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.createTemplate=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},downloadTemplate:function(t){var e=this;this.$isLoading(!0),this.$store.dispatch("downloadTemplate",t.id).then((function(a){e.$isLoading(!1);var i=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",t.template_name+".docx"),document.body.appendChild(n),n.click()})).catch((function(t){e.$isLoading(!1),e.snackbarText=t+". Please contact the administrator",e.makeToast("Error","danger")}))},remove:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("deleteTemplate",this.templateSelect.id).then((function(e){if(!0===e.data.status){var a,i=t.templateList.findIndex((function(e){return e.id===t.templateSelect.id}));t.templateList.splice(i,1),null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length),t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")}else t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger")})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},addTag:function(){var t=this,e=this.templateSelect.id,a=this.tags;this.$isLoading(!0),this.$store.dispatch("addTemplateTag",{id:e,tags:a}).then((function(e){!0===e.data.status?(t.$store.dispatch("showTemplate",t.campus.campus_id).then((function(e){var a;t.templateList=e.data,null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length)})),t.addTags=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary"),t.createTemplate=!1):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},removeTag:function(){var t=this;this.$isLoading(!0),this.$store.dispatch("removeTemplateTag",this.tagSelect.id).then((function(e){!0===e.data.status?(t.$store.dispatch("showTemplate",t.campus.campus_id).then((function(e){var a;t.templateList=e.data,null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length)})),t.deleteTagPrompt=!1,t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Success!","primary")):(t.$isLoading(!1),t.snackbarText=e.data.message,t.makeToast("Error","danger"))})).catch((function(e){t.$isLoading(!1),t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))},filterArea:function(){var t,e=this,a=this.templateOptions;if(null!==(t=this.tags)&&void 0!==t&&t.length)for(var i=function(t){a=a.filter((function(a){return e.tags[t]!==a}))},n=0;n<this.tags.length;n++)i(n);return a},filterAreaTags:function(){var t,e=this,a=this.templateOptions;if(this.templateSelect)for(var i=function(t){a=a.filter((function(a){return e.templateSelect.tags[t].tag!==a}))},n=0;n<this.templateSelect.tags.length;n++)i(n);if(null!==(t=this.tags)&&void 0!==t&&t.length)for(var s=function(t){a=a.filter((function(a){return e.tags[t]!==a}))},r=0;r<this.tags.length;r++)s(r);return a},addTagArray:function(){this.tags.push(null)},removeTagArray:function(t){this.tags.splice(t,1)},formatDate:function(t){return E()(t).format("llll")},searchOnTable:G.a.debounce((function(){var t=this;this.$store.dispatch("showTemplate",this.campus.campus_id).then((function(e){var a;t.templateList=ql(e.data,t.search),null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}))}),500)},created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$isLoading(!0),e.next=3,t.$store.dispatch("showTemplate",t.campus.campus_id).then((function(e){var a;t.templateList=e.data,null!==(a=t.templateList)&&void 0!==a&&a.length&&(t.totalRows=t.templateList.length)})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 3:return e.next=5,t.$store.dispatch("showTagOption").then((function(e){t.templateOptions=e.data})).catch((function(e){t.snackbarText=e+". Please contact the administrator",t.makeToast("Error","danger")}));case 5:return e.next=7,t.$isLoading(!1);case 7:case"end":return e.stop()}}),e)})))()}},Vl=zl,Hl=Object(L["a"])(Vl,Nl,Ml,!1,null,null,null),Yl=Hl.exports,Xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iframe",{staticClass:"iframe",attrs:{src:t.url+"#toolbar=0&navpanes=0&scrollbar=0"}})},Wl=[],Gl={name:"Documents",computed:Object(w["a"])({},Object(h["b"])({url:"url"}))},Jl=Gl,Ql=(a("b0eb"),Object(L["a"])(Jl,Xl,Wl,!1,null,"2cc6837a",null)),Kl=Ql.exports,Zl=void 0;i["default"].use(f["a"]);var td=[{path:"/Login",name:"Login",component:$,meta:{title:"Login",requiresAuth:!1}},{path:"/",redirect:"/dashboard",name:"Container",component:B,meta:{title:"Container",requiresAuth:!0},children:[{path:"/dashboard",name:"Dashboard",component:V,meta:{title:"Dashboard",requiresAuth:!0}},{path:"/PlanAccreditation",name:"PlanAccreditation",component:it,meta:{title:"PlanAccreditation",requiresAuth:!0,tab:[{name:"Manage Application",link:"/PlanAccreditation"}]}},{path:"/ProgramSelect",name:"ProgramSelect",component:vt,meta:{title:"ProgramSelect",requiresAuth:!0,tab:[{name:"Manage Application",link:"/PlanAccreditation"},{name:"Select Program",link:"/ProgramSelect"}]}},{path:"/ProgramInstrument",name:"ProgramInstrument",component:wt,meta:{title:"ProgramInstrument",requiresAuth:!0,tab:[{name:"Manage Application",link:"/PlanAccreditation"},{name:"Select Program",link:"/ProgramSelect"},{name:"Program Information",link:"/ProgramInstrument"}]}},{path:"/ProgramForm",name:"ProgramForm",component:It,meta:{title:"ProgramForm",requiresAuth:!0,tab:[{name:"Manage Application",link:"/PlanAccreditation"},{name:"Select Program",link:"/ProgramSelect"},{name:"Program Information",link:"/ProgramForm"}]}},{path:"/ManageApplication",name:"ManageApplication",component:jt,meta:{title:"ManageApplication",requiresAuth:!0,tab:[{name:"Manage Application",link:"/ManageApplication"}]}},{path:"/ViewPrograms",name:"ViewPrograms",component:Jt,meta:{title:"ViewPrograms",requiresAuth:!0,tab:[{name:"Manage Application",link:"/ManageApplication"},{name:"View Programs",link:"/ViewPrograms"}]}},{path:"/AssignAcceptableGapArea",name:"AssignAcceptableGapArea",component:ce,meta:{title:"AssignAcceptableGapArea",requiresAuth:!0,tab:[{name:"Manage Application",link:"/ManageApplication"},{name:"View Programs",link:"/ViewPrograms"},{name:"Assign Accreditor",link:"/AssignAcceptableGapArea"}]}},{path:"/AssignAcceptableGapParameter",name:"AssignAcceptableGapParameter",component:ge,meta:{title:"AssignAcceptableGapParameter",requiresAuth:!0,tab:[{name:"Manage Application",link:"/ManageApplication"},{name:"View Programs",link:"/ViewPrograms"},{name:"Assign Accreditor",link:"/AssignAcceptableGapArea"},{name:"Set Acceptable Gap",link:"/AssignAcceptableGapParameter"}]}},{path:"/UserRegister_SUC",name:"UserRegister_SUC",component:we,meta:{title:"UserRegister_SUC",requiresAuth:!0,tab:[{name:"Manage Users",link:"/UserRegister_SUC"}]}},{path:"/AccreditorRegister_SUC",name:"AccreditorRegister_SUC",component:Ie,meta:{title:"AccreditorRegister_SUC",requiresAuth:!0,tab:[{name:"Manage Accreditors",link:"/AccreditorRegister_SUC"}]}},{path:"/UserRegister_AACCUP",name:"UserRegister_AACCUP",component:je,meta:{title:"UserRegister_AACCUP",requiresAuth:!0,tab:[{name:"Manage Users",link:"/UserRegister_AACCUP"}]}},{path:"/AccreditorRegister_AACCUP",name:"AccreditorRegister_AACCUP",component:Ge,meta:{title:"AccreditorRegister_AACCUP",requiresAuth:!0,tab:[{name:"Manage Accreditors",link:"/AccreditorRegister_AACCUP"}]}},{path:"/TaskForceRegister",name:"TaskForceRegister",component:ia,meta:{title:"TaskForceRegister",requiresAuth:!0,tab:[{name:"Manage Users",link:"/TaskForceRegister"}]}},{path:"/Profile",name:"Profile",component:Na,meta:{title:"Profile",requiresAuth:!0}},{path:"/AccreditorProfile",name:"AccreditorProfile",component:Qa,meta:{title:"AccreditorProfile",requiresAuth:!0}},{path:"/Profile_SUC",name:"Profile_SUC",component:Na,meta:{title:"Profile_SUC",requiresAuth:!0,tab:[{name:"Manage Users",link:"/UserRegister_SUC"},{name:"Manage Account",link:"/Profile_SUC"}]}},{path:"/Profile_AACCUP",name:"Profile_AACCUP",component:Na,meta:{title:"Profile_AACCUP",requiresAuth:!0,tab:[{name:"Manage Users",link:"/UserRegister_AACCUP"},{name:"Manage Account",link:"/Profile_AACCUP"}]}},{path:"/AccreditorProfile_SUC",name:"AccreditorProfile_SUC",component:Qa,meta:{title:"AccreditorProfile_SUC",requiresAuth:!0,tab:[{name:"Manage Accreditors",link:"/AccreditorRegister_SUC"},{name:"Manage Account",link:"/AccreditorProfile_SUC"}]}},{path:"/AccreditorProfile_AACCUP",name:"AccreditorProfile_AACCUP",component:Qa,meta:{title:"AccreditorProfile_AACCUP",requiresAuth:!0,tab:[{name:"Manage Accreditors",link:"/AccreditorRegister_AACCUP"},{name:"Manage Account",link:"/AccreditorProfile_AACCUP"}]}},{path:"/TaskForceProfile",name:"TaskForceProfile",component:Na,meta:{title:"TaskForceProfile",requiresAuth:!0,tab:[{name:"Manage Users",link:"/TaskForceRegister"},{name:"Manage Campus",link:"/TaskForceProfile"}]}},{path:"/ManageSUC",name:"ManageSUC",component:si,meta:{title:"ManageSUC",requiresAuth:!0,tab:[{name:"Manage SUC",link:"/ManageSUC"}]}},{path:"/ManageCampus",name:"ManageCampus",component:pi,meta:{title:"ManageCampus",requiresAuth:!0,tab:[{name:"Manage SUC",link:"/ManageSUC"},{name:"Manage Campus",link:"/ManageCampus"}]}},{path:"/ManageOffice",name:"ManageOffice",component:ki,meta:{title:"ManageOffice",requiresAuth:!0,tab:[{name:"Manage Offices",link:"/ManageOffice"}]}},{path:"/AssignUploads",name:"AssignUploads",component:en,meta:{title:"AssignUploads",requiresAuth:!0,tab:[{name:"Manage Offices",link:"/ManageOffice"},{name:"Assign Uploads",link:"/AssignUploads"}]}},{path:"/AssignUploadedDocuments",name:"AssignUploadedDocuments",component:dn,meta:{title:"AssignUploadedDocuments",requiresAuth:!0,tab:[{name:"Manage Offices",link:"/ManageOffice"},{name:"Assign Uploads",link:"/AssignUploads"},{name:"Upload Documents",link:"/AssignUploadedDocuments"}]}},{path:"/ManageSupportUploads",name:"ManageSupportUploads",component:Ai,meta:{title:"ManageSupportUploads",requiresAuth:!0,tab:[{name:"Manage Documents",link:"/ManageSupportUploads"}]}},{path:"/ManageTaskUploads",name:"ManageTaskUploads",component:As,meta:{title:"ManageTaskUploads",requiresAuth:!0,tab:[{name:"Manage Documents",link:"/ManageTaskUploads"}]}},{path:"/UploadedDocuments",name:"UploadedDocuments",component:Fi,meta:{title:"UploadedDocuments",requiresAuth:!0,tab:[{name:"Manage Documents",link:"ManageUploads"},{name:"Uploaded Documents",link:"/UploadedDocuments"}]}},{path:"/ManageBestPractice",name:"ManageBestPractice",component:Xi,meta:{title:"ManageBestPractice",requiresAuth:!0}},{path:"/ManageTaskBestPractice",name:"ManageTaskBestPractice",component:Ns,meta:{title:"ManageTaskBestPractice",requiresAuth:!0}},{path:"/ManageProgram",name:"ManageProgram",component:bn,meta:{title:"ManageProgram",requiresAuth:!0}},{path:"/ManageInstrumentProgram",name:"ManageInstrumentProgram",component:Rn,meta:{title:"ManageInstrumentProgram",requiresAuth:!0,tab:[{name:"Manage Instruments",link:"/ManageInstrumentProgram"}]}},{path:"/ManageInstrument",name:"ManageInstrument",component:Bn,meta:{title:"ManageInstrument",requiresAuth:!0,tab:[{name:"Manage Instruments",link:"/ManageInstrumentProgram"},{name:"Areas",link:"/ManageInstrument"}]}},{path:"/ManageParameters",name:"ManageParameters",component:Vn,meta:{title:"ManageParameters",requiresAuth:!0,tab:[{name:"Manage Instruments",link:"/ManageInstrumentProgram"},{name:"Areas",link:"/ManageInstrument"},{name:"Parameters",link:"/ManageParameters"}]}},{path:"/ShowStatements",name:"ShowStatements",component:es,meta:{title:"ShowStatements",requiresAuth:!0,tab:[{name:"Manage MSI",link:"/ManageInstrumentProgram"},{name:"Areas",link:"/ManageInstrument"},{name:"Parameters",link:"/ManageParameters"},{name:"Create MSI",link:"/ShowStatements"}]}},{path:"/ShowStatementForms",name:"ShowStatementForms",component:ms,meta:{title:"ShowStatementForms",requiresAuth:!0,tab:[{name:"Manage MSI",link:"/ManageInstrumentProgram"},{name:"Create MSI",link:"/ShowStatementForms"}]}},{path:"/ShowStatementPSV",name:"ShowStatementPSV",component:ks,meta:{title:"ShowStatementPSV",requiresAuth:!0,tab:[{name:"Manage MSI",link:"/ManageInstrumentProgram"},{name:"Create MSI",link:"/ShowStatementPSV"}]}},{path:"/TaskForceHeadTask",name:"TaskForceHeadTask",component:Xs,meta:{title:"TaskForceHeadTask",requiresAuth:!0,tab:[{name:"Programs",link:"/TaskForceHeadTask"}]}},{path:"/TaskForceTask",name:"TaskForceTask",component:er,meta:{title:"TaskForceTask",requiresAuth:!0,tab:[{name:"Programs",link:"/TaskForceTask"}]}},{path:"/TaskForceArea",name:"TaskForceArea",component:lr,meta:{title:"TaskForceArea",requiresAuth:!0,tab:[{name:"Programs",link:"TaskForce"},{name:"Areas",link:"/TaskForceArea"}]}},{path:"/TaskForceParameter",name:"TaskForceParameter",component:$r,meta:{title:"TaskForceParameter",requiresAuth:!0,tab:[{name:"Programs",link:"TaskForce"},{name:"Areas",link:"/TaskForceArea"},{name:"Parameters",link:"/TaskForceParameter"}]}},{path:"/AttachFileStatement",name:"AttachFileStatement",component:Yr,meta:{title:"AttachFileStatement",requiresAuth:!0,tab:[{name:"Programs",link:"TaskForce"},{name:"Areas",link:"/TaskForceArea"},{name:"Parameters",link:"/TaskForceParameter"},{name:"MSI - Attach File",link:"/AttachFileStatement"}]}},{path:"/AttachFileForm",name:"AttachFileForm",component:so,meta:{title:"AttachFileForm",requiresAuth:!0,tab:[{name:"Programs",link:"TaskForce"},{name:"Areas",link:"/TaskForceArea"},{name:"MSI - Attach File",link:"/AttachFileForm"}]}},{path:"/AttachFilePSV",name:"AttachFilePSV",component:_o,meta:{title:"AttachFilePSV",requiresAuth:!0,tab:[{name:"Programs",link:"TaskForce"},{name:"Areas",link:"/TaskForceArea"},{name:"MSI - Attach File",link:"/AttachFilePSV"}]}},{path:"/AccreditationRequests",name:"AccreditationRequests",component:Oo,meta:{title:"AccreditationRequests",requiresAuth:!0}},{path:"/InternalAccreditationTask",name:"InternalAccreditationTask",component:Po,meta:{title:"InternalAccreditationTask",requiresAuth:!0,tab:[{name:"My Accreditation",link:"/InternalAccreditationTask"}]}},{path:"/AccreditationTask",name:"AccreditationTask",component:nc,meta:{title:"AccreditationTask",requiresAuth:!0,tab:[{name:"My Accreditation",link:"/AccreditationTask"}]}},{path:"/AccreditationProgramOC",name:"AccreditationProgramOC",component:uc,meta:{title:"AccreditationProgramOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"}]}},{path:"/AccreditationAreaOC",name:"AccreditationAreaOC",component:yc,meta:{title:"AccreditationAreaOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"},{name:"Areas",link:"/AccreditationAreaOC"}]}},{path:"/AccreditationParameterOC",name:"AccreditationParameterOC",component:tl,meta:{title:"AccreditationParameterOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"},{name:"Areas",link:"/AccreditationAreaOC"},{name:"Parameters",link:"/AccreditationParameterOC"}]}},{path:"/RateStatementOC",name:"RateStatementOC",component:ul,meta:{title:"RateStatementOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"},{name:"Areas",link:"/AccreditationAreaOC"},{name:"Parameters",link:"/AccreditationParameterOC"},{name:"MSI - Rate",link:"/RateStatementOC"}]}},{path:"/RateStatementFormOC",name:"RateStatementFormOC",component:wl,meta:{title:"RateStatementFormOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"},{name:"Areas",link:"/AccreditationAreaOC"},{name:"MSI - Rate",link:"/RateStatementFormOC"}]}},{path:"/RateStatementPSVOC",name:"RateStatementPSVOC",component:Bl,meta:{title:"RateStatementPSVOC",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Programs",link:"/AccreditationProgramOC"},{name:"Areas",link:"/AccreditationAreaOC"},{name:"MSI - Rate",link:"/RateStatementPSVOC"}]}},{path:"/AccreditationArea",name:"AccreditationArea",component:Yc,meta:{title:"AccreditationArea",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Areas",link:"/AccreditationArea"}]}},{path:"/AccreditationParameter",name:"AccreditationParameter",component:tl,meta:{title:"AccreditationParameter",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Areas",link:"/AccreditationArea"},{name:"Parameters",link:"/AccreditationParameter"}]}},{path:"/RateStatement",name:"RateStatement",component:ul,meta:{title:"RateStatement",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Areas",link:"/AccreditationArea"},{name:"Parameters",link:"/AccreditationParameter"},{name:"MSI - Rate",link:"/RateStatement"}]}},{path:"/RateStatementForm",name:"RateStatementForm",component:wl,meta:{title:"RateStatementForm",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Areas",link:"/AccreditationArea"},{name:"MSI - Rate",link:"/RateStatementForm"}]}},{path:"/RateStatementPSV",name:"RateStatementPSV",component:Bl,meta:{title:"RateStatementPSV",requiresAuth:!0,tab:[{name:"My Accreditation",link:"Accreditor"},{name:"Areas",link:"/AccreditationArea"},{name:"MSI - Rate",link:"/RateStatementPSV"}]}},{path:"/ManageDocumentTemplate",name:"ManageDocumentTemplate",component:Yl,meta:{title:"ManageDocumentTemplate",requiresAuth:!0}}]},{path:"/Documents",name:"Documents",component:Kl,meta:{title:"Documents",requiresAuth:!1}}],ed=new f["a"]({mode:"history",base:"/app",routes:td});ed.beforeEach((function(t,e,a){return t.meta.requiresAuth?localStorage.getItem("jwt-auth-token")&&localStorage.getItem("campus")?Object(p["a"])(localStorage.getItem("jwt-auth-token"))&&null===localStorage.getItem("jwt-auth-token")?ed.replace("/login"):(x.dispatch("checkUser").catch((function(){x.dispatch("logout"),ed.replace("/login"),Zl.$bvToast.toast("Your session has expired.",{title:"Session Expired",variant:"danger",toaster:"b-toaster-bottom-left",solid:!0,autoHideDelay:3e3})})),a()):ed.replace("/login"):a()}));var ad=ed,id=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},nd=[],sd=(a("5c0b"),{}),rd=Object(L["a"])(sd,id,nd,!1,null,null,null),od=rd.exports;e["default"]=function(t,e){return u.a.saveAs(t,e)};i["default"].use(r["a"]),i["default"].use(o["a"]),i["default"].use(s.a),i["default"].use(c["a"],{bg:"#1f1a4fad",icon:"spinner",size:3,icon_color:"white"}),i["default"].component("multiselect",d.a),window.axios=a("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.interceptors.request.use((function(t){return t.headers.common["Authorization"]="Bearer ".concat(localStorage.getItem("jwt-auth-token")),t}),(function(t){return Promise.reject(t)})),window.axios.defaults.baseURL="https://aoms.ustp.edu.ph/core/api/v1",i["default"].config.productionTip=!1,new i["default"]({router:ad,store:x,render:function(t){return t(od)}}).$mount("#app")},"56e0":function(t,e,a){},5777:function(t,e,a){"use strict";a("7829")},"5c0b":function(t,e,a){"use strict";a("5202")},"712f":function(t,e,a){},7362:function(t,e,a){},7829:function(t,e,a){},"78b8":function(t,e,a){},"8e94":function(t,e,a){"use strict";a("2129")},"90c9":function(t,e,a){"use strict";a("10dc")},"9e46":function(t,e,a){},a5a0:function(t,e,a){"use strict";a("c9d0")},aa0b:function(t,e,a){"use strict";a("acf2")},acf2:function(t,e,a){},b0eb:function(t,e,a){"use strict";a("09e4")},c9d0:function(t,e,a){}});
//# sourceMappingURL=app.37e7d9df.js.map